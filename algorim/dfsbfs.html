<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="description" content="给定一个图，我们可以使用O(V+E)DFS（深度优先搜索）或BFS（广度优先搜索）算法来遍历该图并探索该图的特征/属性。每种算法都有自己的特点、特征和副作用，我们将在这个可视化中探讨。这个可视化的内容很丰富，有很多DFS和BFS的变体（都以O(V+E)运行），比如：拓扑排序算法（包括DFS和BFS/Kahn的算法版本），二分图检查器算法（包括DFS和BFS版本），切割顶点和桥的查找算法，强连通分量（SCC）查找算法(Kosaraju的和Tarjan的版本)，以及2-SAT检查算法。">
<meta name="keywords" content="图的遍历 深度 广度优先搜索 有向 无向 DFS BFS 拓扑排序 拓扑排序 二分图检查 &lt;span style=&quot;white-space: normal;&quot;&gt;Tarjan Kosaraju 2-SAT&lt;/span&gt; ">
 
<meta name="csrf-token" content="el7PTQKlc6G1wELehqMAYwxe5eBzXzWtdQy4je5h">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">
<meta property="og:image" content="https://visualgo.net/img/png/dfsbfs.png">
<title>图的遍历（深度/广度优先搜索） - VisuAlgo</title>
<link rel="icon" href="https://visualgo.net/img/favicon.png" type="image/x-icon">
<link rel="shortcut icon" href="https://visualgo.net/img/favicon.png" type="image/x-icon">
<link rel="apple-touch-icon" href="https://visualgo.net/img/favicon.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://visualgo.net/img/favicon.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://visualgo.net/img/favicon.png">
<link rel="stylesheet" href="https://visualgo.net/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://visualgo.net/fonts/silkscreen/stylesheet.css">
<link rel="stylesheet" type="text/css" href="https://visualgo.net/css/common-1.0.2.css">
<link rel="stylesheet" href="https://visualgo.net/css/viz-1.0.4.css">
<link rel="stylesheet" href="https://visualgo.net/css/visual.css">
<link rel="stylesheet" href="https://visualgo.net/css/drawgraph-1.0.2.css">
<style>
      #e-lecture {
        top: 45px;
        right: 130px;
        width: 400px;
        display: block;
        background: none;
        /*overflow: normal;*/
        white-space: normal;
        text-align: right;
        color: black; font-weight: bold; font-size: 20px;
        z-index: 8001;
      }
      #e-lecture-timeline {
        top: 80px;
        right: 130px;
        display: flex;
        position: absolute;
        z-index: 10000;
      }
      .e-lecture-timeline-slide {
        height: 5px;
        width: 2px;
        background: black;
        float: left;
      }
      .e-lecture-timeline-checkpoint {
        height: 20px;
        width: 3px;
        margin-left: 2px;
        margin-top: -7.5px;
        background: black;
        float: left;
      }

      #e-lecture-f1map {
        top: 102.5px;
        right: 130px;
        display: flex;
        position: absolute;
        z-index: 10000;
      }

      .e-lecture-f1map-sector {
        flex-grow: 1;
        background: black;
        float: left;
        height: 5px;
        margin-right: 1px;
      }

      .e-lecture-f1map-sector:last-child {
        margin-right: 0px;
      }

      .electure-prev, .electure-next { /* force update, copied from viz.css */
        position: absolute;
        /* bottom: -12px; */
        top: -20px;
        /*bottom: '';*/
        padding: 3px 8px;
        background: #999;
        color: white;
        cursor: pointer;
        border-radius: 2px;
      }

      .electure-read-status {
        position: absolute;
        bottom: 4px;
        right: 4px;
        font-size: 14px;
        cursor: default;
        color: #00FF7F;
        display: none;
      }

      .electure-prev {
        left: -10px;
        /* right: 30px; */
      }
      .electure-next {
        right: -10px;
        color: white;
      }
      .electure-print, .electure-end {
        position: fixed;
        top: 45px;
        height: 20px;
        width: 17px;
        right: 80px;
        padding: 3px 8px;
        background: #999;
        color: white;
        cursor: pointer;
        border-radius: 2px;
        text-align: center;
      }
      .electure-end {
        right: 45px; /* beside the X */
      }

      #change-lang-popup {
        position: fixed;
        background: green;
        left: 40px;
        top: 50px;
        width: 250px;
        height: 125px;
        border: transparent;
        border-radius: 10px;
        padding: 10px 20px;
        z-index: 9000;
      }

      #change-lang-popup p {
        font-size: medium;
        color: white;
        line-height: 2;
        font-family: "PT Sans", sans-serif;
      }

      #change-lang-popup-btn {
        text-decoration: underline;
        margin-left: 50px;
      }

      #change-lang-popup-btn:hover {
        cursor: pointer;
      }

      #rotateDeviceOverlay {
        z-index: 10000;
        width: 90%;
        height: 100%;
        align-items: center;
        justify-content: center;
        background-color: white;
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        right: 0;
        display: flex;
        padding-right: 5%;
        padding-left: 5%;
        overflow: hidden;
      }

      #mobile-playback-overlay {
        z-index: 9600;
        width: 90%;
        height: 100%;
        align-items: center;
        justify-content: center;
        gap: 100px;
        background-color: black;
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        right: 0;
        display: flex;
        padding-right: 5%;
        padding-left: 5%;
        opacity: 0.3;
        overflow: hidden;
      }
      .mobile-playback-item {
        min-width: 2.5%;
        max-width: 35px;
      }
      .mobile-playback-item img {
        width: 100%
      }
      .mobile-playback-label {
        opacity: 0;
        color: white;
        font-size: 25px;
        font-weight: bold;
        min-width: 1.5%;
        max-width: 25px;
        transition: opacity 0.25s ease-out;
        -webkit-backface-visibility: hidden;
      }
      #mobile-playback-rewind-label {
        margin-right: -70px;
      }
      #mobile-playback-forward-label {
        margin-left: -70px;
      }
      #viz-speed-value {
          font-size: 15px;
          width: 10%;
      }

      #scale {
        position: fixed;
        left: 5px;
      }
    </style>
<style>
/*
.directedChange { bottom: 200px; }
#directedChange-err { padding: 5px 8px; }


.draw { bottom: 308px; }
.examples { bottom: 254px; }
.dfs { bottom: 227px; }
.bfs { bottom: 200px; }
.topo { bottom : 173px; }
.bipartite { bottom: 146px; }
.bridge { bottom: 119px; }
.scc { bottom: 92px;}
.twosat { bottom: 65px; }
*/

#twosat-board {
  height: 470px;
  width: 600px;
  margin-left: -300px;
  margin-top: -235px;
}
</style>
<style>
/* copied here from common.css (perhaps need to use version numbering) until caches worldwide settles */
#reload-mobile-popup, #message-popup { /* #gdpr-popup, */
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  min-width: 320px;
  bottom: 62px;
  height: 300px;
  background-color: #0275d8;
  border-radius: 15px;
  padding: 30px 40px;
  z-index: 9500;
}
#reload-mobile-popup {
  background-color: green;
  height: 200px;
}
#message-popup {
  z-index: 9000;
  width: 40%;
  height: 130px;
  background-color: #d9534f;
}

#reload-mobile-popup p, #message-popup p { /* #gdpr-popup p, */
  font-size: large;
  color: white;
  line-height: 2;
  font-family: "PT Sans", sans-serif;
}

#reload-mobile-popup .inner-button, #message-popup .inner-button { /* #gdpr-popup .gdpr-button, */
  border: white solid 2px;
  border-radius: 4px;
  font-weight: bold;
  font-size: x-large;
  padding: 2px 8px;
  color: white;
  width: 90px;
  text-align: center;
  position: absolute;
  letter-spacing: 1px;
  text-decoration: none;
  cursor: pointer;
}

#gdpr-accept, #reload-mobile-button, #dismiss-message-btn {
  bottom: 30px;
  right: 40px;
}

#gdpr-reject, #cancel-reload-mobile-button {
  bottom: 30px;
  right: 170px;
}
    </style>
</head>
<body>
<div id="body-container" style="display: flex; flex-direction: column; min-height: 100vh;">
<style>
  #topbar {
    background-color: rgb(0,0,0);
    font-family: "PT Sans", sans-serif;
    font-size: 13px;
    height: 40px;

    padding-left: 40px;
    padding-right: 40px;

    display: flex;
    flex-wrap: wrap;
    align-items: center;
    position: relative;
    justify-content: flex-start;
  }

  #topbar a:hover {
    text-decoration: none;
  }

  #account-dropdown-btn {
    color: #198754;
    font-size: 1rem;
    padding: 0 0.5rem;
    margin-left: 0.5rem;

    border: 2px solid;
    border-radius: 0.25rem;
    height: 24px;
    line-height: 1.5;
  }

  #account-dropdown-btn:hover {
    color: #0a58ca!important;
    border-color: #198754;
    text-decoration: none;
  }

  #login-button {
    color: #198754;
    font-size: 1rem;
    padding: 0 0.5rem;
    margin-left: 0.5rem;

    border: 2px solid;
    border-radius: 0.25rem;

    height: 24px;
    line-height: 1.5;
  }

  #login-button a:hover {
    color: #0a58ca!important;
    text-decoration: none;
  }

  #account-dropdown-menu {
    display: none;
    position: absolute;
    background-color: white;
    z-index: 1000;
    min-width: 10rem;
    padding: 0.5rem 0;
    margin: 0;
    font-size: 1rem;
    color: rgb(0,0,0);
    text-align: left;
    list-style: none;
    background-clip: padding-box;
    border: 1px solid rgba(0,0,0,.15);
    border-radius: 0.25rem;
    top: 45px;
    right: 40px;
    line-height: 1.5;
  }

  .account-dropdown-item {
    display: block;
    width: auto;
    padding: 0.25rem 1rem;
    clear: both;
    font-weight: 400;
    color: rgb(0,0,0);
    text-align: inherit;
    text-decoration: none;
    white-space: nowrap;
    background-color: transparent;
    border: 0;
    height: 24px;
    font-family: SilkscreenNormal, sans-serif;
  }

  .account-dropdown-item:hover {
    background-color: #e9ecef;
    color: #0a58ca;
    text-decoration: none;
  }
</style>
<nav id="topbar">
<span style="margin-right: 0.25rem">
<a href="https://www.comp.nus.edu.sg/~stevenha" style="text-decoration: none; color: white">
<span class="colour" style="border: 1px solid; border-color: #198754!important; border-radius: .25rem!important">7</span>
</a>
<a href="https://visualgo.net" style="font-family: SilkscreenNormal,sans-serif; font-size: 20px; margin-left: 4px;">
<span style="color: white">Visu</span><span class="colour">Algo</span><span style="font-size: 40%; color: white">.net</span>
</a>
<span style="color: white">/</span>
<select id="Language" class="select2-dropdown" onchange="changeURL()">
<option value="en">en</option>
<option value="zh" selected>zh</option>
<option value="id">id</option>
</select>
<span style="color: white; font-family: monospace">/dfsbfs</span>
</span>
<span style="max-height: 30px">
<span id="title">
<a id="title-dfsbfs" class="selected-viz">图遍历（DFS / BFS）<br></a>
</span>
</span>
<span style="max-height: 30px; background-color:rgb(0,0,0)!important; color: white; margin-left: auto">
<div id="mode-menu">
<div id="mode-button" style="background-color: rgb(0,0,0)!important;" title="exploration">探索模式 &#9663;</div>
<div id="other-modes" style="background-color: rgb(0,0,0)!important; padding-top: 11px">
<a title="e-Lecture" style="background-color: rgb(0,0,0)!important;">电子讲座模式</a>
</div>
</div>
</span>
<span id="login-button" style="font-family: SilkscreenNormal,sans-serif">
<a href="https://visualgo.net/login">Login</a>
</span>
</nav>
<ul id="account-dropdown-menu">
<li><a class="account-dropdown-item" href="https://visualgo.net/profile">Profile</a></li>
<li><a class="account-dropdown-item" href="https://visualgo.net/training">Training</a></li>
<li><a class="account-dropdown-item" href="https://visualgo.net/tests">Tests</a></li>
<li><a class="account-dropdown-item" href="https://visualgo.net/logout">Log Out</a></li>
</ul>
<script>
  function changeURL() {
    let URL = window.location.href.split('/');
    URL[3] = document.getElementById("Language").value;
    window.location.assign(URL.join('/'));
  }

  function changeDefaultLanguageAndURL() {
    let URL = window.location.href.split('/');
    let val = document.getElementById("Language").value;
    URL[3] = val;

    let data = {
      '_token': "el7PTQKlc6G1wELehqMAYwxe5eBzXzWtdQy4je5h",
      'lang'  : val
    }
    $.post('https://visualgo.net/changeLanguage', data, function (res, status) {
      if(res['status'] === 'success') {
        window.location.assign(URL.join('/'));
      } else if (res['status'] === 'failed') {
        alert(res['message']);
      } else {
        alert('An unknown error occurred');
      }
    })
  }
</script>
<div id="dark-overlay"></div>
<div id="main-content-container" style="flex: 1">

<div id="mobile-playback-overlay" class="playing" style="display: none;">
<span id="mobile-playback-rewind-label" class="mobile-playback-label">-7</span>
<span id="mobile-playback-rewind" class="mobile-playback-item" onclick="mobilePlaybackRewind()"><img src="https://visualgo.net/img/prevFrame.png" alt="rewind 7 frames"></span>
<span id="mobile-playback-pause" class="mobile-playback-item" onclick="mobilePlaybackPauseOrPlay()"><img src="https://visualgo.net/img/pause.png" alt="pause"></span>
<span id="mobile-playback-play" class="mobile-playback-item" style="display: none;" onclick="mobilePlaybackPauseOrPlay()"><img src="https://visualgo.net/img/play.png" alt="play"></span>
<span id="mobile-playback-forward" class="mobile-playback-item" onclick="mobilePlaybackForward()"><img src="https://visualgo.net/img/nextFrame.png" alt="forward 7 frames"></span>
<span id="mobile-playback-forward-label" class="mobile-playback-label">+7</span>
</div>
<div id="status" class="panel"><p></p></div>
<div id="status-hide" class="panel-hide"><img src="https://visualgo.net/img/arrow_white_right.png" alt=">" title="show/hide status panel" /></div>
<div id="codetrace" class="panel">
<p id="code1" style="padding-top: 10px;"></p>
<p id="code2"></p>
<p id="code3"></p>
<p id="code4"></p>
<p id="code5"></p>
<p id="code6"></p>
<p id="code7" style="padding-bottom: 10px;"></p>
</div>
<div id="codetrace-hide" class="panel-hide"><img src="https://visualgo.net/img/arrow_white_right.png" alt=">" title="show/hide codetrace panel" /></div>
<div id="left-bar"></div>
<div id="right-bar"></div>
<div id="media-controls">
<div id="speed-control"><div id="speed-input"></div><div id="viz-speed-value">1x</div></div>
<span id="go-to-beginning" class="media-control-button" title="go to beginning" onclick="goToBeginning()"><img src="https://visualgo.net/img/goToBeginning.png" alt="go to beginning"></span>
<span id="previous" class="media-control-button" title="step backward" onclick="stepBackward()"><img src="https://visualgo.net/img/prevFrame.png" alt="previous frame"></span>
<span id="pause" class="media-control-button" title="pause" onclick="pause()"><img src="https://visualgo.net/img/pause.png" alt="pause"></span>
<span id="play" class="media-control-button" title="play" onclick="play()"><img src="https://visualgo.net/img/play.png" alt="play"></span>
<span id="next" class="media-control-button" title="step forward" onclick="stepForward()"><img src="https://visualgo.net/img/nextFrame.png" alt="next frame"></span>
<span id="go-to-end" class="media-control-button" title="go to end" onclick="goToEnd()"><img src="https://visualgo.net/img/goToEnd.png" alt="go to end"></span>
<div id="progress-bar" class="media-control-button"></div>
</div>
<div id="viz">
<p id="info" "></p>
</div>
<div id="current-action" class="panel"></div>
<div id="e-lecture" class="panel"></div> 
<div id="e-lecture-timeline"></div>
<div id="e-lecture-f1map">
<div class="e-lecture-f1map-sector" sectorNo="1"></div>
<div class="e-lecture-f1map-sector" sectorNo="2"></div>
<div class="e-lecture-f1map-sector" sectorNo="3"></div>
</div>
<div id="overlay" hidden onclick="end_eLecture()"> 
<div id="electure-dropdown">
<select class="lecture-dropdown" style="width:100%">
<option value="1">1. DFS &amp; BFS</option>
<option value="2">2. 可视化</option>
<option value="3">3. 指定一个输入图</option>
<option value="4">4. 概括</option>
<option value="4-1">&nbsp;&nbsp;&nbsp;4-1. 二叉树遍历 - 源 = 根</option>
<option value="4-2">&nbsp;&nbsp;&nbsp;4-2. 二叉树遍历 - 前序-/中序-/后序-遍历</option>
<option value="4-3">&nbsp;&nbsp;&nbsp;4-3. 答案</option>
<option value="4-4">&nbsp;&nbsp;&nbsp;4-4. 二叉树遍历 - 无环</option>
<option value="4-5">&nbsp;&nbsp;&nbsp;4-5. 一般图的问题</option>
<option value="5">5. DFS</option>
<option value="5-1">&nbsp;&nbsp;&nbsp;5-1. 比喻</option>
<option value="5-2">&nbsp;&nbsp;&nbsp;5-2. 尝试所有选项</option>
<option value="5-3">&nbsp;&nbsp;&nbsp;5-3. 避免循环</option>
<option value="5-4">&nbsp;&nbsp;&nbsp;5-4. 记住这个路径</option>
<option value="5-5">&nbsp;&nbsp;&nbsp;5-5. 动手实例</option>
<option value="5-6">&nbsp;&nbsp;&nbsp;5-6. O(V+E) 时间复杂度</option>
<option value="5-7">&nbsp;&nbsp;&nbsp;5-7. 始终是 O(V+E) ？</option>
<option value="5-8">&nbsp;&nbsp;&nbsp;5-8. 答案</option>
<option value="6">6. BFS</option>
<option value="6-1">&nbsp;&nbsp;&nbsp;6-1. 比喻</option>
<option value="6-2">&nbsp;&nbsp;&nbsp;6-2. 尝试全部，避免循环，记住路径</option>
<option value="6-3">&nbsp;&nbsp;&nbsp;6-3. 动手实例</option>
<option value="6-4">&nbsp;&nbsp;&nbsp;6-4. O(V+E) 时间复杂度</option>
<option value="7">7. 简单的 DFS/BFS 应用</option>
<option value="7-1">&nbsp;&nbsp;&nbsp;7-1. 可达性测试</option>
<option value="7-2">&nbsp;&nbsp;&nbsp;7-2. 打印遍历路径</option>
<option value="7-3">&nbsp;&nbsp;&nbsp;7-3. 识别一个连接分量（CC）</option>
<option value="7-4">&nbsp;&nbsp;&nbsp;7-4. 计算 CC 的数量/ 标记 CC</option>
<option value="7-5">&nbsp;&nbsp;&nbsp;7-5. 等等，时间复杂性是什么？</option>
<option value="7-6">&nbsp;&nbsp;&nbsp;7-6. 答案</option>
<option value="7-7">&nbsp;&nbsp;&nbsp;7-7. 检测圈 - 第一部分</option>
<option value="7-8">&nbsp;&nbsp;&nbsp;7-8. 探测圈 - 第2部分</option>
<option value="7-9">&nbsp;&nbsp;&nbsp;7-9. 实践例子（细节）</option>
<option value="7-10">&nbsp;&nbsp;&nbsp;7-10. 拓扑排序 - 定义</option>
<option value="7-11">&nbsp;&nbsp;&nbsp;7-11. 拓扑排序</option>
<option value="8">8. 更多高级的 DFS/BFS 的应用</option>
<option value="9">9. 二分图检查</option>
<option value="10">10. 查找切割节点 &amp; 桥</option>
<option value="11">11. 找到强联通分量</option>
<option value="12">12. 2-SAT Checker 算法</option>
<option value="13">13. 哪一个更好？</option>
<option value="13-1">&nbsp;&nbsp;&nbsp;13-1. 答案</option>
<option value="14">14. 额外的</option>
<option value="14-1">&nbsp;&nbsp;&nbsp;14-1. 在线测试</option>
<option value="14-2">&nbsp;&nbsp;&nbsp;14-2. 在线评判练习</option>
<option value="14-3">&nbsp;&nbsp;&nbsp;14-3. 讨论</option>
</select>
</div>
<div class="electure-print" title="Print the e-Lecture note" style="z-index=8001;">&#9997;</div>
<div class="electure-end" title="Close the e-Lecture mode" style="z-index=8001;">&#10008;</div>
</div>
<div id="dropdown-temp-holder" hidden></div>

<div id="electure-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
给定一个图，我们可以使用O(<b>V</b>+<b>E</b>)DFS（深度优先搜索）或BFS（广度优先搜索）算法来遍历该图并探索该图的特征/属性。每种算法都有自己的特点、特征和副作用，我们将在这个可视化中探讨。<br>这个可视化的内容很丰富，有很多DFS和BFS的变体（都以O(<b>V</b>+<b>E</b>)运行），比如：<br><ol><li>拓扑排序算法（包括DFS和BFS/Kahn的算法版本），</li><li>二分图检查器算法（包括DFS和BFS版本），</li><li>切割顶点和桥的查找算法，</li><li>强连通分量（SCC）查找算法<br>(Kosaraju的和Tarjan的版本)，</li><li>以及2-SAT检查算法。</li></ol>
<div class="electure-addition">
<hr>
<p><b>Remarks</b>: By default, we show e-Lecture Mode for first time (or non logged-in) visitor.<br>
If you are an NUS student and a repeat visitor, please <a href="https://visualgo.net/login"><u>login</u></a>.</p>
</div>
<div class="electure-next" data-nextid="2" title="Go to the next slide 2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-2" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>当所选的图遍历算法运行时，将在次处显示动画。</p><div><span lang="zh-CN"><br></span></div><div><span lang="zh-CN">我们使用节点 + 边颜色（颜色方案将很快阐述），偶尔使用节点下的额外的文本（</span><span style="color: rgb(255, 0, 0);">红色字体</span>）来突出显示更改。</div><div><span lang="zh-CN"><br></span></div><div><span lang="zh-CN">所有的图遍历算法都适用于有向图（这是默认设置，其中每个边都有一个箭头指示其反向），但是</span> <b>Bipartite Graph Check</b> 算法和 <b>Cut Vertex &amp; Bridge</b> 查找算法 需要无向图（通过这种可视化，转换是自动完成的）。</div>
<div class="electure-addition">
<hr>
<p>Pro-tip 1: Since you are not <a href="https://visualgo.net/login"><u>logged-in</u></a>, you may be a first time visitor (or not an NUS student) who are not aware of the following keyboard shortcuts to navigate this e-Lecture mode: <b>[PageDown]</b>/<b>[PageUp]</b> to go to the next/previous slide, respectively, (and if the drop-down box is highlighted, you can also use <b>[&rarr; or &darr;/&larr; or &uarr;]</b> to do the same),and <b>[Esc]</b> to toggle between this e-Lecture mode and exploration mode.</p>
</div>
<div class="electure-prev" data-nextid="1" title="Go to the previous slide 1">&larr;</div>
<div class="electure-next" data-nextid="3" title="Go to the next slide 3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-3" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p>There are two different sources for specifying an input graph:</p><ol><li><b>Edit Graph</b>: You can draw a new graph or edit an example unweighted directed graph as the input graph (to draw bidirectional edge (u, v), you can draw two directed edges u → v and v → u).</li><li><b>Example Graphs</b>: You can select from the list of our selected example graphs to get you started.</li></ol>
<div class="electure-addition">
<hr>
<p>Pro-tip 2: We designed this visualization and this e-Lecture mode to look good on 1366x768 resolution <b>or larger</b> (typical modern laptop resolution in 2021). We recommend using Google Chrome to access VisuAlgo. Go to full screen mode (<b>F11</b>) to enjoy this setup. However, you can use zoom-in (<b>Ctrl +</b>) or zoom-out (<b>Ctrl -</b>) to calibrate this.</p>
</div>
<div class="electure-prev" data-nextid="2" title="Go to the previous slide 2">&larr;</div>
<div class="electure-next" data-nextid="4" title="Go to the next slide 4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4" class="electure-dialog" style="top:140px;right:60px;width:500px;">
<p>如果您还<b>没有</b>探索/掌握 <a href="./heap"><u>Binary Heap</u></a> 的概念，尤其是 <a href="./bst"><u>Binary Search Tree</u></a>, ，我们建议您首先探索它们，因为遍历一个（二叉）树结构比遍历一般图简单得多。</p><input class="msq-answer" id="msq-answer-14" value="60,63,64" hidden><p>Quiz: <b>Mini pre-requisite check. What are the Pre-/In-/Post-order traversal of the binary tree shown (root = vertex 0), left and right child are as drawn?</b></p><input type="checkbox" class="msq-choice" id="msq-14-choice-60"> Pre = 0, 1, 2, 3, 4<br><input type="checkbox" class="msq-choice" id="msq-14-choice-63"> In = 1, 0, 3, 2, 4<br><input type="checkbox" class="msq-choice" id="msq-14-choice-64"> Post = 1, 3, 4, 2, 0<br><input type="checkbox" class="msq-choice" id="msq-14-choice-61"> Pre = 0, 2, 4, 3, 1<br><input type="checkbox" class="msq-choice" id="msq-14-choice-65"> Post = 4, 3, 2, 1, 0<br><input type="checkbox" class="msq-choice" id="msq-14-choice-62"> In = 4, 2, 3, 0, 1<br><button class="msq-submit" id="submit-14">Submit</button> <span id="answer-status-14"></span>
<div class="electure-addition">
<hr>
<p>Pro-tip 3: Other than using the typical media UI at the bottom of the page, you can also control the animation playback using keyboard shortcuts (in Exploration Mode): <b>Spacebar</b> to play/pause/replay the animation, <b>&larr;</b>/<b>&rarr;</b> to step the animation backwards/forwards, respectively, and <b>-</b>/<b>+</b> to decrease/increase the animation speed, respectively.</p>
</div>
<div class="electure-prev" data-nextid="3" title="Go to the previous slide 3">&larr;</div>
<div class="electure-next" data-nextid="4-1" title="Go to the next slide 4-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4-1" class="electure-dialog" style="top:140px;right:60px;width:500px;">
我们通常从（二叉）树的最重要的顶点：<b>根</b>节点 开始。<div>如果给定的树不是“rooted”（参见示例图片），我们可以选择任何一个顶点（例如，示例图片中的顶点0）并将其指定为根。如果我们想象所有边都是相似长度的弦，那么在”实际向上拉指定的根“并让中立向下拉动其余部分之后，我们有一个有根的（向下）树 - 见下一张幻灯片。</div><div>PS：从技术上来讲，这种转换是通过运行我们即将探索的 DFS(0) 来实现的。</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4" title="Go to the previous slide 4">&larr;</div>
<div class="electure-next" data-nextid="4-2" title="Go to the next slide 4-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4-2" class="electure-dialog" style="top:140px;right:60px;width:500px;">
在<b>二叉</b>树中，我们<b>最多只有两个</b>相邻的选择：从当前顶点开始，我们可以先到左边的子树，或者先到右边的子树。我们还可以选择在访问其中一个（或两个）子树之前或之后访问当前顶点。<div>这产生了个有代表性的：前序（访问当前顶点，访问其左子树，访问其右子树），中序（左，当前，右），和后序（左，右，当前）遍历。</div><div>讨论：您是否注意到还有其它三种可能的二叉树的遍历组合？他们是什么？</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4-1" title="Go to the previous slide 4-1">&larr;</div>
<div class="electure-next" data-nextid="4-3" title="Go to the next slide 4-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4-3" class="electure-dialog" style="top:140px;right:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4-2" title="Go to the previous slide 4-2">&larr;</div>
<div class="electure-next" data-nextid="4-4" title="Go to the next slide 4-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4-4" class="electure-dialog" style="top:140px;right:60px;width:500px;">
一个二叉树中，或者概括来说 一个树结构，不包含大于三个不同的顶点（我们不考虑那些连通两个顶点的双向路径所产生的小圈 我们可以很容易的处理掉它们 - 往前翻三页）
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4-3" title="Go to the previous slide 4-3">&larr;</div>
<div class="electure-next" data-nextid="4-5" title="Go to the next slide 4-5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4-5" class="electure-dialog" style="top:140px;right:60px;width:500px;">
<p>在一般图中，我们没有根节点的概念。相反，我们需要选择一个不同的节点作为遍历的起始点，即源点 <b>s </b>。</p>我们还有一个节点的 0, 1, ..., <b>k</b> 个邻点，而不仅仅是 ≤ 2。<div>我们<b>可能</b>（<b>或者实际上很可能</b>）在我们的一般的图具有循环，无论是像 u → v → u 那样的简单的环，还是像 a → b → c → a 这样的不简单的环。<br></div><div>但不用担心，图的遍历是一个具有两种经典算法的简单问题：DFS 和 BFS。</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4-4" title="Go to the previous slide 4-4">&larr;</div>
<div class="electure-next" data-nextid="5" title="Go to the next slide 5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
最基本的图遍历算法之一是<span style="white-space: normal;">&nbsp;O(</span><b style="white-space: normal;">V</b><span style="white-space: normal;">+</span><b style="white-space: normal;">E</b><span style="white-space: normal;">) 深度优先搜索（DFS）。</span><div><span style="white-space: normal;">DFS 采用一个输入参数：源点</span><span style="white-space: normal;">&nbsp;</span><b style="white-space: normal;">s</b><span style="white-space: normal;">。</span></div><div><span style="white-space: normal;">DFS 是最基本的图的算法之一，因此请花时间了解该算法的关键步骤。</span></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4-5" title="Go to the previous slide 4-5">&larr;</div>
<div class="electure-next" data-nextid="5-1" title="Go to the next slide 5-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-1" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p><img src="/img/maze.svg" style="background-color: white; float: right;" alt="maze" width="100" height="100">DFS类比一个只有一个人口和一个出口的迷宫。您在 入口处，想要探索迷宫到达出口。显然你不能分身。</p><p>在继续之前，先思考这些反思性问题：如果您面前有分支选择，您会怎么做？如何避免进入循环？如何标记自己的路径？提示：你需要一只粉笔，石头（或任何其他标记物）和一根（长）线。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5" title="Go to the previous slide 5">&larr;</div>
<div class="electure-next" data-nextid="5-2" title="Go to the next slide 5-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-2" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
顾名思义，DFS从一个已知的源顶点 <span style="white-space: normal;">&nbsp;</span><b style="white-space: normal;">s</b><span style="white-space: normal;">&nbsp;使用递归（隐式堆）来控制访问顺序为走到最深再返回。</span><p><span style="white-space: normal;">如果DFS在顶点 u 并且它有 X 个邻居，它会选择第一个邻居</span> <b>V<sub>1</sub></b> (通常是序号最小的那个顶点), 使用递归访问所有 <b>V<sub>1</sub></b>可以到达的顶点, 最终返回顶点 <b>u</b>. DFS 接下来对其他的邻居做同样的事指导探索完成最后一个邻居 <b>V<sub>X</sub></b> 和它所能触及到的顶点.</p>等下看了DFS的动画 这个冗长的解释会变得清晰起来。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-1" title="Go to the previous slide 5-1">&larr;</div>
<div class="electure-next" data-nextid="5-3" title="Go to the next slide 5-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-3" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p>如果一个图是圈，之前的“尝试所有”的方法可能让DFS陷入循环。所以DFS的基本形式用一个大小为 <b>V</b> 个顶点的数组 <b>status[u]</b> 来确定两种情况 分别为 u 已经被访问过了 或者没有被访问过。只有当 <b>u</b> 还没有被访问过的时候 DFS才可以访问顶点 <b>u</b>.</p><br><p>当DFS没有路可走的时候它会跳出当前的递归 <b>回去</b> 到之前的顶点 (<b>p[u]</b>, 看下一页).</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-2" title="Go to the previous slide 5-2">&larr;</div>
<div class="electure-next" data-nextid="5-4" title="Go to the next slide 5-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-4" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p>DFS 用另一个大小为 <b>V</b> 个顶点数组 <b>p[u]</b> 来记住在DFS遍历路径上每一个顶点 <b>u</b> 的 <b>parent/predecessor/previous（父/祖先/前）顶点。</b></p><p>最开始的顶点的祖先也就是 <b>p[s]</b> 被设定为-1也就是说它没有祖先 (因为最低的顶点是顶点0).</p><p>从一个源顶点 <b>s</b> 到一个可以到达的顶点 <b>u</b> 所生成的路径反过来 就是 <b>DFS 生成树</b>. 我们给这些 <b>树边</b> 上 <span style="color: red;">红色</span>.</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-3" title="Go to the previous slide 5-3">&larr;</div>
<div class="electure-next" data-nextid="5-5" title="Go to the next slide 5-5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-5" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>现在，忽略显示的伪代码中额外的 <b>status[u] = explored</b> 以及可视化中的 <span style="color: lightblue;">蓝色</span> 和 <span style="color: grey;">灰色</span> 边的存在 （将很快会解释）。</p>不用多说，让我们在这个 e-Lecture 的默认示例图上执行 <span class="slide-actions" onclick="doButtonAction39()">DFS(0)</span> (CP3 Figure 4.1)。 <span id="dfsrecap"><span class="slide-actions" onclick="doButtonAction41()">Recap DFS Example</span></span><br>到目前为止，DFS 的基本版本已经足够用于大多数的简单案例。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-4" title="Go to the previous slide 5-4">&larr;</div>
<div class="electure-next" data-nextid="5-6" title="Go to the next slide 5-6">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-6" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p>DFS 的时间复杂度是 O(<b>V</b>+<b>E</b>) ，因为：</p><ol><li>每个节点只访问过一次，因为 DFS 将仅递归地探索节点 <b>u</b> 如果 <b>status[u] = unvisited</b> — O(<b>V</b>)</li><li>每次访问完一个节点，都会探索其所有 <b>k</b> 个邻点，因此在访问所有节点之后，我们已检查了所有 <b>E</b> 边 — （O(<b>E</b>) ，因为i每个节点的邻点总数等于 <b>E</b>）。</li></ol>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-5" title="Go to the previous slide 5-5">&larr;</div>
<div class="electure-next" data-nextid="5-7" title="Go to the next slide 5-7">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-7" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p>DFS 的he O(<b>V</b>+<b>E</b>) 时间复杂度只有当我们可以在 O(<b>k</b>) 时间内访问一个顶点的所有 <b>k </b>个邻点时才可以实现。</p><input class="mcq-answer" id="mcq-answer-13" value="57" hidden><p>Quiz: <b>Which underlying graph data structure support that operation?</b></p><form><input type="radio" name="mcq-13-choice" value="56"> Adjacency Matrix<br><input type="radio" name="mcq-13-choice" value="58"> Edge List<br><input type="radio" name="mcq-13-choice" value="57"> Adjacency List<br></form><button class="mcq-submit" id="submit-13">Submit</button> <span id="answer-status-13"></span><br>讨论：为什么？
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-6" title="Go to the previous slide 5-6">&larr;</div>
<div class="electure-next" data-nextid="5-8" title="Go to the next slide 5-8">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5-8" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-7" title="Go to the previous slide 5-7">&larr;</div>
<div class="electure-next" data-nextid="6" title="Go to the next slide 6">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
另一种基本的图遍历算法是<span style="white-space: normal;">&nbsp;O(</span><b style="white-space: normal;">V</b><span style="white-space: normal;">+</span><b style="white-space: normal;">E</b><span style="white-space: normal;">) 广度优先搜索 (BFS)。</span><div><span style="white-space: normal;">与 DFS 一样，BFS 也采用一个输入参数：</span><span style="white-space: normal;">源点</span><span style="white-space: normal;">&nbsp;</span><b style="white-space: normal;">s</b><span style="white-space: normal;">。</span></div><div><span style="white-space: normal;">DFS 和 BFS 都有自己的优点和缺点。学习两者并对正确的情况采用正确的图遍历算法是非常重要的。</span></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5-8" title="Go to the previous slide 5-8">&larr;</div>
<div class="electure-next" data-nextid="6-1" title="Go to the next slide 6-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-1" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
想象一下静止的水，然后你扔石头。石头撞击水面的第一个位置是源点的位置，并且随后在水面上的<b>波纹效应</b>类似于 BFS 遍历模式。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6" title="Go to the previous slide 6">&larr;</div>
<div class="electure-next" data-nextid="6-2" title="Go to the next slide 6-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-2" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p>BFS 与之前讨论过的非常相似，但有一些差异。</p><p>BFS 从源点 <b>s</b> 开始，但它在更深入之前使用 <a href="./list?mode=Queue"><u>queue</u></a> 尽最宽可能地将访问序列排序。</p><br><p>BFS 还是用大小为 <b>V</b> 节点的布尔数组来区分两种不同的状态：已访问节点和未访问节点（我们不会像使用 DFS 那样使用 BFS 来检测反向边）。</p>在此可视化中，我们还展示从<b>未加权图</b>中的相同源点 <b>s</b> 开始，此图的 BFS 生成树等于其 <a href="./sssp"><u>SSSP spanning tree</u></a>.
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-1" title="Go to the previous slide 6-1">&larr;</div>
<div class="electure-next" data-nextid="6-3" title="Go to the next slide 6-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-3" class="electure-dialog" style="top:140px;right:60px;width:500px;">
<p>不多说，让我们在默认的示例图上执行 <span class="slide-actions" onclick="doButtonAction40()">BFS(5)</span> (CP3 Figure 4.3). <span id="bfsrecap"><span class="slide-actions" onclick="doButtonAction42()">Recap BFS Example</span></span>.</p><br><p>注意这里是 <i>宽度优先</i> 式的探索 因为我们用了 先进先出的数据结构：队列？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-2" title="Go to the previous slide 6-2">&larr;</div>
<div class="electure-next" data-nextid="6-4" title="Go to the next slide 6-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-4" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
<p>BFS的时间复杂度是 O(<b>V</b>+<b>E</b>)，因为:</p><ol><li>每一个顶点都被访问一次 因为它们只能进入队列一次— O(<b>V</b>)</li><li>每当一个顶点从队列中出队时，所有它的 <b>k</b> 个邻居都会被探索 所以当所有的顶点都被访问过后，我们一共探索了 <b>E</b> 条路径 — (O(<b>E</b>) 因为每个顶点的邻居总数为 <b>E</b>).</li></ol><p>对于DFS来说 O(<b>V</b>+<b>E</b>) 只有在用 <a href="./graphds"><u>邻接表</u></a> 图数据结构 — 和DFS分析相同</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-3" title="Go to the previous slide 6-3">&larr;</div>
<div class="electure-next" data-nextid="7" title="Go to the next slide 7">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>到现在为止，我们可以用 DFS/BFS 去解决一些图的遍历问题变种：</p><ol><li>检测可达性</li><li>显示出遍历路径</li><li>分辨/计数/标记 一个无向图的连通分量（CCs）</li><li>探测图是否有圈（cyclic）</li><li>拓补排序（只在有向无圈图 DAG中）</li></ol><p>多数的数据结构和算法课程只传授这些 DFS/BFS 的基本应用，尽管它们可以做更多...</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-4" title="Go to the previous slide 6-4">&larr;</div>
<div class="electure-next" data-nextid="7-1" title="Go to the next slide 7-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-1" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>如果您被要求测试图中的节点 <b>s</b> 和一个（不同的）节点 <b>t</b> 是否可达，即直接连接（通过一条边）或间接连接（通过简单的非环路径），则可以调用 O(<b>V</b>+<b>E</b>) <samp>DFS(s)</samp> (或 <samp>BFS(s)</samp>) 并检查是否 <samp>status[t] = visited。</samp></p><p>例子 1<b>：s = 0</b> 和 <b>t = 4</b>, 运行 <span class="slide-actions" onclick="doButtonAction39()">DFS(0)</span> 并注意 <samp>status[4] = visited</samp>. 例子 2： <b>s = 0</b> 和 <b>t = 7</b>, 运行 <span class="slide-actions" onclick="doButtonAction39()">DFS(0)</span> 并注意 <samp>status[7] = unvisited</samp>.</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7" title="Go to the previous slide 7">&larr;</div>
<div class="electure-next" data-nextid="7-2" title="Go to the next slide 7-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-2" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>回想：每次用DFS或BFS从定点<b>u</b>到顶点<b>v</b>（一个生成树中的树边）时，我们设置<b>p[v] = u</b>。我们可以使用以下简单的递归函数来打印出存储在数组 <b>p </b>中的路径。可能的后续讨论：您能以<b>迭代的</b>形式写出来吗？（容易解决）</p><pre>method backtrack(u)<br>  if (u == -1) stop<br>  backtrack(p[u]);<br>  output vertex u<br></pre><p>要打印图中从源点到目标顶点 <b>t</b> 的路径，可以调用 O(<b>V</b>+<b>E</b>) <samp>DFS(s)</samp> (或 <samp>BFS(s)</samp>) ，然后调用 O(<b>V</b>) </p><samp>backtrack</samp> 去返回 <samp>(t)。示例：</samp> <b>s = 0</b> 和 <b>t = 4</b>，您可以调用 <span class="slide-actions" onclick="doButtonAction39()">DFS(0)</span> 然后<samp>backtrack(4)</samp>。 <span id="printexample"><span class="slide-actions" onclick="doButtonAction43()">Elaborate</span></span><p></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-1" title="Go to the previous slide 7-1">&larr;</div>
<div class="electure-next" data-nextid="7-3" title="Go to the next slide 7-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-3" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>我们可以通过简单地调用 O(<b>V</b>+<b>E</b>) <samp>DFS(s)</samp> (或 <samp>BFS(s)</samp>) ，并枚举所有 <samp>status[v] = visited 的</samp>节点 <b>v，</b>来枚举从<b>无向图</b>中的节点 <b>s</b> 可到达的所有节点（如上图的示例图所示）。</p>示例： <b>s = 0</b>，运行 <span class="slide-actions" onclick="doButtonAction39()">DFS(0)</span> 并注意 <samp>status[{0,1,2,3,4}] = visited，因此它们都是从节点 </samp>0 可到达的节点，即它们形成一个<b>连通分量（CC）</b>。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-2" title="Go to the previous slide 7-2">&larr;</div>
<div class="electure-next" data-nextid="7-4" title="Go to the next slide 7-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-4" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>我们可以用如下的伪代码来计算连通分量（CCs）的数量：</p><pre>CC = 0<br>for all u in V, set status[u] = unvisited<br>for all u in V<br>  if (status[u] == unvisited)<br>    CC++ // 我们可以用CC计数器的数量来作为CC的标记<br>    DFS(u) // 或者 BFS(u), 来标记它的成员为已访问<br>output CC // 上面的示例图的答案是3<br>// CC 0 = {0,1,2,3,4}, CC 1 = {5}, CC 2 = {6,7,8}</pre><p>如果你想要给每一个CC你自己的标记，你可以简单修改 DFS(u)/BFS(u) 的代码。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-3" title="Go to the previous slide 7-3">&larr;</div>
<div class="electure-next" data-nextid="7-5" title="Go to the next slide 7-5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-5" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<input class="mcq-answer" id="mcq-answer-15" value="67" hidden><p>Quiz: <b>What is the time complexity of Counting the Number of CCs algorithm?</b></p><form><input type="radio" name="mcq-15-choice" value="68"> Trick question, the answer is none of the above, it is O(_____)<br><input type="radio" name="mcq-15-choice" value="67"> It is still O(V+E)<br><input type="radio" name="mcq-15-choice" value="66"> Calling O(V+E) DFS/BFS V times, so O(V*(V+E)) = O(V^2 + VE)<br></form><button class="mcq-submit" id="submit-15">Submit</button> <span id="answer-status-15"></span><br>讨论：为什么？
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-4" title="Go to the previous slide 7-4">&larr;</div>
<div class="electure-next" data-nextid="7-6" title="Go to the next slide 7-6">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-6" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-5" title="Go to the previous slide 7-5">&larr;</div>
<div class="electure-next" data-nextid="7-7" title="Go to the next slide 7-7">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-7" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>为了深入我们对底层图的理解，我们可以 <i>扩大</i> DFS算法的基础。</p><br><p>在这个动画里, 我们用 <font color="#add8e6">蓝色 </font> 来表示DFS生成树的 <b>返回</b> 边。 如果发现了至少一个返回边 ， 那代表被遍历的图（部分）是圈 的，而如果没有返回边的话，那就代表从出发点开始的部分并不是圈的。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-6" title="Go to the previous slide 7-6">&larr;</div>
<div class="electure-next" data-nextid="7-8" title="Go to the next slide 7-8">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-8" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>为了侦测 返回边，我们可以通过修改 <b>status[u]</b> 来记录 <b>三</b> 种不同的状态：</p><ol><li><b>未访问</b>: 和之前一样，DFS还没有访问过 <b>u</b> ，</li><li><b>已探索</b>: DFS已经访问了 <b>u</b>, 但是至少有一个 <b>u</b> 的邻居还没有被探索 (DFS会先 深度优先 式的先去探索那个顶点的邻居),</li><li><b>已访问</b>: 增强版的定义：顶点 <b>u</b> 的所有邻居都已经被探索过了并且DFS正要从顶点 <b>u</b> 原路返回去顶点 <b>p[u]</b>.</li></ol><p>如果DFS现在在顶点 <b>x</b> ，同时正在在探索边 <b>x → y</b> 并且遇到 <b>status[y] = explored</b>, 我们可以确认 <b>x → y</b> 是一个 <b>返回边</b> (我们找到了一个圈因为我们之前在顶点 <b>y</b> (因此 <b>status[y] = explored</b>), 走更深去探索 <b>y</b> 的邻居等等, 但是我们现在在顶点 <b>x</b> ，它是一个可以从 <b>y</b> 出发所抵达的顶点 但是顶点 <b>x</b> 引领我们走回了 <b>y</b>).</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-7" title="Go to the previous slide 7-7">&larr;</div>
<div class="electure-next" data-nextid="7-9" title="Go to the next slide 7-9">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-9" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>图中不是 <span style="color: red;">树边</span> 也不是 <span style="color: lightblue;">返回边</span> 的路径都以 <span style="color: grey;">灰色</span> 显示。他们叫做 <b>前进或交叉边</b>，对于现在的我们来说用处不大， 不再赘述。</p><br><p>现在，综合新的理解，在上面的示例图中试试 <span class="slide-actions" onclick="doButtonAction39()">DFS(0)</span>， 特别留意一个顶点的三种不同状态 (未访问/<span style="color: black; background-color: white;">正常的黑色圆</span>, 已探索/<span style="color: lightblue;">蓝色的圆</span>, <span style="color: orange;">已访问/橘色的圆</span>) 还有 <span style="color: lightblue;">返回边</span>。 2 → 1 被探测到是一个返回边 因为它是圈（circle） 1 → 3 → 2 → 1 的一部分（从”已探索“的顶点2到”已探索“的顶点1）(相似的 6 → 4 是圈 4 → 5 → 7 → 6 → 4的一部分)。</p><p>注意，如果2 → 1和6 → 4被逆转成1 → 2和4 → 6，那么这个图将会被正确地归类为无环图，因为3 → 2和4 → 6从”已探索“移动到”已访问“。如果我们只用两种状态”已访问“和”未访问“，那么我们将无法把这两种情况分开。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-8" title="Go to the previous slide 7-8">&larr;</div>
<div class="electure-next" data-nextid="7-10" title="Go to the next slide 7-10">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-10" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>还有另一个可以被视为”简单“的 DFS（以及 BFS）应用：执行有向无环图（DAG）的拓扑排序 — 参见上面的示例。<br></p>DAG 的拓扑排序是此 DAG 的节点的线性排序，其中每个节点位于其传出边所连接的所有节点之前。<br>每个 DAG （可以用<a href="dfsbfs/?slide=7-7">之前的DFS</a>来检查）至少有一个但可能更多的拓扑排序/秩序。<br>DAG拓扑排序的主要目的是用于 <a href="./recursion"><u>Dynamic Programming (DP)</u></a> 技术。例如，此拓扑排序过程在 <a href="./sssp"><u>DP solution for SSSP on DAG</u></a>内部使用。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-9" title="Go to the previous slide 7-9">&larr;</div>
<div class="electure-next" data-nextid="7-11" title="Go to the next slide 7-11">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-11" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
<p>我们可以使用 O(<b>V</b>+<b>E</b>) DFS 或 BFS 来执行有向无环图（DAG）的拓扑排序。<br></p>与普通 DFS 相比，DFS 版本只需要额外的一行，基本上是此图的后序遍历。在示例的DAG上尝试 <span class="slide-actions" onclick="doButtonAction44()">Toposort (DFS)</span> 。<div><span lang="zh-CN">BFS 版本基于没有传入边的节点的概念，也称为</span> Kahn 算法.。在示例的DAG上尝试 <span class="slide-actions" onclick="doButtonAction45()">Toposort (BFS/Kahn's)</span> 。</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-10" title="Go to the previous slide 7-10">&larr;</div>
<div class="electure-next" data-nextid="8" title="Go to the next slide 8">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-8" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
目前为止，你已经看到了DFS/BFS（加上轻微改动）可以解决的问题。有一些更高级的应用需要更多的改动，更先进的学生可以自己探索：<br><ol><li>检测二分图 (DFS 和 BFS 变种),</li><li>寻找无向图的衔接点（切顶）和桥梁（仅DFS）,</li><li>寻找有向图的强连通分量（SCC）（Tarjan和Kosaraju的算法）, 以及</li><li>2-SAT(可满足性) 检查算法.<br></li></ol><hr><br>广告：细节写在<a href="https://cpbook.net" target="_blank"><u>Competitive Programming book</u></a>一书中
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-11" title="Go to the previous slide 7-11">&larr;</div>
<div class="electure-next" data-nextid="9" title="Go to the next slide 9">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-9" class="electure-dialog" style="top:300px;left:50%;margin-left:-250px;width:500px;">
我们可以使用O(<b>V</b>+<b>E</b>)DFS或BFS（它们的工作原理相似）来检查一个给定的图是否是一个二分图（Bipartite Graph），方法是在相邻的顶点之间给出交替的颜色（在这个可视化中是橙色和蓝色），如果我们最终给两个相邻的顶点分配了相同的颜色，则报告 "非二分"，如果有可能进行这样的 "二分上色"过程，则报告 "二分"。试试<span class="slide-actions" onclick="doButtonAction46()">DFS_Checker</span>或<span class="slide-actions" onclick="doButtonAction47()">BFS_Checker</span>在双子星图的例子中。<br>二分图在<a href="matching">图形匹配</a>问题上有很好的应用。<br>请注意，二分图通常只对无向图进行定义，所以在继续之前，这个可视化将自动把有向的输入图转换成无向的版本。这个动作是不可逆的，你可能不得不为其他目的再次重绘有向输入图。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="8" title="Go to the previous slide 8">&larr;</div>
<div class="electure-next" data-nextid="10" title="Go to the next slide 10">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-10" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
我们可以将O(<b>V</b>+<b>E</b>)DFS算法修改为寻找无向图的切顶和桥的算法（但不幸的是，这并不简单）。<br>切割顶点，或衔接点，是指无向图中的一个顶点，移除该顶点会使图断开连接。同样地，桥是无向图中的一条边，除去这条边就会断开图的连接。<br>请注意，这种寻找切割点和桥的算法只适用于无向图，所以在继续之前，这个可视化会自动将有向图的输入转化为无向图的版本。这个动作是不可逆的，你可能不得不为其他目的再次重绘有向输入图。你可以在上面的例子图上尝试<span class="slide-actions" onclick="doButtonAction48()">Find Cut Vertices &amp; Bridges</span>。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="9" title="Go to the previous slide 9">&larr;</div>
<div class="electure-next" data-nextid="11" title="Go to the next slide 11">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11" class="electure-dialog" style="top:270px;left:50%;margin-left:-250px;width:500px;">
我们可以将O(<b>V</b>+<b>E</b>)DFS算法修改为寻找有向图G的强连通分量(SCC)的算法(但不幸的是，这并不简单)。<br>有向图G的SCC定义为G的一个子图S，对于S中的任何两个顶点u和v，顶点u可以直接或通过路径到达顶点v，而顶点v也可以直接或通过路径返回到顶点u。<br>有两种已知的算法用于寻找有向图的SCC。Kosaraju的和Tarjan的。这两种算法都可以在这个可视化中找到。在上面的有向图例子上试试<span class="slide-actions" onclick="doButtonAction49()">Kosaraju's Algorithm</span>和/或<span class="slide-actions" onclick="doButtonAction50()">Tarjan's Algorithm</span>。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="10" title="Go to the previous slide 10">&larr;</div>
<div class="electure-next" data-nextid="12" title="Go to the next slide 12">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12" class="electure-dialog" style="bottom:320px;left:60px;width:500px;">
我们也有2-SAT检查器算法。给出一个2-SAT（2-Satisfiability）实例，其形式是子句（clause）的组合：(clause<sub>1</sub>) ^ (clause<sub>2</sub>) ^ ... ^ (clause<sub>n</sub>)，并且每个子句都是由最多两个变量（var<sub>a</sub> v var<sub>b</sub>）组成的二元析取形式，请确定我们是否可以给这些变量分配真/假值，从而使整个2-SAT实例被评估为真（即可满足）。<br>事实证明，每个子句（a v b）可以变成四个顶点a、not a、b和not b，和两条边(not a → b)和(not b → a)。因此，我们有一个有向图。如果在这种图的强连通分量内至少有一个变量和它的否定，我们知道它不可能满足2-SAT实例。<br>在这样的有向图建模之后，我们可以运行一个SCC查找算法（Kosaraju的或Tarjan的算法）来确定2-SAT实例的可满足性。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11" title="Go to the previous slide 11">&larr;</div>
<div class="electure-next" data-nextid="13" title="Go to the next slide 13">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-13" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<input class="mcq-answer" id="mcq-answer-22" value="95" hidden><p>Quiz: <b>Which Graph Traversal Algorithm is Better?</b></p><form><input type="radio" name="mcq-22-choice" value="93"> Always DFS<br><input type="radio" name="mcq-22-choice" value="96"> Both are Equally Good<br><input type="radio" name="mcq-22-choice" value="95"> It Depends on the Situation<br><input type="radio" name="mcq-22-choice" value="94"> Always BFS<br></form><button class="mcq-submit" id="submit-22">Submit</button> <span id="answer-status-22"></span><br><p>讨论：为什么？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12" title="Go to the previous slide 12">&larr;</div>
<div class="electure-next" data-nextid="13-1" title="Go to the next slide 13-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-13-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="13" title="Go to the previous slide 13">&larr;</div>
<div class="electure-next" data-nextid="14" title="Go to the next slide 14">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-14" class="electure-dialog" style="top:70px;left:60px;width:500px;">
我们仍然可以只用 DFS/BFS 做很多事情......
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="13-1" title="Go to the previous slide 13-1">&larr;</div>
<div class="electure-next" data-nextid="14-1" title="Go to the next slide 14-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-14-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>关于这两个图的遍历算法有一些有趣的问题：DFS + BFS 和图遍历问题的变体，请在 <a href="https://visualgo.net/training?diff=Medium&amp;n=7&amp;tl=0&amp;module=dfsbfs"><u>Graph Traversal</u></a> 培训模块中练习（不需要登陆，但是您最多只能做短和中等难度的问题）。</p><p>但是，对于注册用户，您应该登陆后转到 <a href="https://visualgo.net/training"><u>Main Training Page</u></a> 以正式清除此模块，此类成就将记录在您的用户账户中。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="14" title="Go to the previous slide 14">&larr;</div>
<div class="electure-next" data-nextid="14-2" title="Go to the next slide 14-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-14-2" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>我们有一些Kattis问题多多少少用到了DFS和/或BFS: <a href="https://open.kattis.com/problems/reachableroads" title target="_blank"><u>Kattis - reachableroads</u></a> 和 <a href="https://open.kattis.com/problems/breakingbad" title target="_blank"><u>Kattis - breakingbad</u></a>.</p><br><p>试试解出它们并且尝试 <b>更多</b> 有趣的对这个简单的 图遍历问题/图遍历算法 的 变种/改变。你可以使用或者修改我们的DFS/BFS的源代码：<a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/traversal/dfs_cc.cpp" target="_blank"><u>dfs_cc.cpp</u></a>/<a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/sssp/bfs.cpp" target="_blank"><u>bfs.cpp</u></a> <a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/traversal/dfs_cc.java" target="_blank"><u>dfs_cc.java</u></a>/<a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/sssp/bfs.java" target="_blank"><u>bfs.java</u></a> <a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/traversal/dfs_cc.py" target="_blank"><u>dfs_cc.py</u></a>/<a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/sssp/bfs.py" target="_blank"><u>bfs.py</u></a> <a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/traversal/dfs_cc.ml" target="_blank"><u>dfs_cc.ml</u></a>/<a href="https://github.com/stevenhalim/cpbook-code/blob/master/ch4/sssp/bfs.ml" target="_blank"><u>bfs.ml</u></a></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="14-1" title="Go to the previous slide 14-1">&larr;</div>
<div class="electure-next" data-nextid="14-3" title="Go to the next slide 14-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-14-3" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
<hr>
<p>You have reached the last slide. Return to 'Exploration Mode' to start exploring!</p>
<p>Note that if you notice any bug in this visualization or if you want to request for a new visualization feature, do not hesitate to drop an email to the project leader: Dr Steven Halim via his email address: stevenhalim at gmail dot com.</p>
</div>
<div class="electure-prev" data-nextid="14-2" title="Go to the previous slide 14-2">&larr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="popup" hidden>
<div id="popup-content"></div>
<span id="hide-popup" hidden>X <u>关闭</u></span>
</div>
<div id="rotateDeviceOverlay" style="display: none;">
<div id="rotateDeviceText" style="font-size: 45px; font-weight: bold; text-align: center">Please rotate your device to landscape mode for a better user experience</div>
<div id="widenDeviceText" style="font-size: 45px; font-weight: bold; text-align: center">Please make the window wider for a better user experience</div>
</div>

<style>
        .mediumscale {
            bottom: 335px
        }
    </style>
<style>
        .draw {
            bottom: 281px
        }
    </style>
<style>
        .examples {
            bottom: 254px
        }
    </style>
<style>
        .dfs {
            bottom: 227px
        }
    </style>
<style>
        .bfs {
            bottom: 200px
        }
    </style>
<style>
        .topo {
            bottom: 173px
        }
    </style>
<style>
        .bipartite {
            bottom: 146px
        }
    </style>
<style>
        .bridge {
            bottom: 119px
        }
    </style>
<style>
        .scc {
            bottom: 92px
        }
    </style>
<style>
        .twosat {
            bottom: 65px
        }
    </style>
<div id="actions" class="panel">
<p id="mediumscale">Visualisation Scale</p>
<p class="execAction" id="vertexnumber" onClick="toggleVertexNumber()">Toggle V. Number for 0.5x</p>
<p class="execAction" id="draw" onClick="drawGraph()">编辑图表</p>
<p id="examples">图示</p>
<p id="dfs">深度优先搜索</p>
<p id="bfs">广度优先搜说</p>
<p id="topo">拓扑排序</p>
<p id="bipartite">二分图检查</p>
<p class="execAction" id="bridge" onClick="bridge()">切断顶点/ 桥</p>
<p id="scc">SCC 算法</p>
<p id="twosat">2-SAT 检查</p>
</div>
<div id="actions-hide" class="panel-hide"><span style="color:white; font-size: x-large; display: inline-block;">&gt;</span></div>
<div id="actions-extras">
<div class="mediumscale action-menu-pullout">
<div id="defaultScale" class="execAction new-menu-option coloured-menu-option" onClick="setDefaultScale()">
<p>1.0x (Default)</p>
</div>
<div id="mediumScale" class="execAction new-menu-option coloured-menu-option" onClick="setMediumScale()">
<p>0.5x (Minimal Details)</p>
</div>
<div id="mediumscale-err" class="err" style="float: left;"></div>
</div>
<div class="draw action-menu-pullout">
<div id="draw-err" class="err" style="float: left;"></div>
</div>
<div class="examples action-menu-pullout">
<div id="example1" class="execAction new-menu-option coloured-menu-option" onClick="example(CP3_4_1)">
<p>CP3 4.1</p>
</div>
<div id="example2" class="execAction new-menu-option coloured-menu-option" onClick="example(CP3_4_3)">
<p>CP3 4.3</p>
</div>
<div id="example3" class="execAction new-menu-option coloured-menu-option" onClick="example(CP3_4_4)">
<p>CP3 4.4 DAG</p>
</div>
<div id="example4" class="execAction new-menu-option coloured-menu-option" onClick="example(CP3_4_9)">
<p>CP3 4.9</p>
</div>
<div id="example5" class="execAction new-menu-option coloured-menu-option" onClick="example(CP3_4_17)">
<p>CP3 4.17 DAG</p>
</div>
<div id="example6" class="execAction new-menu-option coloured-menu-option" onClick="example(CP3_4_18)">
<p>CP3 4.18 DAG, Bipartite</p>
</div>
<div id="example7" class="execAction new-menu-option coloured-menu-option" onClick="example(CP3_4_19)">
<p>CP3 4.19 Bipartite</p>
</div>
<div id="example8" class="execAction new-menu-option coloured-menu-option" onClick="example(DFSBFSLARGE)">
<p>Large Graph</p>
</div>
<div id="example9" class="execAction new-menu-option coloured-menu-option" onClick="example(DFSBFSLARGECYCLES)">
<p>Large, Cycles</p>
</div>
<div id="examples-err" class="err" style="float: left;"></div>
</div>
<div class="dfs action-menu-pullout">
<div id="dfs-input" class="new-menu-option">
s = <input id="dfs-v" type="number" title="输入源顶点" autocomplete="off" min="0" max="99" value="0"> </div>
<div id="dfs-go" class="execAction new-menu-option coloured-menu-option" onClick="dfs()">
<p>前进</p>
</div>
<div id="dfs-err" class="err" style="float: left;"></div>
</div>
<div class="bfs action-menu-pullout">
<div id="bfs-input" class="new-menu-option">
s = <input id="bfs-v" type="number" title="输入源顶点" autocomplete="off" min="0" max="99" value="0"> </div>
<div id="bfs-go" class="execAction new-menu-option coloured-menu-option" onClick="bfs()">
<p>前进</p>
</div>
<div id="bfs-err" class="err" style="float: left;"></div>
</div>
<div class="topo action-menu-pullout">
<div id="toposortDfs" class="execAction new-menu-option coloured-menu-option" onClick="toposortDfs()">
<p>DFS 版本</p>
</div>
<div id="toposortBfs" class="execAction new-menu-option coloured-menu-option" onClick="toposortBfs()">
<p>BFS 版本 (Kahn&#39;s 算法)</p>
</div>
<div id="topo-err" class="err" style="float: left;"></div>
</div>
<div class="bipartite action-menu-pullout">
<div id="bipartiteDfs" class="execAction new-menu-option coloured-menu-option" onClick="bipartiteDfs()">
<p>DFS 版本</p>
</div>
<div id="bipartiteBfs" class="execAction new-menu-option coloured-menu-option" onClick="bipartiteBfs()">
<p>BFS 版本</p>
</div>
<div id="bipartite-err" class="err" style="float: left;"></div>
</div>
<div class="bridge action-menu-pullout">
<div id="bridge-err" class="err" style="float: left;"></div>
</div>
<div class="scc action-menu-pullout">
<div id="kosaraju" class="execAction new-menu-option coloured-menu-option" onClick="kosaraju()">
<p>Kosaraju 算法</p>
</div>
<div id="tarjan" class="execAction new-menu-option coloured-menu-option" onClick="tarjan()">
<p>Tarjan 算法</p>
</div>
<div id="scc-err" class="err" style="float: left;"></div>
</div>
<div class="twosat action-menu-pullout">
<div id="numclauses-input" class="new-menu-option">
条款的数量 = <input id="twosat-v1" type="number" title="Enter the number of clauses" autocomplete="off" min="1" max="10" value="2"> </div>
<div id="numvariabls-input" class="new-menu-option">
变量的数量 = <input id="twosat-v2" type="number" title="Enter the number of variables" autocomplete="off" min="1" max="10" value="2"> </div>
<div id="twosat-go" class="execAction new-menu-option coloured-menu-option" onClick="twosat()">
<p>走</p>
</div>
<div id="twosat-err" class="err" style="float: left;"></div>
</div>
</div>

<div id="drawgraph" class="overlays"></div>
<div id="twosat-board" class="overlays"></div>
</div>

<div id="bottom-bar">
<a id="scale" style="display: none;">1.0x</a>
<a id="trigger-about">关于</a>
<a id="trigger-team">团队</a>
<a id="trigger-terms">使用条款<br></a>
<a id="trigger-privacy">隐私政策</a>
</div>
<div id="about" class="overlays">
<h4>关于</h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p>VisuAlgo最初由副教授Steven Halim于2011年构思，旨在通过提供自学、互动式学习平台，帮助学生更深入地理解数据结构和算法。</p><p>VisuAlgo涵盖了Steven Halim博士与Felix Halim博士、Suhendry Effendy博士合著的书《竞技编程》中讨论的许多高级算法。即使过去十年，VisuAlgo仍然是可视化和动画化这些复杂算法的独家平台。</p><p>虽然VisuAlgo主要面向新加坡国立大学（NUS）的学生，包括各种数据结构和算法课程（例如CS1010/等价课程，CS2040/等价课程（包括IT5003），CS3230，CS3233和CS4234），但它也是全球好奇心的宝贵资源，促进在线学习。</p><p>最初，VisuAlgo并不适用于智能手机等小触摸屏，因为复杂的算法可视化需要大量的像素空间和点击拖动交互。为了获得最佳用户体验，建议使用最低分辨率为1366x768的屏幕。然而，自2022年4月以来，VisuAlgo的移动（精简）版本已经推出，使得在智能手机屏幕上使用VisuAlgo的部分功能成为可能。</p><p>VisuAlgo仍然在不断发展中，正在开发更复杂的可视化。目前，该平台拥有24个可视化模块。</p><p>VisuAlgo配备了内置的问题生成器和答案验证器，其“在线测验系统”使学生能够测试他们对基本数据结构和算法的理解。问题根据特定规则随机生成，并且学生提交答案后会自动得到评分。随着越来越多的计算机科学教师在全球范围内采用这种在线测验系统，它可以有效地消除许多大学标准计算机科学考试中手工基本数据结构和算法问题。通过给通过在线测验的学生分配一个小但非零的权重，计算机科学教师可以显著提高学生对这些基本概念的掌握程度，因为他们可以在参加在线测验之前立即验证几乎无限数量的练习题。每个VisuAlgo可视化模块现在都包含自己的在线测验组件。</p><p>VisuAlgo已经被翻译成三种主要语言：英语、中文和印尼语。此外，我们还用各种语言撰写了关于VisuAlgo的公开笔记，包括印尼语、韩语、越南语和泰语：</p>
<a href="https://www.facebook.com/notes/steven-halim/httpidvisualgonet-visualisasi-struktur-data-dan-algoritma-dengan-animasi/10153236934439689" target="_blank"><u>id</u></a>,
<a href="http://blog.naver.com/visualgo_nus" target="_blank"><u>kr</u></a>,
<a href="https://www.facebook.com/groups/163215593699283/permalink/824003417620494/" target="_blank"><u>vn</u></a>,
<a href="http://pantip.com/topic/32736343" target="_blank"><u>th</u></a>.
</div>
</div>
<div id="team" class="overlays">
<h4>团队</h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p>
<strong><span style="line-height: 150%;">项目领导和顾问（2011年7月至今）</span></strong><br>
<a href="https://www.comp.nus.edu.sg/~stevenha/" target="_blank">Associate Professor Steven Halim</a>, School of Computing (SoC), National University of Singapore (NUS)<br>
<a href="https://www.linkedin.com/in/felixhalim/" target="_blank">Dr Felix Halim</a>, Senior Software Engineer, Google (Mountain View)
</p>
<p>
<strong><span style="line-height: 150%;">本科生研究人员 1</span></strong><br>
<b>CDTL TEG 1: Jul 2011-Apr 2012</b>: Koh Zi Chun, Victor Loh Bo Huai
</p>
<p>
<strong><span style="line-height: 150%;">最后一年项目/ UROP学生 1</span></strong><br>
<b>Jul 2012-Dec 2013</b>: Phan Thi Quynh Trang, Peter Phandi, Albert Millardo Tjindradinata, Nguyen Hoang Duy<br>
<b>Jun 2013-Apr 2014</b> <a href="https://www.rosemarietan.com/" target="_blank">Rose Marie Tan Zhao Yun</a>, Ivan Reinaldo
</p>
<p>
<strong><span style="line-height: 150%;">本科生研究人员 2</span></strong><br>
<b>CDTL TEG 2: May 2014-Jul 2014</b>: Jonathan Irvin Gunawan, Nathan Azaria, Ian Leow Tze Wei, Nguyen Viet Dung, Nguyen Khac Tung, Steven Kester Yuwono, Cao Shengze, Mohan Jishnu
</p>
<p>
<strong><span style="line-height: 150%;">最后一年项目/ UROP学生 2</span></strong><br>
<b>Jun 2014-Apr 2015</b>: Erin Teo Yi Ling, Wang Zi<br>
<b>Jun 2016-Dec 2017</b>: Truong Ngoc Khanh, John Kevin Tjahjadi, Gabriella Michelle, Muhammad Rais Fathin Mudzakir<br>
<b>Aug 2021-Apr 2023</b>: Liu Guangyuan, Manas Vegi, Sha Long, Vuong Hoang Long, Ting Xiao, Lim Dewen Aloysius<br>
</p>
<p>
<strong><span style="line-height: 150%;">本科生研究人员 3</span></strong><br>
<b>Optiver: Aug 2023-Oct 2023</b>: Bui Hong Duc, Oleh Naver, Tay Ngan Lin<br>
</p>
<p>
<strong><span style="line-height: 150%;">最后一年项目/ UROP学生 3</span></strong><br>
<b>Aug 2023-Apr 2024</b>: Xiong Jingya, Radian Krisno, Ng Wee Han<br>
</p>
<p>
List of translators who have contributed &ge; 100 translations can be found at <a href="https://visualgo.net/statistics">statistics</a> page.
</p>
<p>
<strong><span style="line-height: 150%;">致谢</span></strong><br>
NUS教学与学习发展中心（CDTL）授予拨款以启动这个项目。在2023/24学年，Optiver的慷慨捐赠将被用来进一步开发 VisuAlgo。
</p>
</div>
</div>
<div id="termsofuse" class="overlays">
<h4>使用条款<br></h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p>VisuAlgo慷慨地向全球计算机科学界提供免费服务。如果您喜欢VisuAlgo，我们恳请您<b>向其他计算机科学学生和教师宣传它的存在</b>。您可以通过社交媒体平台（如Facebook、YouTube、Instagram、TikTok、Twitter等）、课程网页、博客评论、电子邮件等方式分享VisuAlgo。</p><p>数据结构与算法（DSA）的学生和教师可以直接在课堂上使用本网站。如果您从本网站截取屏幕截图或视频，可以在其他地方使用，但请引用本网站的URL（<a href="https://visualgo.net">https://visualgo.net</a>）和/或下面的出版物列表作为参考。但请不要下载VisuAlgo的客户端文件并将其托管在您的网站上，因为这构成了抄袭行为。目前，我们不允许他人分叉此项目或创建VisuAlgo的变体。个人使用离线副本的客户端VisuAlgo是可以接受的。</p><p>请注意，VisuAlgo的在线测验组件具有重要的服务器端元素，保存服务器端脚本和数据库并不容易。目前，普通公众只能通过“培训模式”访问在线测验系统。“测试模式”提供了一个更受控制的环境，用于在新加坡国立大学的真实考试中使用随机生成的问题和自动验证。</p><p><br></p><p><strong><span style="line-height: 200%;">出版物列表</span></strong></p><p>这项工作曾在2012年国际大学生程序设计竞赛（波兰，华沙）的CLI研讨会上和2012年国际信息学奥林匹克竞赛（意大利，锡尔米奥内-蒙蒂基亚里）的IOI会议上展示过。您可以点击<a href="https://ioinformatics.org/journal/INFOL099.pdf" target="_blank">此链接</a>阅读我们2012年关于该系统的论文（当时还没有称为VisuAlgo），以及<a href="https://ioinformatics.org/journal/v9_2015_243_245.pdf" target="_blank">此链接</a>阅读2015年的简短更新（将VisuAlgo与之前的项目关联起来）。</p><p><br></p><p><strong><span style="line-height: 200%;">错误报告或新功能请求</span></strong></p><p>VisuAlgo并不是一个完成的项目。Steven Halim副教授仍在积极改进VisuAlgo。如果您在使用VisuAlgo时发现任何可视化页面/在线测验工具中的错误，或者您想要请求新功能，请联系Steven Halim副教授。他的联系方式是将他的名字连接起来，然后加上gmail dot com。</p>
</div>
</div>
<div id="privacy-policy" class="overlays">
<h4>隐私政策</h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p><b>版本 1.2 (更新于2023年8月18日星期五)。</b></p><p>自2023年8月18日（星期五）起，我们不再使用 Google Analytics。因此，我们现在使用的所有 cookies 仅用于此网站的运营。即使是首次访问的用户，烦人的 cookie 同意弹窗现在也已关闭。</p><p>自2023年6月7日（星期五）起，由于 Optiver 的慷慨捐赠，全世界的任何人都可以自行创建一个 VisuAlgo 账户，以存储一些自定义设置（例如，布局模式，默认语言，播放速度等）。</p><p>此外，对于 NUS 学生，通过使用 VisuAlgo 账户（一个 NUS 官方电子邮件地址，课堂名册中的学生姓名，以及在服务器端加密的密码 - 不存储其他个人数据），您同意您的课程讲师跟踪您的电子讲义阅读和在线测验培训进度，这是顺利进行课程所必需的。您的 VisuAlgo 账户也将用于参加 NUS 官方的 VisuAlgo 在线测验，因此，将您的账户凭据传递给他人代您进行在线测验构成学术违规。课程结束后，您的用户账户将被清除，除非您选择保留您的账户（OPT-IN）。访问完整的 VisuAlgo 数据库（包含加密密码）的权限仅限于 Halim 教授本人。</p><p>对于全球其他已经给 Steven 写过信的 CS 讲师，需要一个 VisuAlgo 账户（您的（非 NUS）电子邮件地址，您可以使用任何显示名称，以及加密密码）来区分您的在线凭据与世界其他地方。您的账户将具有 CS 讲师特定的功能，即能够查看隐藏的幻灯片，这些幻灯片包含了在隐藏幻灯片之前的幻灯片中提出的问题的（有趣的）答案。您还可以访问 VisuAlgo 在线测验的 Hard 设置。您可以自由地使用这些材料来增强您的数据结构和算法课程。请注意，未来可能会有其他 CS 讲师特定的功能。<br></p><p>对于任何拥有 VisuAlgo 账户的人，如果您希望不再与 VisuAlgo 工具有关联，您可以自行删除您的账户。</p>
</div>
</div>
</div>


<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://unpkg.com/d3-force-boundary@0.0.1/dist/d3-force-boundary.min.js"></script>
<script>
  $(function () {
    // overlays stuffs
    $('#trigger-about').click(function() {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#about').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    });

    $('#trigger-team').click(function() {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#team').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    });

    $('#trigger-terms').click(function() {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#termsofuse').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    });

    $('#trigger-privacy').click(function () {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#privacy-policy').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    })

    $('.close-overlay').click(function() {
      $('.overlays').fadeOut(function() {
        $('#dark-overlay').fadeOut();
      });
    });

    $('#dark-overlay').click(function() {
      $('.overlays').fadeOut();
      $('#dark-overlay').fadeOut();
      if (typeof GeometryWidget !== 'undefined') {
        GeometryWidget.stopLoop();
      }
    });
  })
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1566631-4"></script>
<script>
      $.ajaxSetup({
        headers: {
          'X-CSRF-TOKEN': "el7PTQKlc6G1wELehqMAYwxe5eBzXzWtdQy4je5h"
        }
      });

      // handles account dropdown menu
      $(function () {
        $('#language-dropdown-btn').click(function (e) {
          $('#language-dropdown-menu').css('display', 'block');
          $('#account-dropdown-menu').css('display', 'none')
          e.stopPropagation()
        })
        $(document).click(function () {
          $('#language-dropdown-menu').css('display', 'none')
        })
      })

      $(function () {
        $('#account-dropdown-btn').click(function (e) {
          $('#account-dropdown-menu').css('display', 'block')
          $('#language-dropdown-menu').css('display', 'none')
          e.stopPropagation()
        })
        $(document).click(function (e) {
          $('#account-dropdown-menu').css('display', 'none')
        })
      })

      // surprise colour!
      // Referenced to in  home.js and viz.js also
      var colourArray = ["#52bc69", "#d65775"/*"#ed5a7d"*/, "#2ebbd1", "#d9513c", "#fec515", "#4b65ba", "#ff8a27", "#a7d41e"]; // green, pink, blue, red, yellow, indigo, orange, lime

      function disableScroll() { $('html').css('overflow', 'hidden'); }

      function enableScroll() { $('html').css('overflow', 'visible'); }

      function replaceAll(find, replace, str) { return str.replace(new RegExp(find, 'g'), replace); }

      function getColours() {
        var generatedColours = new Array();
        while (generatedColours.length < 4) {
          var n = (Math.floor(Math.random() * colourArray.length));
          if ($.inArray(n, generatedColours) == -1)
            generatedColours.push(n);
        }
        return generatedColours;
      }

      function isOn(value, position) {
        return (value>>position) & 1 === 1;
      }

      function customAlert(msg) {
        $('#custom-alert p').html(msg);
        var m = -1 * ($('#custom-alert').outerHeight()/2);
        $('#custom-alert').css('margin-top', m+'px');
        $('#dark-overlay').fadeIn(function() {
          $('#custom-alert').fadeIn(function() {
            setTimeout(function() {
              $('#custom-alert').fadeOut(function() {
                $('#dark-overlay').fadeOut();
              });
            }, 1000);
          });
        });
      }

      function showLoadingScreen() {
        $('#loading-overlay').show();
        $('#loading-message').show();
      }

      function hideLoadingScreen() {
        $('#loading-overlay').hide();
      }

      function commonAction(retval, msg) {
        if (retval) {
          $('#current-action').show();
          $('#current-action').html(mode == "exploration" ? msg : ("e-Lecture Example (auto play until done)<br>" + msg));
          $('#progress-bar').slider("option", "max", gw.getTotalIteration()-1);
          triggerRightPanels();
          isPlaying = true;
        }
      }

      function getQueryVariable(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; ++i) {
          var pair = vars[i].split('=');
          if (decodeURIComponent(pair[0]) == variable)
            return decodeURIComponent(pair[1]);
        }
        return "";
      }

      const MOBILE_WIDTH = 1000;
      const matchMediaMobile = window.matchMedia(`only screen and (max-width: ${MOBILE_WIDTH}px)`);
      const matchMediaNarrow = window.matchMedia(`only screen and (max-width: 500px)`);
      function isMobile() {
        return matchMediaMobile.matches;
      }
      //To fix the issue of a narrow desktop window being asked to rotate, I am now checking for it based on the navigator.userAgent to see if its mobile or not.
      //This may change in the future if browsers decide to change the naming of userAgent for mobile browsers so may need to keep an eye on this.
      function isMobileOS() {
        return /Mobi/i.test(navigator.userAgent) && !/ipad/i.test(navigator.userAgent);
      }
      let portraitMatcher = window.matchMedia("(orientation:portrait)");
      function isPortrait() {
        return portraitMatcher.matches;
      }

      var generatedColours = getColours();
      var surpriseColour = colourArray[generatedColours[0]];
      var colourTheSecond = colourArray[generatedColours[1]];
      var colourTheThird = colourArray[generatedColours[2]];
      var colourTheFourth = colourArray[generatedColours[3]];

      $(function() {
        $('.links').css('background', surpriseColour);
        $('.colour').css("color", surpriseColour);
        $('h4').css("background-color", surpriseColour); // about, contact us etc. button background

        // title
        $('#title a').click(function() {
          $('#title a').removeClass('selected-viz');
          $(this).addClass('selected-viz');
        });
      });

/*
      // GA dropped 26 Jun 2023 and then made official on 18 Aug 2023
/*
      // the sunset-ed GA, commented on 26 Jun 2023, and Prof Halim doesn't bother to use anymore
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
*/

      // function setCookie(cname, cvalue, exdays) {
      //   const d = new Date();
      //   d.setTime(d.getTime() + (exdays*24*60*60*1000));
      //   let expires = "expires="+ d.toUTCString();
      //   document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      // }

//       //         $(function() {
//           $('#gdpr-accept').click(function () {
// /*
//             // added on 26 Jun 2023
//             window.dataLayer = window.dataLayer || [];
//             function gtag(){dataLayer.push(arguments);}
//             gtag('js', new Date());

//             gtag('config', 'UA-1566631-4');
// */
// //            ga('create', 'UA-1566631-4', 'auto');
// //            ga('send', 'pageview');
//             setCookie('use_google_analytics', 'true', 365)
//             $('#gdpr-popup').hide()
//           });
//           $('#gdpr-reject').click(function () {
//             setCookie('use_google_analytics', 'false', 365)
//             $('#gdpr-popup').hide()
//           });
//         });
//       
      $('#gdpr-privacy-policy').click(function () {
        if ($(window).width() > 600) {
          $('#dark-overlay').fadeIn(function() {
            $('#privacy-policy').fadeIn();
          });
        }
        else
          alert('Sorry, this dialog is too big. Please load it on bigger screen');
      })
    </script>

<script src="https://visualgo.net/js/jquery-ui.min.js"></script>

<script src="https://visualgo.net/js/d3.min.js"></script>
<script src="https://visualgo.net/js/viz-1.0.10.js"></script>

<script src="/js/graph_library/constant.js"></script>
<script src="/js/graph_library/drawgraph.js"></script>
<script src="/js/graph_library/GraphEdgeWidget.js"></script>
<script src="/js/graph_library/GraphPolygonWidget.js"></script>
<script src="/js/graph_library/GraphVertexWidget.js"></script>
<script src="/js/graph_library/GraphWidget.js"></script>
<script src="/js/graph_library/helperObjects.js?refresh22aug9pm"></script> 
<script src="/js/graph_library/misc.js"></script>
<script src="/js/graph_library/properties.js"></script>
<script src="/js/graph_library/Widget.js"></script>
<script src="/js/graph_library/force_directed_library.js"></script>

<script>
      $(function () {
        let defaultPlaybackSpeed = 1;
                createPlaybackSpeedSlider(defaultPlaybackSpeed);


        $('#account-dropdown-btn').click(function (e) {
          $('#account-dropdown-menu').css('display', 'block')
          $('#language-dropdown-menu').css('display', 'none')
          e.stopPropagation()
        })
        $(document).click(function (e) {
          $('#account-dropdown-menu').css('display', 'none')
        });
        //Mobile Design Related DOM Manipulations
        if (isMobile()) {
          $("#status").css({
            "bottom": "10%",
            "height": "12%",
            "max-height": "54px"
          });
          $("#current-action").css("bottom", "22%");
          $('#status-hide').remove();
          $('#left-bar').remove();
          $('#right-bar').remove();
          $("#mode-menu").remove();
          $("#codetrace").css("z-index", 1);
          $("#bottom-bar a").hide();
          $("#bottom-bar").css("height", $("#topbar").css("height"));
          $(".speed-dropup-btn").show();
          $("#go-to-beginning").remove();
          $("#go-to-end").remove();
          $("#pause").remove();
          $("#play").remove();
          $("#previous").remove();
          $("#next").remove();

          //make progress bar longer
          $("#progress-bar").css({
            left: "30%",
            width: "60%",
            'margin-left': 0
          })
        }
      })

      let mobilePlaybackOverlayTimeout;
      $(function() {
        $("#viz").on("click", () => {
          if (isMobile()) {
            if ($("#mobile-playback-overlay").is(":hidden") && isPlaying) {
              $("#mobile-playback-overlay").fadeIn();
              hideMobilePlaybackOverlay(6000);
            } else {
              $("#mobile-playback-overlay").fadeOut();
            }
          }
        });
        $("#mobile-playback-overlay").on("click", (event) => {
          if (event.target === event.currentTarget) //to ensure clicks on the controls dont fade the overlay
            $("#mobile-playback-overlay").fadeOut();
          else
            hideMobilePlaybackOverlay(5000);
        })
      });
      function hideMobilePlaybackOverlay(timeOut) {
        if (mobilePlaybackOverlayTimeout)
          clearTimeout(mobilePlaybackOverlayTimeout);
        mobilePlaybackOverlayTimeout = setTimeout(() => {
            $("#mobile-playback-overlay").fadeOut();
        }, timeOut);
      }
      function mobilePlaybackPauseOrPlay() {
        if ($("#mobile-playback-overlay").hasClass("playing")) {
          pause();
          hideMobilePlaybackOverlay(5000);
        } else {
          play();
          hideMobilePlaybackOverlay(3000);
        }
      }
      let rewindLabelTimeout, forwardLabelTimeout;
      function mobilePlaybackRewind() {
        $("#mobile-playback-rewind-label").css("opacity", 1);
        if (rewindLabelTimeout)
          clearTimeout(rewindLabelTimeout);
        rewindLabelTimeout = setTimeout(() => {
          $("#mobile-playback-rewind-label").css("opacity", 0);
        }, 800);
        stepBackward(7);
      }
      function mobilePlaybackForward() {
        $("#mobile-playback-forward-label").css("opacity", 1);
        if (forwardLabelTimeout)
          clearTimeout(forwardLabelTimeout);
        forwardLabelTimeout = setTimeout(() => {
          $("#mobile-playback-forward-label").css("opacity", 0);
        }, 800);
        stepForward(7);
      }

      //let eLectureSessionHistory = {};
      const sectorColors = ['#05a4d0', '#f1c706', '#fa0202'];
      function setSlideTimelineColor(slideNo) {
        const sectionNo = slideNo.split('-')[0];
        $(`[slideNo="${slideNo}"]`).css('background', sectorColors[(parseInt(sectionNo) % 3)]);
      }

      let currSlideTimer = null; //global so that we can clear the timeout when required

      const lectureIds = [{"id":34,"category":"dfsbfs","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:51:35","updated_at":"2023-10-19 08:39:31","section":-1,"code":"","section_order":-1,"value":"1","text":"\u7ed9\u5b9a\u4e00\u4e2a\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528O(<b>V<\/b>+<b>E<\/b>)DFS\uff08\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff09\u6216BFS\uff08\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff09\u7b97\u6cd5\u6765\u904d\u5386\u8be5\u56fe\u5e76\u63a2\u7d22\u8be5\u56fe\u7684\u7279\u5f81\/\u5c5e\u6027\u3002\u6bcf\u79cd\u7b97\u6cd5\u90fd\u6709\u81ea\u5df1\u7684\u7279\u70b9\u3001\u7279\u5f81\u548c\u526f\u4f5c\u7528\uff0c\u6211\u4eec\u5c06\u5728\u8fd9\u4e2a\u53ef\u89c6\u5316\u4e2d\u63a2\u8ba8\u3002<br>\u8fd9\u4e2a\u53ef\u89c6\u5316\u7684\u5185\u5bb9\u5f88\u4e30\u5bcc\uff0c\u6709\u5f88\u591aDFS\u548cBFS\u7684\u53d8\u4f53\uff08\u90fd\u4ee5O(<b>V<\/b>+<b>E<\/b>)\u8fd0\u884c\uff09\uff0c\u6bd4\u5982\uff1a<br><ol><li>\u62d3\u6251\u6392\u5e8f\u7b97\u6cd5\uff08\u5305\u62ecDFS\u548cBFS\/Kahn\u7684\u7b97\u6cd5\u7248\u672c\uff09\uff0c<\/li><li>\u4e8c\u5206\u56fe\u68c0\u67e5\u5668\u7b97\u6cd5\uff08\u5305\u62ecDFS\u548cBFS\u7248\u672c\uff09\uff0c<\/li><li>\u5207\u5272\u9876\u70b9\u548c\u6865\u7684\u67e5\u627e\u7b97\u6cd5\uff0c<\/li><li>\u5f3a\u8fde\u901a\u5206\u91cf\uff08SCC\uff09\u67e5\u627e\u7b97\u6cd5<br>(Kosaraju\u7684\u548cTarjan\u7684\u7248\u672c)\uff0c<\/li><li>\u4ee5\u53ca2-SAT\u68c0\u67e5\u7b97\u6cd5\u3002<\/li><\/ol>","title":"DFS &amp; BFS"},{"id":35,"category":"dfsbfs","order":2,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:53:02","updated_at":"2017-05-07 06:58:47","section":-1,"code":"example(CP3_4_1);","section_order":-1,"value":"2","text":"<p>\u5f53\u6240\u9009\u7684\u56fe\u904d\u5386\u7b97\u6cd5\u8fd0\u884c\u65f6\uff0c\u5c06\u5728\u6b21\u5904\u663e\u793a\u52a8\u753b\u3002<\/p><div><span lang=\"zh-CN\"><br><\/span><\/div><div><span lang=\"zh-CN\">\u6211\u4eec\u4f7f\u7528\u8282\u70b9 + \u8fb9\u989c\u8272\uff08\u989c\u8272\u65b9\u6848\u5c06\u5f88\u5feb\u9610\u8ff0\uff09\uff0c\u5076\u5c14\u4f7f\u7528\u8282\u70b9\u4e0b\u7684\u989d\u5916\u7684\u6587\u672c\uff08<\/span><span style=\"color: rgb(255, 0, 0);\">\u7ea2\u8272\u5b57\u4f53<\/span>\uff09\u6765\u7a81\u51fa\u663e\u793a\u66f4\u6539\u3002<\/div><div><span lang=\"zh-CN\"><br><\/span><\/div><div><span lang=\"zh-CN\">\u6240\u6709\u7684\u56fe\u904d\u5386\u7b97\u6cd5\u90fd\u9002\u7528\u4e8e\u6709\u5411\u56fe\uff08\u8fd9\u662f\u9ed8\u8ba4\u8bbe\u7f6e\uff0c\u5176\u4e2d\u6bcf\u4e2a\u8fb9\u90fd\u6709\u4e00\u4e2a\u7bad\u5934\u6307\u793a\u5176\u53cd\u5411\uff09\uff0c\u4f46\u662f<\/span> <b>Bipartite Graph Check<\/b> \u7b97\u6cd5\u548c <b>Cut Vertex &amp; Bridge<\/b> \u67e5\u627e\u7b97\u6cd5 \u9700\u8981\u65e0\u5411\u56fe\uff08\u901a\u8fc7\u8fd9\u79cd\u53ef\u89c6\u5316\uff0c\u8f6c\u6362\u662f\u81ea\u52a8\u5b8c\u6210\u7684\uff09\u3002<\/div>","title":"\u53ef\u89c6\u5316"},{"id":36,"category":"dfsbfs","order":3,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:54:01","updated_at":"2023-10-19 08:42:44","section":-1,"code":"$(\"#draw\").addClass(\"menu-highlighted\");\n$(\"#random\").addClass(\"menu-highlighted\");\n$(\"#examples\").click().addClass(\"menu-highlighted\");","section_order":-1,"value":"3","text":"<p>There are two different sources for specifying an input graph:<\/p><ol><li><b>Edit Graph<\/b>: You can draw a new graph or edit an example unweighted directed graph as the input graph (to draw bidirectional edge (u, v), you can draw two directed edges u \u2192 v and v \u2192 u).<\/li><li><b>Example Graphs<\/b>: You can select from the list of our selected example graphs to get you started.<\/li><\/ol>","title":"\u6307\u5b9a\u4e00\u4e2a\u8f93\u5165\u56fe"},{"id":297,"category":"dfsbfs","order":4,"top":"140px","right":"60px","bottom":"","left":"","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 01:19:19","updated_at":"2023-10-19 08:43:12","section":-1,"code":"loadGraph({\n  'vl': {\n    0: { \"x\": 100, \"y\": 50  },\n    1: { \"x\":  50, \"y\": 150 },\n    2: { \"x\": 150, \"y\": 150 },\n    3: { \"x\": 125, \"y\": 250 },\n    4: { \"x\": 175, \"y\": 250 },\n  },\n  'el': {\n    0: { \"u\": 0, \"v\": 1, \"w\": 1 },\n    1: { \"u\": 0, \"v\": 2, \"w\": 1 },\n    2: { \"u\": 2, \"v\": 3, \"w\": 1 },\n    3: { \"u\": 2, \"v\": 4, \"w\": 1 },\n  }\n});","section_order":-1,"value":"4","text":"<p>\u5982\u679c\u60a8\u8fd8<b>\u6ca1\u6709<\/b>\u63a2\u7d22\/\u638c\u63e1 <a href=\".\/heap\"><u>Binary Heap<\/u><\/a> \u7684\u6982\u5ff5\uff0c\u5c24\u5176\u662f <a href=\".\/bst\"><u>Binary Search Tree<\/u><\/a>, \uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u9996\u5148\u63a2\u7d22\u5b83\u4eec\uff0c\u56e0\u4e3a\u904d\u5386\u4e00\u4e2a\uff08\u4e8c\u53c9\uff09\u6811\u7ed3\u6784\u6bd4\u904d\u5386\u4e00\u822c\u56fe\u7b80\u5355\u5f97\u591a\u3002<\/p><input class=\"msq-answer\" id=\"msq-answer-14\" value=\"60,63,64\" hidden><p>Quiz: <b>Mini pre-requisite check. What are the Pre-\/In-\/Post-order traversal of the binary tree shown (root = vertex 0), left and right child are as drawn?<\/b><\/p><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-14-choice-60\"> Pre  = 0, 1, 2, 3, 4<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-14-choice-63\"> In = 1, 0, 3, 2, 4<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-14-choice-64\"> Post = 1, 3, 4, 2, 0<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-14-choice-61\"> Pre = 0, 2, 4, 3, 1<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-14-choice-65\"> Post = 4, 3, 2, 1, 0<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-14-choice-62\"> In = 4, 2, 3, 0, 1<br><button class=\"msq-submit\" id=\"submit-14\">Submit<\/button> <span id=\"answer-status-14\"><\/span>","title":"\u6982\u62ec"},{"id":298,"category":"dfsbfs","order":1,"top":"140px","right":"60px","bottom":"","left":"","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 01:30:09","updated_at":"2023-10-19 08:43:21","section":297,"code":"loadGraph({\n  'vl': {\n    0: { \"x\": 100, \"y\": 150 },\n    1: { \"x\":  50, \"y\": 50  },\n    2: { \"x\": 150, \"y\": 50  },\n    3: { \"x\": 175, \"y\": 150 },\n    4: { \"x\": 225, \"y\": 150 },\n  },\n  'el': {\n    0: { \"u\": 0, \"v\": 1, \"w\": 1 },\n    1: { \"u\": 0, \"v\": 2, \"w\": 1 },\n    2: { \"u\": 2, \"v\": 3, \"w\": 1 },\n    3: { \"u\": 2, \"v\": 4, \"w\": 1 },\n    4: { \"u\": 1, \"v\": 0, \"w\": 1 },\n    5: { \"u\": 2, \"v\": 0, \"w\": 1 },\n    6: { \"u\": 3, \"v\": 2, \"w\": 1 },\n    7: { \"u\": 4, \"v\": 2, \"w\": 1 },\n  }\n});","section_order":4,"value":"4-1","text":"\u6211\u4eec\u901a\u5e38\u4ece\uff08\u4e8c\u53c9\uff09\u6811\u7684\u6700\u91cd\u8981\u7684\u9876\u70b9\uff1a<b>\u6839<\/b>\u8282\u70b9 \u5f00\u59cb\u3002<div>\u5982\u679c\u7ed9\u5b9a\u7684\u6811\u4e0d\u662f\u201crooted\u201d\uff08\u53c2\u89c1\u793a\u4f8b\u56fe\u7247\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u4efb\u4f55\u4e00\u4e2a\u9876\u70b9\uff08\u4f8b\u5982\uff0c\u793a\u4f8b\u56fe\u7247\u4e2d\u7684\u9876\u70b90\uff09\u5e76\u5c06\u5176\u6307\u5b9a\u4e3a\u6839\u3002\u5982\u679c\u6211\u4eec\u60f3\u8c61\u6240\u6709\u8fb9\u90fd\u662f\u76f8\u4f3c\u957f\u5ea6\u7684\u5f26\uff0c\u90a3\u4e48\u5728\u201d\u5b9e\u9645\u5411\u4e0a\u62c9\u6307\u5b9a\u7684\u6839\u201c\u5e76\u8ba9\u4e2d\u7acb\u5411\u4e0b\u62c9\u52a8\u5176\u4f59\u90e8\u5206\u4e4b\u540e\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u6709\u6839\u7684\uff08\u5411\u4e0b\uff09\u6811 - \u89c1\u4e0b\u4e00\u5f20\u5e7b\u706f\u7247\u3002<\/div><div>PS\uff1a\u4ece\u6280\u672f\u4e0a\u6765\u8bb2\uff0c\u8fd9\u79cd\u8f6c\u6362\u662f\u901a\u8fc7\u8fd0\u884c\u6211\u4eec\u5373\u5c06\u63a2\u7d22\u7684 DFS(0) \u6765\u5b9e\u73b0\u7684\u3002<\/div>","title":"\u4e8c\u53c9\u6811\u904d\u5386 - \u6e90 = \u6839"},{"id":299,"category":"dfsbfs","order":2,"top":"140px","right":"60px","bottom":"","left":"","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 01:38:48","updated_at":"2023-10-19 08:43:24","section":297,"code":"loadGraph({\n  'vl': {\n    0: { \"x\": 100, \"y\": 50  },\n    1: { \"x\":  50, \"y\": 150 },\n    2: { \"x\": 150, \"y\": 150 },\n    3: { \"x\": 125, \"y\": 250 },\n    4: { \"x\": 175, \"y\": 250 },\n  },\n  'el': {\n    0: { \"u\": 0, \"v\": 1, \"w\": 1 },\n    1: { \"u\": 0, \"v\": 2, \"w\": 1 },\n    2: { \"u\": 2, \"v\": 3, \"w\": 1 },\n    3: { \"u\": 2, \"v\": 4, \"w\": 1 },\n  }\n});","section_order":4,"value":"4-2","text":"\u5728<b>\u4e8c\u53c9<\/b>\u6811\u4e2d\uff0c\u6211\u4eec<b>\u6700\u591a\u53ea\u6709\u4e24\u4e2a<\/b>\u76f8\u90bb\u7684\u9009\u62e9\uff1a\u4ece\u5f53\u524d\u9876\u70b9\u5f00\u59cb\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5230\u5de6\u8fb9\u7684\u5b50\u6811\uff0c\u6216\u8005\u5148\u5230\u53f3\u8fb9\u7684\u5b50\u6811\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u9009\u62e9\u5728\u8bbf\u95ee\u5176\u4e2d\u4e00\u4e2a\uff08\u6216\u4e24\u4e2a\uff09\u5b50\u6811\u4e4b\u524d\u6216\u4e4b\u540e\u8bbf\u95ee\u5f53\u524d\u9876\u70b9\u3002<div>\u8fd9\u4ea7\u751f\u4e86\u4e2a\u6709\u4ee3\u8868\u6027\u7684\uff1a\u524d\u5e8f\uff08\u8bbf\u95ee\u5f53\u524d\u9876\u70b9\uff0c\u8bbf\u95ee\u5176\u5de6\u5b50\u6811\uff0c\u8bbf\u95ee\u5176\u53f3\u5b50\u6811\uff09\uff0c\u4e2d\u5e8f\uff08\u5de6\uff0c\u5f53\u524d\uff0c\u53f3\uff09\uff0c\u548c\u540e\u5e8f\uff08\u5de6\uff0c\u53f3\uff0c\u5f53\u524d\uff09\u904d\u5386\u3002<\/div><div>\u8ba8\u8bba\uff1a\u60a8\u662f\u5426\u6ce8\u610f\u5230\u8fd8\u6709\u5176\u5b83\u4e09\u79cd\u53ef\u80fd\u7684\u4e8c\u53c9\u6811\u7684\u904d\u5386\u7ec4\u5408\uff1f\u4ed6\u4eec\u662f\u4ec0\u4e48\uff1f<\/div>","title":"\u4e8c\u53c9\u6811\u904d\u5386 - \u524d\u5e8f-\/\u4e2d\u5e8f-\/\u540e\u5e8f-\u904d\u5386"},{"id":426,"category":"dfsbfs","order":3,"top":"140px","right":"60px","bottom":"","left":"","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-05-18 10:02:36","updated_at":"2023-10-19 08:43:26","section":297,"code":"loadGraph({\n  'vl': {\n    0: { \"x\": 100, \"y\": 50  },\n    1: { \"x\":  50, \"y\": 150 },\n    2: { \"x\": 150, \"y\": 150 },\n    3: { \"x\": 125, \"y\": 250 },\n    4: { \"x\": 175, \"y\": 250 },\n  },\n  'el': {\n    0: { \"u\": 0, \"v\": 1, \"w\": 1 },\n    1: { \"u\": 0, \"v\": 2, \"w\": 1 },\n    2: { \"u\": 2, \"v\": 3, \"w\": 1 },\n    3: { \"u\": 2, \"v\": 4, \"w\": 1 },\n  }\n});","section_order":4,"value":"4-3","text":"<p>\u53cd\u5411\u904d\u5386\uff1a<\/p><ol><li>\u9006\u4e2d\u5e8f \uff08\u53f3\uff0c\u5f53\u524d\uff0c\u5de6\uff09\uff0c<\/li><li>\u9006\u524d\u5e8f \uff08\u5f53\u524d\uff0c\u53f3\uff0c\u5de6\uff09\uff0c<\/li><li>\u9006\u540e\u5e8f \uff08\u53f3\uff0c\u4f5c\uff0c\u5f53\u524d\uff09\u3002<\/li><\/ol>","title":"\u7b54\u6848"},{"id":300,"category":"dfsbfs","order":4,"top":"140px","right":"60px","bottom":"","left":"","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 01:45:23","updated_at":"2023-10-19 08:43:28","section":297,"code":"loadGraph({\n  'vl': {\n    0: { \"x\": 100, \"y\": 50  },\n    1: { \"x\":  50, \"y\": 150 },\n    2: { \"x\": 150, \"y\": 150 },\n    3: { \"x\": 125, \"y\": 250 },\n    4: { \"x\": 175, \"y\": 250 },\n  },\n  'el': {\n    0: { \"u\": 0, \"v\": 1, \"w\": 1 },\n    1: { \"u\": 0, \"v\": 2, \"w\": 1 },\n    2: { \"u\": 2, \"v\": 3, \"w\": 1 },\n    3: { \"u\": 2, \"v\": 4, \"w\": 1 },\n  }\n});","section_order":4,"value":"4-4","text":"\u4e00\u4e2a\u4e8c\u53c9\u6811\u4e2d\uff0c\u6216\u8005\u6982\u62ec\u6765\u8bf4 \u4e00\u4e2a\u6811\u7ed3\u6784\uff0c\u4e0d\u5305\u542b\u5927\u4e8e\u4e09\u4e2a\u4e0d\u540c\u7684\u9876\u70b9\uff08\u6211\u4eec\u4e0d\u8003\u8651\u90a3\u4e9b\u8fde\u901a\u4e24\u4e2a\u9876\u70b9\u7684\u53cc\u5411\u8def\u5f84\u6240\u4ea7\u751f\u7684\u5c0f\u5708 \u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5904\u7406\u6389\u5b83\u4eec - \u5f80\u524d\u7ffb\u4e09\u9875\uff09","title":"\u4e8c\u53c9\u6811\u904d\u5386 - \u65e0\u73af"},{"id":301,"category":"dfsbfs","order":5,"top":"140px","right":"60px","bottom":"","left":"","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 01:58:39","updated_at":"2023-10-19 08:43:30","section":297,"code":"","section_order":4,"value":"4-5","text":"<p>\u5728\u4e00\u822c\u56fe\u4e2d\uff0c\u6211\u4eec\u6ca1\u6709\u6839\u8282\u70b9\u7684\u6982\u5ff5\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u4e0d\u540c\u7684\u8282\u70b9\u4f5c\u4e3a\u904d\u5386\u7684\u8d77\u59cb\u70b9\uff0c\u5373\u6e90\u70b9 <b>s <\/b>\u3002<\/p>\u6211\u4eec\u8fd8\u6709\u4e00\u4e2a\u8282\u70b9\u7684 0, 1, ..., <b>k<\/b> \u4e2a\u90bb\u70b9\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f \u2264 2\u3002<div>\u6211\u4eec<b>\u53ef\u80fd<\/b>\uff08<b>\u6216\u8005\u5b9e\u9645\u4e0a\u5f88\u53ef\u80fd<\/b>\uff09\u5728\u6211\u4eec\u7684\u4e00\u822c\u7684\u56fe\u5177\u6709\u5faa\u73af\uff0c\u65e0\u8bba\u662f\u50cf u \u2192 v \u2192 u \u90a3\u6837\u7684\u7b80\u5355\u7684\u73af\uff0c\u8fd8\u662f\u50cf a \u2192 b \u2192 c \u2192 a \u8fd9\u6837\u7684\u4e0d\u7b80\u5355\u7684\u73af\u3002<br><\/div><div>\u4f46\u4e0d\u7528\u62c5\u5fc3\uff0c\u56fe\u7684\u904d\u5386\u662f\u4e00\u4e2a\u5177\u6709\u4e24\u79cd\u7ecf\u5178\u7b97\u6cd5\u7684\u7b80\u5355\u95ee\u9898\uff1aDFS \u548c BFS\u3002<\/div>","title":"\u4e00\u822c\u56fe\u7684\u95ee\u9898"},{"id":37,"category":"dfsbfs","order":5,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:54:51","updated_at":"2018-03-22 13:35:01","section":-1,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":-1,"value":"5","text":"\u6700\u57fa\u672c\u7684\u56fe\u904d\u5386\u7b97\u6cd5\u4e4b\u4e00\u662f<span style=\"white-space: normal;\">&nbsp;O(<\/span><b style=\"white-space: normal;\">V<\/b><span style=\"white-space: normal;\">+<\/span><b style=\"white-space: normal;\">E<\/b><span style=\"white-space: normal;\">) \u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff08DFS\uff09\u3002<\/span><div><span style=\"white-space: normal;\">DFS \u91c7\u7528\u4e00\u4e2a\u8f93\u5165\u53c2\u6570\uff1a\u6e90\u70b9<\/span><span style=\"white-space: normal;\">&nbsp;<\/span><b style=\"white-space: normal;\">s<\/b><span style=\"white-space: normal;\">\u3002<\/span><\/div><div><span style=\"white-space: normal;\">DFS \u662f\u6700\u57fa\u672c\u7684\u56fe\u7684\u7b97\u6cd5\u4e4b\u4e00\uff0c\u56e0\u6b64\u8bf7\u82b1\u65f6\u95f4\u4e86\u89e3\u8be5\u7b97\u6cd5\u7684\u5173\u952e\u6b65\u9aa4\u3002<\/span><\/div>","title":"DFS"},{"id":284,"category":"dfsbfs","order":1,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-06 01:50:17","updated_at":"2017-10-20 09:09:58","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");","section_order":5,"value":"5-1","text":"<p><img src=\"\/img\/maze.svg\" style=\"background-color: white; float: right;\" alt=\"maze\" width=\"100\" height=\"100\">DFS\u7c7b\u6bd4\u4e00\u4e2a\u53ea\u6709\u4e00\u4e2a\u4eba\u53e3\u548c\u4e00\u4e2a\u51fa\u53e3\u7684\u8ff7\u5bab\u3002\u60a8\u5728 \u5165\u53e3\u5904\uff0c\u60f3\u8981\u63a2\u7d22\u8ff7\u5bab\u5230\u8fbe\u51fa\u53e3\u3002\u663e\u7136\u4f60\u4e0d\u80fd\u5206\u8eab\u3002<\/p><p>\u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u5148\u601d\u8003\u8fd9\u4e9b\u53cd\u601d\u6027\u95ee\u9898\uff1a\u5982\u679c\u60a8\u9762\u524d\u6709\u5206\u652f\u9009\u62e9\uff0c\u60a8\u4f1a\u600e\u4e48\u505a\uff1f\u5982\u4f55\u907f\u514d\u8fdb\u5165\u5faa\u73af\uff1f\u5982\u4f55\u6807\u8bb0\u81ea\u5df1\u7684\u8def\u5f84\uff1f\u63d0\u793a\uff1a\u4f60\u9700\u8981\u4e00\u53ea\u7c89\u7b14\uff0c\u77f3\u5934\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u6807\u8bb0\u7269\uff09\u548c\u4e00\u6839\uff08\u957f\uff09\u7ebf\u3002<\/p>","title":"\u6bd4\u55bb"},{"id":286,"category":"dfsbfs","order":2,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-06 02:06:18","updated_at":"2017-10-20 09:10:01","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");","section_order":5,"value":"5-2","text":"\u987e\u540d\u601d\u4e49\uff0cDFS\u4ece\u4e00\u4e2a\u5df2\u77e5\u7684\u6e90\u9876\u70b9 <span style=\"white-space: normal;\">&nbsp;<\/span><b style=\"white-space: normal;\">s<\/b><span style=\"white-space: normal;\">&nbsp;\u4f7f\u7528\u9012\u5f52\uff08\u9690\u5f0f\u5806\uff09\u6765\u63a7\u5236\u8bbf\u95ee\u987a\u5e8f\u4e3a\u8d70\u5230\u6700\u6df1\u518d\u8fd4\u56de\u3002<\/span><p><span style=\"white-space: normal;\">\u5982\u679cDFS\u5728\u9876\u70b9 u \u5e76\u4e14\u5b83\u6709 X \u4e2a\u90bb\u5c45\uff0c\u5b83\u4f1a\u9009\u62e9\u7b2c\u4e00\u4e2a\u90bb\u5c45<\/span> <b>V<sub>1<\/sub><\/b> (\u901a\u5e38\u662f\u5e8f\u53f7\u6700\u5c0f\u7684\u90a3\u4e2a\u9876\u70b9), \u4f7f\u7528\u9012\u5f52\u8bbf\u95ee\u6240\u6709 <b>V<sub>1<\/sub><\/b>\u53ef\u4ee5\u5230\u8fbe\u7684\u9876\u70b9, \u6700\u7ec8\u8fd4\u56de\u9876\u70b9 <b>u<\/b>. DFS \u63a5\u4e0b\u6765\u5bf9\u5176\u4ed6\u7684\u90bb\u5c45\u505a\u540c\u6837\u7684\u4e8b\u6307\u5bfc\u63a2\u7d22\u5b8c\u6210\u6700\u540e\u4e00\u4e2a\u90bb\u5c45 <b>V<sub>X<\/sub><\/b> \u548c\u5b83\u6240\u80fd\u89e6\u53ca\u5230\u7684\u9876\u70b9.<\/p>\u7b49\u4e0b\u770b\u4e86DFS\u7684\u52a8\u753b \u8fd9\u4e2a\u5197\u957f\u7684\u89e3\u91ca\u4f1a\u53d8\u5f97\u6e05\u6670\u8d77\u6765\u3002","title":"\u5c1d\u8bd5\u6240\u6709\u9009\u9879"},{"id":283,"category":"dfsbfs","order":3,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-05 14:24:43","updated_at":"2017-10-20 09:12:10","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");","section_order":5,"value":"5-3","text":"<p>\u5982\u679c\u4e00\u4e2a\u56fe\u662f\u5708\uff0c\u4e4b\u524d\u7684\u201c\u5c1d\u8bd5\u6240\u6709\u201d\u7684\u65b9\u6cd5\u53ef\u80fd\u8ba9DFS\u9677\u5165\u5faa\u73af\u3002\u6240\u4ee5DFS\u7684\u57fa\u672c\u5f62\u5f0f\u7528\u4e00\u4e2a\u5927\u5c0f\u4e3a <b>V<\/b> \u4e2a\u9876\u70b9\u7684\u6570\u7ec4 <b>status[u]<\/b> \u6765\u786e\u5b9a\u4e24\u79cd\u60c5\u51b5 \u5206\u522b\u4e3a u \u5df2\u7ecf\u88ab\u8bbf\u95ee\u8fc7\u4e86 \u6216\u8005\u6ca1\u6709\u88ab\u8bbf\u95ee\u8fc7\u3002\u53ea\u6709\u5f53 <b>u<\/b> \u8fd8\u6ca1\u6709\u88ab\u8bbf\u95ee\u8fc7\u7684\u65f6\u5019 DFS\u624d\u53ef\u4ee5\u8bbf\u95ee\u9876\u70b9 <b>u<\/b>.<\/p><br><p>\u5f53DFS\u6ca1\u6709\u8def\u53ef\u8d70\u7684\u65f6\u5019\u5b83\u4f1a\u8df3\u51fa\u5f53\u524d\u7684\u9012\u5f52 <b>\u56de\u53bb<\/b> \u5230\u4e4b\u524d\u7684\u9876\u70b9 (<b>p[u]<\/b>, \u770b\u4e0b\u4e00\u9875).<\/p>","title":"\u907f\u514d\u5faa\u73af"},{"id":285,"category":"dfsbfs","order":4,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-06 01:57:23","updated_at":"2017-10-20 09:12:13","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");","section_order":5,"value":"5-4","text":"<p>DFS \u7528\u53e6\u4e00\u4e2a\u5927\u5c0f\u4e3a <b>V<\/b> \u4e2a\u9876\u70b9\u6570\u7ec4 <b>p[u]<\/b> \u6765\u8bb0\u4f4f\u5728DFS\u904d\u5386\u8def\u5f84\u4e0a\u6bcf\u4e00\u4e2a\u9876\u70b9 <b>u<\/b> \u7684 <b>parent\/predecessor\/previous\uff08\u7236\/\u7956\u5148\/\u524d\uff09\u9876\u70b9\u3002<\/b><\/p><p>\u6700\u5f00\u59cb\u7684\u9876\u70b9\u7684\u7956\u5148\u4e5f\u5c31\u662f <b>p[s]<\/b> \u88ab\u8bbe\u5b9a\u4e3a-1\u4e5f\u5c31\u662f\u8bf4\u5b83\u6ca1\u6709\u7956\u5148 (\u56e0\u4e3a\u6700\u4f4e\u7684\u9876\u70b9\u662f\u9876\u70b90).<\/p><p>\u4ece\u4e00\u4e2a\u6e90\u9876\u70b9 <b>s<\/b> \u5230\u4e00\u4e2a\u53ef\u4ee5\u5230\u8fbe\u7684\u9876\u70b9 <b>u<\/b> \u6240\u751f\u6210\u7684\u8def\u5f84\u53cd\u8fc7\u6765 \u5c31\u662f <b>DFS \u751f\u6210\u6811<\/b>. \u6211\u4eec\u7ed9\u8fd9\u4e9b <b>\u6811\u8fb9<\/b> \u4e0a <span style=\"color: red;\">\u7ea2\u8272<\/span>.<\/p>","title":"\u8bb0\u4f4f\u8fd9\u4e2a\u8def\u5f84"},{"id":287,"category":"dfsbfs","order":5,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-06 02:15:04","updated_at":"2017-05-07 01:59:51","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":5,"value":"5-5","text":"<p>\u73b0\u5728\uff0c\u5ffd\u7565\u663e\u793a\u7684\u4f2a\u4ee3\u7801\u4e2d\u989d\u5916\u7684 <b>status[u] = explored<\/b> \u4ee5\u53ca\u53ef\u89c6\u5316\u4e2d\u7684 <span style=\"color: lightblue;\">\u84dd\u8272<\/span> \u548c <span style=\"color: grey;\">\u7070\u8272<\/span> \u8fb9\u7684\u5b58\u5728 \uff08\u5c06\u5f88\u5feb\u4f1a\u89e3\u91ca\uff09\u3002<\/p>\u4e0d\u7528\u591a\u8bf4\uff0c\u8ba9\u6211\u4eec\u5728\u8fd9\u4e2a e-Lecture \u7684\u9ed8\u8ba4\u793a\u4f8b\u56fe\u4e0a\u6267\u884c <span class=\"slide-actions\" onclick=\"doButtonAction39()\">DFS(0)<\/span> (CP3 Figure 4.1)\u3002 <span id=\"dfsrecap\"><span class=\"slide-actions\" onclick=\"doButtonAction41()\">Recap DFS Example<\/span><\/span><br>\u5230\u76ee\u524d\u4e3a\u6b62\uff0cDFS \u7684\u57fa\u672c\u7248\u672c\u5df2\u7ecf\u8db3\u591f\u7528\u4e8e\u5927\u591a\u6570\u7684\u7b80\u5355\u6848\u4f8b\u3002","title":"\u52a8\u624b\u5b9e\u4f8b"},{"id":291,"category":"dfsbfs","order":6,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-07 06:53:52","updated_at":"2017-10-20 09:12:17","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");","section_order":5,"value":"5-6","text":"<p>DFS \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(<b>V<\/b>+<b>E<\/b>) \uff0c\u56e0\u4e3a\uff1a<\/p><ol><li>\u6bcf\u4e2a\u8282\u70b9\u53ea\u8bbf\u95ee\u8fc7\u4e00\u6b21\uff0c\u56e0\u4e3a DFS \u5c06\u4ec5\u9012\u5f52\u5730\u63a2\u7d22\u8282\u70b9 <b>u<\/b> \u5982\u679c <b>status[u] = unvisited<\/b>  \u2014 O(<b>V<\/b>)<\/li><li>\u6bcf\u6b21\u8bbf\u95ee\u5b8c\u4e00\u4e2a\u8282\u70b9\uff0c\u90fd\u4f1a\u63a2\u7d22\u5176\u6240\u6709 <b>k<\/b> \u4e2a\u90bb\u70b9\uff0c\u56e0\u6b64\u5728\u8bbf\u95ee\u6240\u6709\u8282\u70b9\u4e4b\u540e\uff0c\u6211\u4eec\u5df2\u68c0\u67e5\u4e86\u6240\u6709 <b>E<\/b> \u8fb9 \u2014 \uff08O(<b>E<\/b>) \uff0c\u56e0\u4e3ai\u6bcf\u4e2a\u8282\u70b9\u7684\u90bb\u70b9\u603b\u6570\u7b49\u4e8e <b>E<\/b>\uff09\u3002<\/li><\/ol>","title":"O(V+E) \u65f6\u95f4\u590d\u6742\u5ea6"},{"id":292,"category":"dfsbfs","order":7,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-07 07:12:56","updated_at":"2017-10-20 09:12:18","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");","section_order":5,"value":"5-7","text":"<p>DFS \u7684he O(<b>V<\/b>+<b>E<\/b>) \u65f6\u95f4\u590d\u6742\u5ea6\u53ea\u6709\u5f53\u6211\u4eec\u53ef\u4ee5\u5728 O(<b>k<\/b>) \u65f6\u95f4\u5185\u8bbf\u95ee\u4e00\u4e2a\u9876\u70b9\u7684\u6240\u6709 <b>k <\/b>\u4e2a\u90bb\u70b9\u65f6\u624d\u53ef\u4ee5\u5b9e\u73b0\u3002<\/p><input class=\"mcq-answer\" id=\"mcq-answer-13\" value=\"57\" hidden><p>Quiz: <b>Which underlying graph data structure support that operation?<\/b><\/p><form><input type=\"radio\" name=\"mcq-13-choice\" value=\"56\"> Adjacency Matrix<br><input type=\"radio\" name=\"mcq-13-choice\" value=\"58\"> Edge List<br><input type=\"radio\" name=\"mcq-13-choice\" value=\"57\"> Adjacency List<br><\/form><button class=\"mcq-submit\" id=\"submit-13\">Submit<\/button> <span id=\"answer-status-13\"><\/span><br>\u8ba8\u8bba\uff1a\u4e3a\u4ec0\u4e48\uff1f","title":"\u59cb\u7ec8\u662f O(V+E) \uff1f"},{"id":427,"category":"dfsbfs","order":8,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-05-18 10:06:05","updated_at":"2017-10-20 09:16:35","section":37,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");","section_order":5,"value":"5-8","text":"<p>\u56de\u987e\u7528\u591a\u79cd <a href=\".\/graphds?slide=8-5\"><u>graph data structures<\/u><\/a>. \u904d\u5386\u5b83\u4eec\u7684\u8def\u5f84\u7684\u65f6\u95f4\u590d\u6742\u5ea6<\/p>","title":"\u7b54\u6848"},{"id":38,"category":"dfsbfs","order":6,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:55:27","updated_at":"2017-10-20 09:16:46","section":-1,"code":"$(\"#bfs\").click().addClass(\"menu-highlighted\");","section_order":-1,"value":"6","text":"\u53e6\u4e00\u79cd\u57fa\u672c\u7684\u56fe\u904d\u5386\u7b97\u6cd5\u662f<span style=\"white-space: normal;\">&nbsp;O(<\/span><b style=\"white-space: normal;\">V<\/b><span style=\"white-space: normal;\">+<\/span><b style=\"white-space: normal;\">E<\/b><span style=\"white-space: normal;\">) \u5e7f\u5ea6\u4f18\u5148\u641c\u7d22 (BFS)\u3002<\/span><div><span style=\"white-space: normal;\">\u4e0e DFS \u4e00\u6837\uff0cBFS \u4e5f\u91c7\u7528\u4e00\u4e2a\u8f93\u5165\u53c2\u6570\uff1a<\/span><span style=\"white-space: normal;\">\u6e90\u70b9<\/span><span style=\"white-space: normal;\">&nbsp;<\/span><b style=\"white-space: normal;\">s<\/b><span style=\"white-space: normal;\">\u3002<\/span><\/div><div><span style=\"white-space: normal;\">DFS \u548c BFS \u90fd\u6709\u81ea\u5df1\u7684\u4f18\u70b9\u548c\u7f3a\u70b9\u3002\u5b66\u4e60\u4e24\u8005\u5e76\u5bf9\u6b63\u786e\u7684\u60c5\u51b5\u91c7\u7528\u6b63\u786e\u7684\u56fe\u904d\u5386\u7b97\u6cd5\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002<\/span><\/div>","title":"BFS"},{"id":293,"category":"dfsbfs","order":1,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-07 12:34:47","updated_at":"2017-10-20 09:17:47","section":38,"code":"$(\"#bfs\").click().addClass(\"menu-highlighted\");","section_order":6,"value":"6-1","text":"\u60f3\u8c61\u4e00\u4e0b\u9759\u6b62\u7684\u6c34\uff0c\u7136\u540e\u4f60\u6254\u77f3\u5934\u3002\u77f3\u5934\u649e\u51fb\u6c34\u9762\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u662f\u6e90\u70b9\u7684\u4f4d\u7f6e\uff0c\u5e76\u4e14\u968f\u540e\u5728\u6c34\u9762\u4e0a\u7684<b>\u6ce2\u7eb9\u6548\u5e94<\/b>\u7c7b\u4f3c\u4e8e BFS \u904d\u5386\u6a21\u5f0f\u3002","title":"\u6bd4\u55bb"},{"id":294,"category":"dfsbfs","order":2,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-07 12:36:07","updated_at":"2017-10-20 09:17:50","section":38,"code":"$(\"#bfs\").click().addClass(\"menu-highlighted\");","section_order":6,"value":"6-2","text":"<p>BFS \u4e0e\u4e4b\u524d\u8ba8\u8bba\u8fc7\u7684\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u6709\u4e00\u4e9b\u5dee\u5f02\u3002<\/p><p>BFS \u4ece\u6e90\u70b9 <b>s<\/b> \u5f00\u59cb\uff0c\u4f46\u5b83\u5728\u66f4\u6df1\u5165\u4e4b\u524d\u4f7f\u7528 <a href=\".\/list?mode=Queue\"><u>queue<\/u><\/a> \u5c3d\u6700\u5bbd\u53ef\u80fd\u5730\u5c06\u8bbf\u95ee\u5e8f\u5217\u6392\u5e8f\u3002<\/p><br><p>BFS \u8fd8\u662f\u7528\u5927\u5c0f\u4e3a <b>V<\/b> \u8282\u70b9\u7684\u5e03\u5c14\u6570\u7ec4\u6765\u533a\u5206\u4e24\u79cd\u4e0d\u540c\u7684\u72b6\u6001\uff1a\u5df2\u8bbf\u95ee\u8282\u70b9\u548c\u672a\u8bbf\u95ee\u8282\u70b9\uff08\u6211\u4eec\u4e0d\u4f1a\u50cf\u4f7f\u7528 DFS \u90a3\u6837\u4f7f\u7528 BFS \u6765\u68c0\u6d4b\u53cd\u5411\u8fb9\uff09\u3002<\/p>\u5728\u6b64\u53ef\u89c6\u5316\u4e2d\uff0c\u6211\u4eec\u8fd8\u5c55\u793a\u4ece<b>\u672a\u52a0\u6743\u56fe<\/b>\u4e2d\u7684\u76f8\u540c\u6e90\u70b9 <b>s<\/b> \u5f00\u59cb\uff0c\u6b64\u56fe\u7684 BFS \u751f\u6210\u6811\u7b49\u4e8e\u5176 <a href=\".\/sssp\"><u>SSSP spanning tree<\/u><\/a>.","title":"\u5c1d\u8bd5\u5168\u90e8\uff0c\u907f\u514d\u5faa\u73af\uff0c\u8bb0\u4f4f\u8def\u5f84"},{"id":295,"category":"dfsbfs","order":3,"top":"140px","right":"60px","bottom":"","left":"","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-07 12:39:47","updated_at":"2023-10-19 08:45:47","section":38,"code":"$(\"#bfs\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_3);","section_order":6,"value":"6-3","text":"<p>\u4e0d\u591a\u8bf4\uff0c\u8ba9\u6211\u4eec\u5728\u9ed8\u8ba4\u7684\u793a\u4f8b\u56fe\u4e0a\u6267\u884c <span class=\"slide-actions\" onclick=\"doButtonAction40()\">BFS(5)<\/span>  (CP3 Figure 4.3). <span id=\"bfsrecap\"><span class=\"slide-actions\" onclick=\"doButtonAction42()\">Recap BFS Example<\/span><\/span>.<\/p><br><p>\u6ce8\u610f\u8fd9\u91cc\u662f <i>\u5bbd\u5ea6\u4f18\u5148<\/i> \u5f0f\u7684\u63a2\u7d22 \u56e0\u4e3a\u6211\u4eec\u7528\u4e86 \u5148\u8fdb\u5148\u51fa\u7684\u6570\u636e\u7ed3\u6784\uff1a\u961f\u5217\uff1f<\/p>","title":"\u52a8\u624b\u5b9e\u4f8b"},{"id":296,"category":"dfsbfs","order":4,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-07 12:53:23","updated_at":"2017-10-20 09:17:54","section":38,"code":"$(\"#bfs\").click().addClass(\"menu-highlighted\");","section_order":6,"value":"6-4","text":"<p>BFS\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(<b>V<\/b>+<b>E<\/b>)\uff0c\u56e0\u4e3a:<\/p><ol><li>\u6bcf\u4e00\u4e2a\u9876\u70b9\u90fd\u88ab\u8bbf\u95ee\u4e00\u6b21 \u56e0\u4e3a\u5b83\u4eec\u53ea\u80fd\u8fdb\u5165\u961f\u5217\u4e00\u6b21\u2014 O(<b>V<\/b>)<\/li><li>\u6bcf\u5f53\u4e00\u4e2a\u9876\u70b9\u4ece\u961f\u5217\u4e2d\u51fa\u961f\u65f6\uff0c\u6240\u6709\u5b83\u7684 <b>k<\/b> \u4e2a\u90bb\u5c45\u90fd\u4f1a\u88ab\u63a2\u7d22 \u6240\u4ee5\u5f53\u6240\u6709\u7684\u9876\u70b9\u90fd\u88ab\u8bbf\u95ee\u8fc7\u540e\uff0c\u6211\u4eec\u4e00\u5171\u63a2\u7d22\u4e86 <b>E<\/b> \u6761\u8def\u5f84 \u2014 (O(<b>E<\/b>) \u56e0\u4e3a\u6bcf\u4e2a\u9876\u70b9\u7684\u90bb\u5c45\u603b\u6570\u4e3a <b>E<\/b>).<\/li><\/ol><p>\u5bf9\u4e8eDFS\u6765\u8bf4 O(<b>V<\/b>+<b>E<\/b>) \u53ea\u6709\u5728\u7528 <a href=\".\/graphds\"><u>\u90bb\u63a5\u8868<\/u><\/a> \u56fe\u6570\u636e\u7ed3\u6784 \u2014 \u548cDFS\u5206\u6790\u76f8\u540c<\/p>","title":"O(V+E) \u65f6\u95f4\u590d\u6742\u5ea6"},{"id":302,"category":"dfsbfs","order":7,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 02:13:59","updated_at":"2023-10-19 08:46:18","section":-1,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\n$(\"#bfs\").addClass(\"menu-highlighted\");","section_order":-1,"value":"7","text":"<p>\u5230\u73b0\u5728\u4e3a\u6b62\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 DFS\/BFS \u53bb\u89e3\u51b3\u4e00\u4e9b\u56fe\u7684\u904d\u5386\u95ee\u9898\u53d8\u79cd\uff1a<\/p><ol><li>\u68c0\u6d4b\u53ef\u8fbe\u6027<\/li><li>\u663e\u793a\u51fa\u904d\u5386\u8def\u5f84<\/li><li>\u5206\u8fa8\/\u8ba1\u6570\/\u6807\u8bb0 \u4e00\u4e2a\u65e0\u5411\u56fe\u7684\u8fde\u901a\u5206\u91cf\uff08CCs\uff09<\/li><li>\u63a2\u6d4b\u56fe\u662f\u5426\u6709\u5708\uff08cyclic\uff09<\/li><li>\u62d3\u8865\u6392\u5e8f\uff08\u53ea\u5728\u6709\u5411\u65e0\u5708\u56fe DAG\u4e2d\uff09<\/li><\/ol><p>\u591a\u6570\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u8bfe\u7a0b\u53ea\u4f20\u6388\u8fd9\u4e9b DFS\/BFS \u7684\u57fa\u672c\u5e94\u7528\uff0c\u5c3d\u7ba1\u5b83\u4eec\u53ef\u4ee5\u505a\u66f4\u591a...<\/p>","title":"\u7b80\u5355\u7684 DFS\/BFS \u5e94\u7528"},{"id":304,"category":"dfsbfs","order":1,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 02:33:24","updated_at":"2021-11-12 10:53:17","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\n$(\"#bfs\").addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":7,"value":"7-1","text":"<p>\u5982\u679c\u60a8\u88ab\u8981\u6c42\u6d4b\u8bd5\u56fe\u4e2d\u7684\u8282\u70b9 <b>s<\/b> \u548c\u4e00\u4e2a\uff08\u4e0d\u540c\u7684\uff09\u8282\u70b9 <b>t<\/b> \u662f\u5426\u53ef\u8fbe\uff0c\u5373\u76f4\u63a5\u8fde\u63a5\uff08\u901a\u8fc7\u4e00\u6761\u8fb9\uff09\u6216\u95f4\u63a5\u8fde\u63a5\uff08\u901a\u8fc7\u7b80\u5355\u7684\u975e\u73af\u8def\u5f84\uff09\uff0c\u5219\u53ef\u4ee5\u8c03\u7528 O(<b>V<\/b>+<b>E<\/b>) <samp>DFS(s)<\/samp> (\u6216 <samp>BFS(s)<\/samp>) \u5e76\u68c0\u67e5\u662f\u5426 <samp>status[t] = visited\u3002<\/samp><\/p><p>\u4f8b\u5b50 1<b>\uff1as = 0<\/b> \u548c <b>t = 4<\/b>, \u8fd0\u884c <span class=\"slide-actions\" onclick=\"doButtonAction39()\">DFS(0)<\/span> \u5e76\u6ce8\u610f <samp>status[4] = visited<\/samp>. \u4f8b\u5b50 2\uff1a <b>s = 0<\/b> \u548c <b>t = 7<\/b>, \u8fd0\u884c <span class=\"slide-actions\" onclick=\"doButtonAction39()\">DFS(0)<\/span> \u5e76\u6ce8\u610f <samp>status[7] = unvisited<\/samp>.<\/p>","title":"\u53ef\u8fbe\u6027\u6d4b\u8bd5"},{"id":303,"category":"dfsbfs","order":2,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 02:21:21","updated_at":"2021-11-12 10:53:37","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\n$(\"#bfs\").addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":7,"value":"7-2","text":"<p>\u56de\u60f3\uff1a\u6bcf\u6b21\u7528DFS\u6216BFS\u4ece\u5b9a\u70b9<b>u<\/b>\u5230\u9876\u70b9<b>v<\/b>\uff08\u4e00\u4e2a\u751f\u6210\u6811\u4e2d\u7684\u6811\u8fb9\uff09\u65f6\uff0c\u6211\u4eec\u8bbe\u7f6e<b>p[v] = u<\/b>\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7b80\u5355\u7684\u9012\u5f52\u51fd\u6570\u6765\u6253\u5370\u51fa\u5b58\u50a8\u5728\u6570\u7ec4 <b>p <\/b>\u4e2d\u7684\u8def\u5f84\u3002\u53ef\u80fd\u7684\u540e\u7eed\u8ba8\u8bba\uff1a\u60a8\u80fd\u4ee5<b>\u8fed\u4ee3\u7684<\/b>\u5f62\u5f0f\u5199\u51fa\u6765\u5417\uff1f\uff08\u5bb9\u6613\u89e3\u51b3\uff09<\/p><pre>method backtrack(u)<br>  if (u == -1) stop<br>  backtrack(p[u]);<br>  output vertex u<br><\/pre><p>\u8981\u6253\u5370\u56fe\u4e2d\u4ece\u6e90\u70b9\u5230\u76ee\u6807\u9876\u70b9 <b>t<\/b> \u7684\u8def\u5f84\uff0c\u53ef\u4ee5\u8c03\u7528 O(<b>V<\/b>+<b>E<\/b>) <samp>DFS(s)<\/samp> (\u6216 <samp>BFS(s)<\/samp>) \uff0c\u7136\u540e\u8c03\u7528 O(<b>V<\/b>) <\/p><samp>backtrack<\/samp> \u53bb\u8fd4\u56de <samp>(t)\u3002\u793a\u4f8b\uff1a<\/samp> <b>s = 0<\/b> \u548c <b>t = 4<\/b>\uff0c\u60a8\u53ef\u4ee5\u8c03\u7528 <span class=\"slide-actions\" onclick=\"doButtonAction39()\">DFS(0)<\/span> \u7136\u540e<samp>backtrack(4)<\/samp>\u3002 <span id=\"printexample\"><span class=\"slide-actions\" onclick=\"doButtonAction43()\">Elaborate<\/span><\/span><p><\/p>","title":"\u6253\u5370\u904d\u5386\u8def\u5f84"},{"id":305,"category":"dfsbfs","order":3,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 02:38:50","updated_at":"2021-11-12 10:56:06","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\n$(\"#bfs\").addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":7,"value":"7-3","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u5730\u8c03\u7528 O(<b>V<\/b>+<b>E<\/b>) <samp>DFS(s)<\/samp> (\u6216 <samp>BFS(s)<\/samp>) \uff0c\u5e76\u679a\u4e3e\u6240\u6709 <samp>status[v] = visited \u7684<\/samp>\u8282\u70b9 <b>v\uff0c<\/b>\u6765\u679a\u4e3e\u4ece<b>\u65e0\u5411\u56fe<\/b>\u4e2d\u7684\u8282\u70b9 <b>s<\/b> \u53ef\u5230\u8fbe\u7684\u6240\u6709\u8282\u70b9\uff08\u5982\u4e0a\u56fe\u7684\u793a\u4f8b\u56fe\u6240\u793a\uff09\u3002<\/p>\u793a\u4f8b\uff1a <b>s = 0<\/b>\uff0c\u8fd0\u884c <span class=\"slide-actions\" onclick=\"doButtonAction39()\">DFS(0)<\/span> \u5e76\u6ce8\u610f <samp>status[{0,1,2,3,4}] = visited\uff0c\u56e0\u6b64\u5b83\u4eec\u90fd\u662f\u4ece\u8282\u70b9 <\/samp>0 \u53ef\u5230\u8fbe\u7684\u8282\u70b9\uff0c\u5373\u5b83\u4eec\u5f62\u6210\u4e00\u4e2a<b>\u8fde\u901a\u5206\u91cf\uff08CC\uff09<\/b>\u3002","title":"\u8bc6\u522b\u4e00\u4e2a\u8fde\u63a5\u5206\u91cf\uff08CC\uff09"},{"id":306,"category":"dfsbfs","order":4,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 02:43:48","updated_at":"2021-11-12 10:56:06","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\n$(\"#bfs\").addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":7,"value":"7-4","text":"<p>\u6211\u4eec\u53ef\u4ee5\u7528\u5982\u4e0b\u7684\u4f2a\u4ee3\u7801\u6765\u8ba1\u7b97\u8fde\u901a\u5206\u91cf\uff08CCs\uff09\u7684\u6570\u91cf\uff1a<\/p><pre>CC = 0<br>for all u in V, set status[u] = unvisited<br>for all u in V<br>  if (status[u] == unvisited)<br>    CC++ \/\/ \u6211\u4eec\u53ef\u4ee5\u7528CC\u8ba1\u6570\u5668\u7684\u6570\u91cf\u6765\u4f5c\u4e3aCC\u7684\u6807\u8bb0<br>    DFS(u) \/\/ \u6216\u8005 BFS(u), \u6765\u6807\u8bb0\u5b83\u7684\u6210\u5458\u4e3a\u5df2\u8bbf\u95ee<br>output CC \/\/ \u4e0a\u9762\u7684\u793a\u4f8b\u56fe\u7684\u7b54\u6848\u662f3<br>\/\/ CC 0 = {0,1,2,3,4}, CC 1 = {5}, CC 2 = {6,7,8}<\/pre><p>\u5982\u679c\u4f60\u60f3\u8981\u7ed9\u6bcf\u4e00\u4e2aCC\u4f60\u81ea\u5df1\u7684\u6807\u8bb0\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u4fee\u6539 DFS(u)\/BFS(u) \u7684\u4ee3\u7801\u3002<\/p>","title":"\u8ba1\u7b97 CC \u7684\u6570\u91cf\/ \u6807\u8bb0 CC"},{"id":307,"category":"dfsbfs","order":5,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 02:47:45","updated_at":"2021-11-12 10:56:04","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\n$(\"#bfs\").addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":7,"value":"7-5","text":"<input class=\"mcq-answer\" id=\"mcq-answer-15\" value=\"67\" hidden><p>Quiz: <b>What is the time complexity of Counting the Number of CCs algorithm?<\/b><\/p><form><input type=\"radio\" name=\"mcq-15-choice\" value=\"68\"> Trick question, the answer is none of the above, it is O(_____)<br><input type=\"radio\" name=\"mcq-15-choice\" value=\"67\"> It is still O(V+E)<br><input type=\"radio\" name=\"mcq-15-choice\" value=\"66\"> Calling O(V+E) DFS\/BFS V times, so O(V*(V+E)) = O(V^2 + VE)<br><\/form><button class=\"mcq-submit\" id=\"submit-15\">Submit<\/button> <span id=\"answer-status-15\"><\/span><br>\u8ba8\u8bba\uff1a\u4e3a\u4ec0\u4e48\uff1f","title":"\u7b49\u7b49\uff0c\u65f6\u95f4\u590d\u6742\u6027\u662f\u4ec0\u4e48\uff1f"},{"id":428,"category":"dfsbfs","order":6,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-05-18 10:09:41","updated_at":"2021-11-12 10:56:04","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\n$(\"#bfs\").addClass(\"menu-highlighted\");\nexample(CP3_4_1);","section_order":7,"value":"7-6","text":"<p>\u8bf7\u6ce8\u610f\uff0c\u56fe\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u548c\u6bcf\u6761\u8fb9\u53ea\u89e6\u78b0\u4e00\u6b21\uff0c\u5373\u4f7f\u4ed6\u4eec\u88ab\u5206\u6210\u5404\u79cd\u8fde\u63a5\u5206\u91cf\u3002\u56e0\u6b64\uff0c\u603b\u4f53\u65f6\u95f4\u590d\u6742\u5ea6\u4ecd\u4e3a O(<b>V<\/b>+<b>E<\/b>)\u3002<\/p>","title":"\u7b54\u6848"},{"id":662,"category":"dfsbfs","order":7,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-10-20 09:20:44","updated_at":"2021-11-12 10:53:52","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_9);","section_order":7,"value":"7-7","text":"<p>\u4e3a\u4e86\u6df1\u5165\u6211\u4eec\u5bf9\u5e95\u5c42\u56fe\u7684\u7406\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5 <i>\u6269\u5927<\/i> DFS\u7b97\u6cd5\u7684\u57fa\u7840\u3002<\/p><br><p>\u5728\u8fd9\u4e2a\u52a8\u753b\u91cc, \u6211\u4eec\u7528 <font color=\"#add8e6\">\u84dd\u8272 <\/font> \u6765\u8868\u793aDFS\u751f\u6210\u6811\u7684 <b>\u8fd4\u56de<\/b> \u8fb9\u3002 \u5982\u679c\u53d1\u73b0\u4e86\u81f3\u5c11\u4e00\u4e2a\u8fd4\u56de\u8fb9 \uff0c \u90a3\u4ee3\u8868\u88ab\u904d\u5386\u7684\u56fe\uff08\u90e8\u5206\uff09\u662f\u5708 \u7684\uff0c\u800c\u5982\u679c\u6ca1\u6709\u8fd4\u56de\u8fb9\u7684\u8bdd\uff0c\u90a3\u5c31\u4ee3\u8868\u4ece\u51fa\u53d1\u70b9\u5f00\u59cb\u7684\u90e8\u5206\u5e76\u4e0d\u662f\u5708\u7684\u3002<\/p>","title":"\u68c0\u6d4b\u5708 - \u7b2c\u4e00\u90e8\u5206"},{"id":663,"category":"dfsbfs","order":8,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-10-20 09:21:40","updated_at":"2021-11-12 10:53:51","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_9);","section_order":7,"value":"7-8","text":"<p>\u4e3a\u4e86\u4fa6\u6d4b \u8fd4\u56de\u8fb9\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 <b>status[u]<\/b> \u6765\u8bb0\u5f55 <b>\u4e09<\/b> \u79cd\u4e0d\u540c\u7684\u72b6\u6001\uff1a<\/p><ol><li><b>\u672a\u8bbf\u95ee<\/b>: \u548c\u4e4b\u524d\u4e00\u6837\uff0cDFS\u8fd8\u6ca1\u6709\u8bbf\u95ee\u8fc7 <b>u<\/b> \uff0c<\/li><li><b>\u5df2\u63a2\u7d22<\/b>: DFS\u5df2\u7ecf\u8bbf\u95ee\u4e86 <b>u<\/b>, \u4f46\u662f\u81f3\u5c11\u6709\u4e00\u4e2a <b>u<\/b> \u7684\u90bb\u5c45\u8fd8\u6ca1\u6709\u88ab\u63a2\u7d22 (DFS\u4f1a\u5148 \u6df1\u5ea6\u4f18\u5148 \u5f0f\u7684\u5148\u53bb\u63a2\u7d22\u90a3\u4e2a\u9876\u70b9\u7684\u90bb\u5c45),<\/li><li><b>\u5df2\u8bbf\u95ee<\/b>: \u589e\u5f3a\u7248\u7684\u5b9a\u4e49\uff1a\u9876\u70b9 <b>u<\/b> \u7684\u6240\u6709\u90bb\u5c45\u90fd\u5df2\u7ecf\u88ab\u63a2\u7d22\u8fc7\u4e86\u5e76\u4e14DFS\u6b63\u8981\u4ece\u9876\u70b9 <b>u<\/b> \u539f\u8def\u8fd4\u56de\u53bb\u9876\u70b9 <b>p[u]<\/b>.<\/li><\/ol><p>\u5982\u679cDFS\u73b0\u5728\u5728\u9876\u70b9 <b>x<\/b> \uff0c\u540c\u65f6\u6b63\u5728\u5728\u63a2\u7d22\u8fb9 <b>x \u2192 y<\/b> \u5e76\u4e14\u9047\u5230 <b>status[y] = explored<\/b>, \u6211\u4eec\u53ef\u4ee5\u786e\u8ba4 <b>x \u2192 y<\/b> \u662f\u4e00\u4e2a <b>\u8fd4\u56de\u8fb9<\/b> (\u6211\u4eec\u627e\u5230\u4e86\u4e00\u4e2a\u5708\u56e0\u4e3a\u6211\u4eec\u4e4b\u524d\u5728\u9876\u70b9  <b>y<\/b> (\u56e0\u6b64 <b>status[y] = explored<\/b>), \u8d70\u66f4\u6df1\u53bb\u63a2\u7d22 <b>y<\/b> \u7684\u90bb\u5c45\u7b49\u7b49, \u4f46\u662f\u6211\u4eec\u73b0\u5728\u5728\u9876\u70b9 <b>x<\/b> \uff0c\u5b83\u662f\u4e00\u4e2a\u53ef\u4ee5\u4ece <b>y<\/b> \u51fa\u53d1\u6240\u62b5\u8fbe\u7684\u9876\u70b9 \u4f46\u662f\u9876\u70b9 <b>x<\/b> \u5f15\u9886\u6211\u4eec\u8d70\u56de\u4e86 <b>y<\/b>).<\/p>","title":"\u63a2\u6d4b\u5708 - \u7b2c2\u90e8\u5206"},{"id":664,"category":"dfsbfs","order":9,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-10-20 09:23:13","updated_at":"2021-11-12 10:53:51","section":302,"code":"$(\"#dfs\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_9);","section_order":7,"value":"7-9","text":"<p>\u56fe\u4e2d\u4e0d\u662f <span style=\"color: red;\">\u6811\u8fb9<\/span> \u4e5f\u4e0d\u662f <span style=\"color: lightblue;\">\u8fd4\u56de\u8fb9<\/span> \u7684\u8def\u5f84\u90fd\u4ee5 <span style=\"color: grey;\">\u7070\u8272<\/span> \u663e\u793a\u3002\u4ed6\u4eec\u53eb\u505a <b>\u524d\u8fdb\u6216\u4ea4\u53c9\u8fb9<\/b>\uff0c\u5bf9\u4e8e\u73b0\u5728\u7684\u6211\u4eec\u6765\u8bf4\u7528\u5904\u4e0d\u5927\uff0c \u4e0d\u518d\u8d58\u8ff0\u3002<\/p><br><p>\u73b0\u5728\uff0c\u7efc\u5408\u65b0\u7684\u7406\u89e3\uff0c\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u56fe\u4e2d\u8bd5\u8bd5 <span class=\"slide-actions\" onclick=\"doButtonAction39()\">DFS(0)<\/span>\uff0c \u7279\u522b\u7559\u610f\u4e00\u4e2a\u9876\u70b9\u7684\u4e09\u79cd\u4e0d\u540c\u72b6\u6001 (\u672a\u8bbf\u95ee\/<span style=\"color: black; background-color: white;\">\u6b63\u5e38\u7684\u9ed1\u8272\u5706<\/span>, \u5df2\u63a2\u7d22\/<span style=\"color: lightblue;\">\u84dd\u8272\u7684\u5706<\/span>, <span style=\"color: orange;\">\u5df2\u8bbf\u95ee\/\u6a58\u8272\u7684\u5706<\/span>) \u8fd8\u6709 <span style=\"color: lightblue;\">\u8fd4\u56de\u8fb9<\/span>\u3002 2 \u2192 1 \u88ab\u63a2\u6d4b\u5230\u662f\u4e00\u4e2a\u8fd4\u56de\u8fb9 \u56e0\u4e3a\u5b83\u662f\u5708\uff08circle\uff09 1 \u2192 3 \u2192 2 \u2192 1 \u7684\u4e00\u90e8\u5206\uff08\u4ece\u201d\u5df2\u63a2\u7d22\u201c\u7684\u9876\u70b92\u5230\u201d\u5df2\u63a2\u7d22\u201c\u7684\u9876\u70b91\uff09(\u76f8\u4f3c\u7684 6 \u2192 4 \u662f\u5708 4 \u2192 5 \u2192 7 \u2192 6 \u2192 4\u7684\u4e00\u90e8\u5206)\u3002<\/p><p>\u6ce8\u610f\uff0c\u5982\u679c2 \u2192 1\u548c6 \u2192 4\u88ab\u9006\u8f6c\u62101 \u2192 2\u548c4 \u2192 6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u56fe\u5c06\u4f1a\u88ab\u6b63\u786e\u5730\u5f52\u7c7b\u4e3a\u65e0\u73af\u56fe\uff0c\u56e0\u4e3a3 \u2192 2\u548c4 \u2192 6\u4ece\u201d\u5df2\u63a2\u7d22\u201c\u79fb\u52a8\u5230\u201d\u5df2\u8bbf\u95ee\u201c\u3002\u5982\u679c\u6211\u4eec\u53ea\u7528\u4e24\u79cd\u72b6\u6001\u201d\u5df2\u8bbf\u95ee\u201c\u548c\u201d\u672a\u8bbf\u95ee\u201c\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u65e0\u6cd5\u628a\u8fd9\u4e24\u79cd\u60c5\u51b5\u5206\u5f00\u3002<\/p>","title":"\u5b9e\u8df5\u4f8b\u5b50\uff08\u7ec6\u8282\uff09"},{"id":310,"category":"dfsbfs","order":10,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 03:02:16","updated_at":"2017-10-20 09:23:18","section":302,"code":"$(\"#topo\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_4);","section_order":7,"value":"7-10","text":"<p>\u8fd8\u6709\u53e6\u4e00\u4e2a\u53ef\u4ee5\u88ab\u89c6\u4e3a\u201d\u7b80\u5355\u201c\u7684 DFS\uff08\u4ee5\u53ca BFS\uff09\u5e94\u7528\uff1a\u6267\u884c\u6709\u5411\u65e0\u73af\u56fe\uff08DAG\uff09\u7684\u62d3\u6251\u6392\u5e8f \u2014 \u53c2\u89c1\u4e0a\u9762\u7684\u793a\u4f8b\u3002<br><\/p>DAG \u7684\u62d3\u6251\u6392\u5e8f\u662f\u6b64 DAG \u7684\u8282\u70b9\u7684\u7ebf\u6027\u6392\u5e8f\uff0c\u5176\u4e2d\u6bcf\u4e2a\u8282\u70b9\u4f4d\u4e8e\u5176\u4f20\u51fa\u8fb9\u6240\u8fde\u63a5\u7684\u6240\u6709\u8282\u70b9\u4e4b\u524d\u3002<br>\u6bcf\u4e2a DAG \uff08\u53ef\u4ee5\u7528<a href=\"dfsbfs\/?slide=7-7\">\u4e4b\u524d\u7684DFS<\/a>\u6765\u68c0\u67e5\uff09\u81f3\u5c11\u6709\u4e00\u4e2a\u4f46\u53ef\u80fd\u66f4\u591a\u7684\u62d3\u6251\u6392\u5e8f\/\u79e9\u5e8f\u3002<br>DAG\u62d3\u6251\u6392\u5e8f\u7684\u4e3b\u8981\u76ee\u7684\u662f\u7528\u4e8e <a href=\".\/recursion\"><u>Dynamic Programming (DP)<\/u><\/a> \u6280\u672f\u3002\u4f8b\u5982\uff0c\u6b64\u62d3\u6251\u6392\u5e8f\u8fc7\u7a0b\u5728 <a href=\".\/sssp\"><u>DP solution for SSSP on DAG<\/u><\/a>\u5185\u90e8\u4f7f\u7528\u3002","title":"\u62d3\u6251\u6392\u5e8f - \u5b9a\u4e49"},{"id":309,"category":"dfsbfs","order":11,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 03:00:52","updated_at":"2017-10-20 09:23:17","section":302,"code":"$(\"#topo\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_4);","section_order":7,"value":"7-11","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 O(<b>V<\/b>+<b>E<\/b>) DFS \u6216 BFS \u6765\u6267\u884c\u6709\u5411\u65e0\u73af\u56fe\uff08DAG\uff09\u7684\u62d3\u6251\u6392\u5e8f\u3002<br><\/p>\u4e0e\u666e\u901a DFS \u76f8\u6bd4\uff0cDFS \u7248\u672c\u53ea\u9700\u8981\u989d\u5916\u7684\u4e00\u884c\uff0c\u57fa\u672c\u4e0a\u662f\u6b64\u56fe\u7684\u540e\u5e8f\u904d\u5386\u3002\u5728\u793a\u4f8b\u7684DAG\u4e0a\u5c1d\u8bd5 <span class=\"slide-actions\" onclick=\"doButtonAction44()\">Toposort (DFS)<\/span> \u3002<div><span lang=\"zh-CN\">BFS \u7248\u672c\u57fa\u4e8e\u6ca1\u6709\u4f20\u5165\u8fb9\u7684\u8282\u70b9\u7684\u6982\u5ff5\uff0c\u4e5f\u79f0\u4e3a<\/span> Kahn \u7b97\u6cd5.\u3002\u5728\u793a\u4f8b\u7684DAG\u4e0a\u5c1d\u8bd5 <span class=\"slide-actions\" onclick=\"doButtonAction45()\">Toposort (BFS\/Kahn's)<\/span> \u3002<\/div>","title":"\u62d3\u6251\u6392\u5e8f"},{"id":308,"category":"dfsbfs","order":8,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 02:56:27","updated_at":"2017-10-20 09:29:06","section":-1,"code":"$(\"#bipartite\").click().addClass(\"menu-highlighted\");\n$(\"#bridge\").addClass(\"menu-highlighted\");\n$(\"#scc\").addClass(\"menu-highlighted\");\n$(\"#twosat\").addClass(\"menu-highlighted\");","section_order":-1,"value":"8","text":"\u76ee\u524d\u4e3a\u6b62\uff0c\u4f60\u5df2\u7ecf\u770b\u5230\u4e86DFS\/BFS\uff08\u52a0\u4e0a\u8f7b\u5fae\u6539\u52a8\uff09\u53ef\u4ee5\u89e3\u51b3\u7684\u95ee\u9898\u3002\u6709\u4e00\u4e9b\u66f4\u9ad8\u7ea7\u7684\u5e94\u7528\u9700\u8981\u66f4\u591a\u7684\u6539\u52a8\uff0c\u66f4\u5148\u8fdb\u7684\u5b66\u751f\u53ef\u4ee5\u81ea\u5df1\u63a2\u7d22\uff1a<br><ol><li>\u68c0\u6d4b\u4e8c\u5206\u56fe (DFS \u548c BFS \u53d8\u79cd),<\/li><li>\u5bfb\u627e\u65e0\u5411\u56fe\u7684\u8854\u63a5\u70b9\uff08\u5207\u9876\uff09\u548c\u6865\u6881\uff08\u4ec5DFS\uff09,<\/li><li>\u5bfb\u627e\u6709\u5411\u56fe\u7684\u5f3a\u8fde\u901a\u5206\u91cf\uff08SCC\uff09\uff08Tarjan\u548cKosaraju\u7684\u7b97\u6cd5\uff09,  \u4ee5\u53ca<\/li><li>2-SAT(\u53ef\u6ee1\u8db3\u6027) \u68c0\u67e5\u7b97\u6cd5.<br><\/li><\/ol><hr><br>\u5e7f\u544a\uff1a\u7ec6\u8282\u5199\u5728<a href=\"https:\/\/cpbook.net\" target=\"_blank\"><u>Competitive Programming book<\/u><\/a>\u4e00\u4e66\u4e2d","title":"\u66f4\u591a\u9ad8\u7ea7\u7684 DFS\/BFS \u7684\u5e94\u7528"},{"id":40,"category":"dfsbfs","order":9,"top":"300px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:56:18","updated_at":"2017-05-08 03:37:55","section":-1,"code":"$(\"#bipartite\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_18);","section_order":-1,"value":"9","text":"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528O(<b>V<\/b>+<b>E<\/b>)DFS\u6216BFS\uff08\u5b83\u4eec\u7684\u5de5\u4f5c\u539f\u7406\u76f8\u4f3c\uff09\u6765\u68c0\u67e5\u4e00\u4e2a\u7ed9\u5b9a\u7684\u56fe\u662f\u5426\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\uff08Bipartite Graph\uff09\uff0c\u65b9\u6cd5\u662f\u5728\u76f8\u90bb\u7684\u9876\u70b9\u4e4b\u95f4\u7ed9\u51fa\u4ea4\u66ff\u7684\u989c\u8272\uff08\u5728\u8fd9\u4e2a\u53ef\u89c6\u5316\u4e2d\u662f\u6a59\u8272\u548c\u84dd\u8272\uff09\uff0c\u5982\u679c\u6211\u4eec\u6700\u7ec8\u7ed9\u4e24\u4e2a\u76f8\u90bb\u7684\u9876\u70b9\u5206\u914d\u4e86\u76f8\u540c\u7684\u989c\u8272\uff0c\u5219\u62a5\u544a \"\u975e\u4e8c\u5206\"\uff0c\u5982\u679c\u6709\u53ef\u80fd\u8fdb\u884c\u8fd9\u6837\u7684 \"\u4e8c\u5206\u4e0a\u8272\"\u8fc7\u7a0b\uff0c\u5219\u62a5\u544a \"\u4e8c\u5206\"\u3002\u8bd5\u8bd5<span class=\"slide-actions\" onclick=\"doButtonAction46()\">DFS_Checker<\/span>\u6216<span class=\"slide-actions\" onclick=\"doButtonAction47()\">BFS_Checker<\/span>\u5728\u53cc\u5b50\u661f\u56fe\u7684\u4f8b\u5b50\u4e2d\u3002<br>\u4e8c\u5206\u56fe\u5728<a href=\"matching\">\u56fe\u5f62\u5339\u914d<\/a>\u95ee\u9898\u4e0a\u6709\u5f88\u597d\u7684\u5e94\u7528\u3002<br>\u8bf7\u6ce8\u610f\uff0c\u4e8c\u5206\u56fe\u901a\u5e38\u53ea\u5bf9\u65e0\u5411\u56fe\u8fdb\u884c\u5b9a\u4e49\uff0c\u6240\u4ee5\u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u8fd9\u4e2a\u53ef\u89c6\u5316\u5c06\u81ea\u52a8\u628a\u6709\u5411\u7684\u8f93\u5165\u56fe\u8f6c\u6362\u6210\u65e0\u5411\u7684\u7248\u672c\u3002\u8fd9\u4e2a\u52a8\u4f5c\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u4f60\u53ef\u80fd\u4e0d\u5f97\u4e0d\u4e3a\u5176\u4ed6\u76ee\u7684\u518d\u6b21\u91cd\u7ed8\u6709\u5411\u8f93\u5165\u56fe\u3002","title":"\u4e8c\u5206\u56fe\u68c0\u67e5"},{"id":41,"category":"dfsbfs","order":10,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:56:49","updated_at":"2017-05-08 03:36:40","section":-1,"code":"$(\"#bridge\").addClass(\"menu-highlighted\");\nexample(CP3_4_9);","section_order":-1,"value":"10","text":"\u6211\u4eec\u53ef\u4ee5\u5c06O(<b>V<\/b>+<b>E<\/b>)DFS\u7b97\u6cd5\u4fee\u6539\u4e3a\u5bfb\u627e\u65e0\u5411\u56fe\u7684\u5207\u9876\u548c\u6865\u7684\u7b97\u6cd5\uff08\u4f46\u4e0d\u5e78\u7684\u662f\uff0c\u8fd9\u5e76\u4e0d\u7b80\u5355\uff09\u3002<br>\u5207\u5272\u9876\u70b9\uff0c\u6216\u8854\u63a5\u70b9\uff0c\u662f\u6307\u65e0\u5411\u56fe\u4e2d\u7684\u4e00\u4e2a\u9876\u70b9\uff0c\u79fb\u9664\u8be5\u9876\u70b9\u4f1a\u4f7f\u56fe\u65ad\u5f00\u8fde\u63a5\u3002\u540c\u6837\u5730\uff0c\u6865\u662f\u65e0\u5411\u56fe\u4e2d\u7684\u4e00\u6761\u8fb9\uff0c\u9664\u53bb\u8fd9\u6761\u8fb9\u5c31\u4f1a\u65ad\u5f00\u56fe\u7684\u8fde\u63a5\u3002<br>\u8bf7\u6ce8\u610f\uff0c\u8fd9\u79cd\u5bfb\u627e\u5207\u5272\u70b9\u548c\u6865\u7684\u7b97\u6cd5\u53ea\u9002\u7528\u4e8e\u65e0\u5411\u56fe\uff0c\u6240\u4ee5\u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u8fd9\u4e2a\u53ef\u89c6\u5316\u4f1a\u81ea\u52a8\u5c06\u6709\u5411\u56fe\u7684\u8f93\u5165\u8f6c\u5316\u4e3a\u65e0\u5411\u56fe\u7684\u7248\u672c\u3002\u8fd9\u4e2a\u52a8\u4f5c\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u4f60\u53ef\u80fd\u4e0d\u5f97\u4e0d\u4e3a\u5176\u4ed6\u76ee\u7684\u518d\u6b21\u91cd\u7ed8\u6709\u5411\u8f93\u5165\u56fe\u3002\u4f60\u53ef\u4ee5\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u56fe\u4e0a\u5c1d\u8bd5<span class=\"slide-actions\" onclick=\"doButtonAction48()\">Find Cut Vertices &amp; Bridges<\/span>\u3002","title":"\u67e5\u627e\u5207\u5272\u8282\u70b9 &amp; \u6865"},{"id":42,"category":"dfsbfs","order":11,"top":"270px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:57:16","updated_at":"2017-05-08 03:36:21","section":-1,"code":"$(\"#scc\").click().addClass(\"menu-highlighted\");\nexample(CP3_4_9);","section_order":-1,"value":"11","text":"\u6211\u4eec\u53ef\u4ee5\u5c06O(<b>V<\/b>+<b>E<\/b>)DFS\u7b97\u6cd5\u4fee\u6539\u4e3a\u5bfb\u627e\u6709\u5411\u56feG\u7684\u5f3a\u8fde\u901a\u5206\u91cf(SCC)\u7684\u7b97\u6cd5(\u4f46\u4e0d\u5e78\u7684\u662f\uff0c\u8fd9\u5e76\u4e0d\u7b80\u5355)\u3002<br>\u6709\u5411\u56feG\u7684SCC\u5b9a\u4e49\u4e3aG\u7684\u4e00\u4e2a\u5b50\u56feS\uff0c\u5bf9\u4e8eS\u4e2d\u7684\u4efb\u4f55\u4e24\u4e2a\u9876\u70b9u\u548cv\uff0c\u9876\u70b9u\u53ef\u4ee5\u76f4\u63a5\u6216\u901a\u8fc7\u8def\u5f84\u5230\u8fbe\u9876\u70b9v\uff0c\u800c\u9876\u70b9v\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6216\u901a\u8fc7\u8def\u5f84\u8fd4\u56de\u5230\u9876\u70b9u\u3002<br>\u6709\u4e24\u79cd\u5df2\u77e5\u7684\u7b97\u6cd5\u7528\u4e8e\u5bfb\u627e\u6709\u5411\u56fe\u7684SCC\u3002Kosaraju\u7684\u548cTarjan\u7684\u3002\u8fd9\u4e24\u79cd\u7b97\u6cd5\u90fd\u53ef\u4ee5\u5728\u8fd9\u4e2a\u53ef\u89c6\u5316\u4e2d\u627e\u5230\u3002\u5728\u4e0a\u9762\u7684\u6709\u5411\u56fe\u4f8b\u5b50\u4e0a\u8bd5\u8bd5<span class=\"slide-actions\" onclick=\"doButtonAction49()\">Kosaraju's Algorithm<\/span>\u548c\/\u6216<span class=\"slide-actions\" onclick=\"doButtonAction50()\">Tarjan's Algorithm<\/span>\u3002","title":"\u627e\u5230\u5f3a\u8054\u901a\u5206\u91cf"},{"id":43,"category":"dfsbfs","order":12,"top":"","right":"","bottom":"320px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-01-12 13:57:48","updated_at":"2017-10-20 09:29:13","section":-1,"code":"$(\"#twosat\").click().addClass(\"menu-highlighted\");","section_order":-1,"value":"12","text":"\u6211\u4eec\u4e5f\u67092-SAT\u68c0\u67e5\u5668\u7b97\u6cd5\u3002\u7ed9\u51fa\u4e00\u4e2a2-SAT\uff082-Satisfiability\uff09\u5b9e\u4f8b\uff0c\u5176\u5f62\u5f0f\u662f\u5b50\u53e5\uff08clause\uff09\u7684\u7ec4\u5408\uff1a(clause<sub>1<\/sub>) ^ (clause<sub>2<\/sub>) ^ ... ^ (clause<sub>n<\/sub>)\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5b50\u53e5\u90fd\u662f\u7531\u6700\u591a\u4e24\u4e2a\u53d8\u91cf\uff08var<sub>a<\/sub> v var<sub>b<\/sub>\uff09\u7ec4\u6210\u7684\u4e8c\u5143\u6790\u53d6\u5f62\u5f0f\uff0c\u8bf7\u786e\u5b9a\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u7ed9\u8fd9\u4e9b\u53d8\u91cf\u5206\u914d\u771f\/\u5047\u503c\uff0c\u4ece\u800c\u4f7f\u6574\u4e2a2-SAT\u5b9e\u4f8b\u88ab\u8bc4\u4f30\u4e3a\u771f\uff08\u5373\u53ef\u6ee1\u8db3\uff09\u3002<br>\u4e8b\u5b9e\u8bc1\u660e\uff0c\u6bcf\u4e2a\u5b50\u53e5\uff08a v b\uff09\u53ef\u4ee5\u53d8\u6210\u56db\u4e2a\u9876\u70b9a\u3001not a\u3001b\u548cnot b\uff0c\u548c\u4e24\u6761\u8fb9(not a \u2192 b)\u548c(not b \u2192 a)\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u6709\u5411\u56fe\u3002\u5982\u679c\u5728\u8fd9\u79cd\u56fe\u7684\u5f3a\u8fde\u901a\u5206\u91cf\u5185\u81f3\u5c11\u6709\u4e00\u4e2a\u53d8\u91cf\u548c\u5b83\u7684\u5426\u5b9a\uff0c\u6211\u4eec\u77e5\u9053\u5b83\u4e0d\u53ef\u80fd\u6ee1\u8db32-SAT\u5b9e\u4f8b\u3002<br>\u5728\u8fd9\u6837\u7684\u6709\u5411\u56fe\u5efa\u6a21\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd0\u884c\u4e00\u4e2aSCC\u67e5\u627e\u7b97\u6cd5\uff08Kosaraju\u7684\u6216Tarjan\u7684\u7b97\u6cd5\uff09\u6765\u786e\u5b9a2-SAT\u5b9e\u4f8b\u7684\u53ef\u6ee1\u8db3\u6027\u3002","title":"2-SAT Checker \u7b97\u6cd5"},{"id":429,"category":"dfsbfs","order":13,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-18 13:00:33","updated_at":"2023-10-19 08:47:04","section":-1,"code":"","section_order":-1,"value":"13","text":"<input class=\"mcq-answer\" id=\"mcq-answer-22\" value=\"95\" hidden><p>Quiz: <b>Which Graph Traversal Algorithm is Better?<\/b><\/p><form><input type=\"radio\" name=\"mcq-22-choice\" value=\"93\"> Always DFS<br><input type=\"radio\" name=\"mcq-22-choice\" value=\"96\"> Both are Equally Good<br><input type=\"radio\" name=\"mcq-22-choice\" value=\"95\"> It Depends on the Situation<br><input type=\"radio\" name=\"mcq-22-choice\" value=\"94\"> Always BFS<br><\/form><button class=\"mcq-submit\" id=\"submit-22\">Submit<\/button> <span id=\"answer-status-22\"><\/span><br><p>\u8ba8\u8bba\uff1a\u4e3a\u4ec0\u4e48\uff1f<\/p>","title":"\u54ea\u4e00\u4e2a\u66f4\u597d\uff1f"},{"id":430,"category":"dfsbfs","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-05-18 13:01:23","updated_at":"2023-10-19 08:47:06","section":429,"code":"","section_order":13,"value":"13-1","text":"<p>DFS \u66f4\u6613\u4e8e\u5b9e\u73b0\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u559c\u6b22\u9012\u5f52\u601d\u8003\u7684\u4eba\u3002\u4e0e BFS \u76f8\u6bd4\uff0cDFS\u4f7f\u7528\u66f4\u5c11\u7684\u5185\u5b58\u3002\u5c3d\u7ba1 DFS\/BFS \u901a\u5e38\u53ef\u4ee5\u4e92\u6362\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u56fe\u7684\u5c5e\u6027\u53ea\u80fd\u901a\u8fc7 DFS \u68c0\u6d4b\uff0c \u4f8b\u5982\uff0c\u5bfb\u627e\u5207\u5272\u8282\u70b9\/\u6865\uff0c\u5bfb\u627e SCC \u7b49\u3002<\/p><p>BFS \u6709\u53e6\u4e00\u79cd\u7528\u4e8e\u89e3\u51b3\u672a\u52a0\u6743\u56fe\u7684 <a href=\".\/sssp\"><u>Shortest Paths<\/u><\/a> \u95ee\u9898\u7684\u7528\u6cd5\u3002\u4f46\u662f\uff0cBFS \u901a\u5e38\u4f7f\u7528\u6bd4 DFS \u66f4\u591a\u7684\u5185\u5b58\uff0c\u56e0\u4e3a\u5b83\u5fc5\u987b\u5728 BFS \u961f\u5217\u4e2d\u4fdd\u7559\u6d3b\u52a8\u8282\u70b9\uff08\u53ef\u80fd\u5f88\u957f\uff09\u3002<\/p>","title":"\u7b54\u6848"},{"id":311,"category":"dfsbfs","order":14,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 03:38:47","updated_at":"2023-10-19 08:47:09","section":-1,"code":"","section_order":-1,"value":"14","text":"\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u53ea\u7528 DFS\/BFS \u505a\u5f88\u591a\u4e8b\u60c5......","title":"\u989d\u5916\u7684"},{"id":312,"category":"dfsbfs","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 03:39:11","updated_at":"2023-10-19 08:47:11","section":311,"code":"","section_order":14,"value":"14-1","text":"<p>\u5173\u4e8e\u8fd9\u4e24\u4e2a\u56fe\u7684\u904d\u5386\u7b97\u6cd5\u6709\u4e00\u4e9b\u6709\u8da3\u7684\u95ee\u9898\uff1aDFS + BFS \u548c\u56fe\u904d\u5386\u95ee\u9898\u7684\u53d8\u4f53\uff0c\u8bf7\u5728 <a href=\"https:\/\/visualgo.net\/training?diff=Medium&amp;n=7&amp;tl=0&amp;module=dfsbfs\"><u>Graph Traversal<\/u><\/a> \u57f9\u8bad\u6a21\u5757\u4e2d\u7ec3\u4e60\uff08\u4e0d\u9700\u8981\u767b\u9646\uff0c\u4f46\u662f\u60a8\u6700\u591a\u53ea\u80fd\u505a\u77ed\u548c\u4e2d\u7b49\u96be\u5ea6\u7684\u95ee\u9898\uff09\u3002<\/p><p>\u4f46\u662f\uff0c\u5bf9\u4e8e\u6ce8\u518c\u7528\u6237\uff0c\u60a8\u5e94\u8be5\u767b\u9646\u540e\u8f6c\u5230 <a href=\"https:\/\/visualgo.net\/training\"><u>Main Training Page<\/u><\/a> \u4ee5\u6b63\u5f0f\u6e05\u9664\u6b64\u6a21\u5757\uff0c\u6b64\u7c7b\u6210\u5c31\u5c06\u8bb0\u5f55\u5728\u60a8\u7684\u7528\u6237\u8d26\u6237\u4e2d\u3002<\/p>","title":"\u5728\u7ebf\u6d4b\u8bd5"},{"id":313,"category":"dfsbfs","order":2,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-08 03:40:09","updated_at":"2023-10-19 08:47:14","section":311,"code":"","section_order":14,"value":"14-2","text":"<p>\u6211\u4eec\u6709\u4e00\u4e9bKattis\u95ee\u9898\u591a\u591a\u5c11\u5c11\u7528\u5230\u4e86DFS\u548c\/\u6216BFS: <a href=\"https:\/\/open.kattis.com\/problems\/reachableroads\" title=\"\" target=\"_blank\"><u>Kattis - reachableroads<\/u><\/a> \u548c <a href=\"https:\/\/open.kattis.com\/problems\/breakingbad\" title=\"\" target=\"_blank\"><u>Kattis - breakingbad<\/u><\/a>.<\/p><br><p>\u8bd5\u8bd5\u89e3\u51fa\u5b83\u4eec\u5e76\u4e14\u5c1d\u8bd5 <b>\u66f4\u591a<\/b> \u6709\u8da3\u7684\u5bf9\u8fd9\u4e2a\u7b80\u5355\u7684 \u56fe\u904d\u5386\u95ee\u9898\/\u56fe\u904d\u5386\u7b97\u6cd5 \u7684 \u53d8\u79cd\/\u6539\u53d8\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u6216\u8005\u4fee\u6539\u6211\u4eec\u7684DFS\/BFS\u7684\u6e90\u4ee3\u7801\uff1a<a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/traversal\/dfs_cc.cpp\" target=\"_blank\"><u>dfs_cc.cpp<\/u><\/a>\/<a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/sssp\/bfs.cpp\" target=\"_blank\"><u>bfs.cpp<\/u><\/a> <a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/traversal\/dfs_cc.java\" target=\"_blank\"><u>dfs_cc.java<\/u><\/a>\/<a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/sssp\/bfs.java\" target=\"_blank\"><u>bfs.java<\/u><\/a> <a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/traversal\/dfs_cc.py\" target=\"_blank\"><u>dfs_cc.py<\/u><\/a>\/<a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/sssp\/bfs.py\" target=\"_blank\"><u>bfs.py<\/u><\/a> <a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/traversal\/dfs_cc.ml\" target=\"_blank\"><u>dfs_cc.ml<\/u><\/a>\/<a href=\"https:\/\/github.com\/stevenhalim\/cpbook-code\/blob\/master\/ch4\/sssp\/bfs.ml\" target=\"_blank\"><u>bfs.ml<\/u><\/a><\/p>","title":"\u5728\u7ebf\u8bc4\u5224\u7ec3\u4e60"},{"id":314,"category":"dfsbfs","order":3,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-05-08 03:44:00","updated_at":"2023-10-19 08:47:16","section":311,"code":"","section_order":14,"value":"14-3","text":"<p>\u5bf9\u4e8e <a href=\"https:\/\/uva.onlinejudge.org\/external\/110\/11094.pdf\" title=\"\" target=\"_blank\"><u>UVa 11094 - Continents<\/u><\/a>, \u8bf7\u6ce8\u610f\u60a8\u53ef\u4ee5\u5bf9DFS\uff08\u6216BFS\uff09\u8fdb\u884c\u5fae\u8c03\u4ee5\u5904\u7406\u5377\u52a8\u7684\u8981\u6c42\uff0c\u5e76\u5c06\u95ee\u9898\u518d\u6b21<b>\u7b80\u5316<\/b>\u4e3a\u7b80\u5355\u7684\u6cdb\u6d2a\u586b\u5145\u95ee\u9898\uff08\u5bfb\u627e\u8fde\u63a5\u5206\u91cf\uff09\u3002<\/p><br><p>\u5bf9\u4e8e <a href=\"https:\/\/open.kattis.com\/problems\/breakingbad\" title=\"\" target=\"_blank\"><u>Kattis - breakingbad<\/u><\/a>, \u4ece\u4e8c\u5206\u53cd\u5411\u8003\u8651......<\/p>","title":"\u8ba8\u8bba"}];
      const numSlides = lectureIds.length;
      var sectorJunction12Section = 0, sectorJunction12Slide = 0;
      var sectorJunction23Section = 0, sectorJunction23Slide = 0;
      var sector1Count = 0, sector2Count = 0, sector3Count = 0;
      const sectorLength = Math.floor(numSlides / 3);
      function createELectureTimelineDisplay() {
        for (let j = 0; j < numSlides; ++j) {
          const currLecture = lectureIds[j].value;
          if (currLecture.includes('-')) {
            $('#e-lecture-timeline').append(
              $(`<div class="e-lecture-timeline-slide" slideNo=${lectureIds[j].value}></div>`)
            );
          } else {
            $('#e-lecture-timeline').append(
              $(`<div class="e-lecture-timeline-checkpoint" slideNo=${lectureIds[j].value}></div>`)
            );
          }
        }
      }

      function setSectorJunctionInfo() {
          //setting the sector junction slide numbers
          const j12 = sectorLength !== 0 ? (sectorLength - 1): 0;
          const j23 = sectorLength !== 0 ? (2 * sectorLength - 1) : 0;

          const sectorJunction12 = lectureIds[j12].value.split('-');
          sectorJunction12Section = parseInt(sectorJunction12[0]);
          sectorJunction12Slide = sectorJunction12.length > 1 ? parseInt(sectorJunction12[1]) : sectorJunction12Slide;

          const sectorJunction23 = lectureIds[j23].value.split('-');
          sectorJunction23Section = parseInt(sectorJunction23[0]);
          sectorJunction23Slide = sectorJunction23.length > 1 ? parseInt(sectorJunction23[1]) : sectorJunction23Slide;
      }

      function runSlide(slide) { // Steven's patch on 28 Jan 2022: Properly remove slide 99, 99-1, 99-2, 99-3, integrate with the earlier slides
        if (slide == '1') {
          $("#e-lecture").html("slide " + slide + " (" + 2 + "%)");
          
        }
        if (slide == '2') {
          $("#e-lecture").html("slide " + slide + " (" + 4 + "%)");
          example(CP3_4_1);
        }
        if (slide == '3') {
          $("#e-lecture").html("slide " + slide + " (" + 6 + "%)");
          $("#draw").addClass("menu-highlighted");
$("#random").addClass("menu-highlighted");
$("#examples").click().addClass("menu-highlighted");
        }
        if (slide == '4') {
          $("#e-lecture").html("slide " + slide + " (" + 8 + "%)");
          loadGraph({
  'vl': {
    0: { "x": 100, "y": 50  },
    1: { "x":  50, "y": 150 },
    2: { "x": 150, "y": 150 },
    3: { "x": 125, "y": 250 },
    4: { "x": 175, "y": 250 },
  },
  'el': {
    0: { "u": 0, "v": 1, "w": 1 },
    1: { "u": 0, "v": 2, "w": 1 },
    2: { "u": 2, "v": 3, "w": 1 },
    3: { "u": 2, "v": 4, "w": 1 },
  }
});
        }
        if (slide == '4-1') {
          $("#e-lecture").html("slide " + slide + " (" + 10 + "%)");
          loadGraph({
  'vl': {
    0: { "x": 100, "y": 150 },
    1: { "x":  50, "y": 50  },
    2: { "x": 150, "y": 50  },
    3: { "x": 175, "y": 150 },
    4: { "x": 225, "y": 150 },
  },
  'el': {
    0: { "u": 0, "v": 1, "w": 1 },
    1: { "u": 0, "v": 2, "w": 1 },
    2: { "u": 2, "v": 3, "w": 1 },
    3: { "u": 2, "v": 4, "w": 1 },
    4: { "u": 1, "v": 0, "w": 1 },
    5: { "u": 2, "v": 0, "w": 1 },
    6: { "u": 3, "v": 2, "w": 1 },
    7: { "u": 4, "v": 2, "w": 1 },
  }
});
        }
        if (slide == '4-2') {
          $("#e-lecture").html("slide " + slide + " (" + 13 + "%)");
          loadGraph({
  'vl': {
    0: { "x": 100, "y": 50  },
    1: { "x":  50, "y": 150 },
    2: { "x": 150, "y": 150 },
    3: { "x": 125, "y": 250 },
    4: { "x": 175, "y": 250 },
  },
  'el': {
    0: { "u": 0, "v": 1, "w": 1 },
    1: { "u": 0, "v": 2, "w": 1 },
    2: { "u": 2, "v": 3, "w": 1 },
    3: { "u": 2, "v": 4, "w": 1 },
  }
});
        }
        if (slide == '4-3') {
          $("#e-lecture").html("slide " + slide + " (" + 15 + "%)");
          loadGraph({
  'vl': {
    0: { "x": 100, "y": 50  },
    1: { "x":  50, "y": 150 },
    2: { "x": 150, "y": 150 },
    3: { "x": 125, "y": 250 },
    4: { "x": 175, "y": 250 },
  },
  'el': {
    0: { "u": 0, "v": 1, "w": 1 },
    1: { "u": 0, "v": 2, "w": 1 },
    2: { "u": 2, "v": 3, "w": 1 },
    3: { "u": 2, "v": 4, "w": 1 },
  }
});
        }
        if (slide == '4-4') {
          $("#e-lecture").html("slide " + slide + " (" + 17 + "%)");
          loadGraph({
  'vl': {
    0: { "x": 100, "y": 50  },
    1: { "x":  50, "y": 150 },
    2: { "x": 150, "y": 150 },
    3: { "x": 125, "y": 250 },
    4: { "x": 175, "y": 250 },
  },
  'el': {
    0: { "u": 0, "v": 1, "w": 1 },
    1: { "u": 0, "v": 2, "w": 1 },
    2: { "u": 2, "v": 3, "w": 1 },
    3: { "u": 2, "v": 4, "w": 1 },
  }
});
        }
        if (slide == '4-5') {
          $("#e-lecture").html("slide " + slide + " (" + 19 + "%)");
          
        }
        if (slide == '5') {
          $("#e-lecture").html("slide " + slide + " (" + 21 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '5-1') {
          $("#e-lecture").html("slide " + slide + " (" + 23 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
        }
        if (slide == '5-2') {
          $("#e-lecture").html("slide " + slide + " (" + 26 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
        }
        if (slide == '5-3') {
          $("#e-lecture").html("slide " + slide + " (" + 28 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
        }
        if (slide == '5-4') {
          $("#e-lecture").html("slide " + slide + " (" + 30 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
        }
        if (slide == '5-5') {
          $("#e-lecture").html("slide " + slide + " (" + 32 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '5-6') {
          $("#e-lecture").html("slide " + slide + " (" + 34 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
        }
        if (slide == '5-7') {
          $("#e-lecture").html("slide " + slide + " (" + 36 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
        }
        if (slide == '5-8') {
          $("#e-lecture").html("slide " + slide + " (" + 39 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
        }
        if (slide == '6') {
          $("#e-lecture").html("slide " + slide + " (" + 41 + "%)");
          $("#bfs").click().addClass("menu-highlighted");
        }
        if (slide == '6-1') {
          $("#e-lecture").html("slide " + slide + " (" + 43 + "%)");
          $("#bfs").click().addClass("menu-highlighted");
        }
        if (slide == '6-2') {
          $("#e-lecture").html("slide " + slide + " (" + 45 + "%)");
          $("#bfs").click().addClass("menu-highlighted");
        }
        if (slide == '6-3') {
          $("#e-lecture").html("slide " + slide + " (" + 47 + "%)");
          $("#bfs").click().addClass("menu-highlighted");
example(CP3_4_3);
        }
        if (slide == '6-4') {
          $("#e-lecture").html("slide " + slide + " (" + 50 + "%)");
          $("#bfs").click().addClass("menu-highlighted");
        }
        if (slide == '7') {
          $("#e-lecture").html("slide " + slide + " (" + 52 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
$("#bfs").addClass("menu-highlighted");
        }
        if (slide == '7-1') {
          $("#e-lecture").html("slide " + slide + " (" + 54 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
$("#bfs").addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '7-2') {
          $("#e-lecture").html("slide " + slide + " (" + 56 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
$("#bfs").addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '7-3') {
          $("#e-lecture").html("slide " + slide + " (" + 58 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
$("#bfs").addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '7-4') {
          $("#e-lecture").html("slide " + slide + " (" + 60 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
$("#bfs").addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '7-5') {
          $("#e-lecture").html("slide " + slide + " (" + 63 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
$("#bfs").addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '7-6') {
          $("#e-lecture").html("slide " + slide + " (" + 65 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
$("#bfs").addClass("menu-highlighted");
example(CP3_4_1);
        }
        if (slide == '7-7') {
          $("#e-lecture").html("slide " + slide + " (" + 67 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
example(CP3_4_9);
        }
        if (slide == '7-8') {
          $("#e-lecture").html("slide " + slide + " (" + 69 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
example(CP3_4_9);
        }
        if (slide == '7-9') {
          $("#e-lecture").html("slide " + slide + " (" + 71 + "%)");
          $("#dfs").click().addClass("menu-highlighted");
example(CP3_4_9);
        }
        if (slide == '7-10') {
          $("#e-lecture").html("slide " + slide + " (" + 73 + "%)");
          $("#topo").click().addClass("menu-highlighted");
example(CP3_4_4);
        }
        if (slide == '7-11') {
          $("#e-lecture").html("slide " + slide + " (" + 76 + "%)");
          $("#topo").click().addClass("menu-highlighted");
example(CP3_4_4);
        }
        if (slide == '8') {
          $("#e-lecture").html("slide " + slide + " (" + 78 + "%)");
          $("#bipartite").click().addClass("menu-highlighted");
$("#bridge").addClass("menu-highlighted");
$("#scc").addClass("menu-highlighted");
$("#twosat").addClass("menu-highlighted");
        }
        if (slide == '9') {
          $("#e-lecture").html("slide " + slide + " (" + 80 + "%)");
          $("#bipartite").click().addClass("menu-highlighted");
example(CP3_4_18);
        }
        if (slide == '10') {
          $("#e-lecture").html("slide " + slide + " (" + 82 + "%)");
          $("#bridge").addClass("menu-highlighted");
example(CP3_4_9);
        }
        if (slide == '11') {
          $("#e-lecture").html("slide " + slide + " (" + 84 + "%)");
          $("#scc").click().addClass("menu-highlighted");
example(CP3_4_9);
        }
        if (slide == '12') {
          $("#e-lecture").html("slide " + slide + " (" + 86 + "%)");
          $("#twosat").click().addClass("menu-highlighted");
        }
        if (slide == '13') {
          $("#e-lecture").html("slide " + slide + " (" + 89 + "%)");
          
        }
        if (slide == '13-1') {
          $("#e-lecture").html("slide " + slide + " (" + 91 + "%)");
          
        }
        if (slide == '14') {
          $("#e-lecture").html("slide " + slide + " (" + 93 + "%)");
          
        }
        if (slide == '14-1') {
          $("#e-lecture").html("slide " + slide + " (" + 95 + "%)");
          
        }
        if (slide == '14-2') {
          $("#e-lecture").html("slide " + slide + " (" + 97 + "%)");
          
        }
        if (slide == '14-3') {
          $("#e-lecture").html("slide " + slide + " (" + 100 + "%)");
          
        }
        clearTimeout(currSlideTimer);
      }

      window.onpopstate = function(event) {
        var slide = event.state['slide'];
        openSlide(slide, function() {
          runSlide(slide);
        });
      };

      function getUrlParameter(sParam) {
        var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'), sParameterName, i;

        for (i = 0; i < sURLVariables.length; i++) {
          sParameterName = sURLVariables[i].split('=');
          if (sParameterName[0] === sParam) return sParameterName[1] === undefined ? true : sParameterName[1];
        }
      };
      var slideTimeline = {};

      //reads all visited slides in the slideTimeline and gives them their sector color
      function setVisitedSlideTimelineColors() {
        for(const [sectionNo, visitedSlides] of Object.entries(slideTimeline)) {
          const visitedSlides = slideTimeline[sectionNo];
          for(const visitedSlideNo of visitedSlides) {
            setSlideTimelineColor(visitedSlideNo);
          }
        }
      }

      //only called on load if there is nothing in session
      function setTimelineForCompletedSector(sectorNum) {
        let len = sectorLength;
        switch (sectorNum) {
          case 1 : len = sectorLength; break;
          case 2 : len = 2 * sectorLength; break;
          default: len = numSlides;
        }
        let i = 0;
        switch (sectorNum) {
          case 1 : i = 0; break;
          case 2 : i = sectorLength; break;
          default: i = 2 * sectorLength;
        }
        for (; i < len; i++) {
          saveELectureTimeline(lectureIds[i].value, true);
        }
      }

      function getUserSectorHistory(callback) {
        $.ajax({
          type: 'GET',
          url: "https://visualgo.net/section-info",
          data: {
            _token: "el7PTQKlc6G1wELehqMAYwxe5eBzXzWtdQy4je5h",
            topic: "/dfsbfs".substring(1)
          }
        }
        ).done(function (data) {
            if (data.data[0] === 1) {
              setF1SectorColor(1);
              setTimelineForCompletedSector(1);
            }
            if (data.data[1] === 1) {
              setF1SectorColor(2);
              setTimelineForCompletedSector(2);
            }
            if (data.data[2] === 1) {
              setF1SectorColor(3);
              setTimelineForCompletedSector(3);
            }
            callback();
        }).fail(function (data) {
            console.log('get user sector history failed!');
        });
      }

      function getELectureTimelineFromSession() {
        const page = "/dfsbfs".substring(1);
        const timelineKey = page + '-slide-timeline';
        const storedTimeline = window.sessionStorage.getItem(timelineKey);
        if (storedTimeline) {
          slideTimeline = JSON.parse(storedTimeline);
        } else {
          return false;
        }
        let slideInfo = [];
        for (const [sectionNum, slides] of Object.entries(slideTimeline)) {
          for (const slide of slides) {
            indicateSlideCompletedUI(slide);
            slideInfo = slide.split('-');
            incrementSectorVisits(parseInt(sectionNum), slideInfo.length > 1 ? parseInt(slideInfo[1]) : 0);
          }
        }
        return true;
      }

      async function initializeELectureTimeline() {
        setSectorJunctionInfo();
        if (!getELectureTimelineFromSession())
          getUserSectorHistory(sectorBasedModeSelection);
        else
          sectorBasedModeSelection();

        createELectureTimelineDisplay();
        setVisitedSlideTimelineColors();
      }

      function setF1SectorColor(sectorNum) {
        $(`[sectorNo="${sectorNum}"]`).css('background', sectorColors[(parseInt(sectorNum) % 3)]);
      }

      function updateSectorInDB(sectorNum) {
        $.ajax({
          type: 'POST',
          url: "https://visualgo.net/section-info",
          data: {
            _token: "el7PTQKlc6G1wELehqMAYwxe5eBzXzWtdQy4je5h",
            section: (sectorNum - 1),
            topic: "/dfsbfs".substring(1)
          }
        }
        ).done(function (data) {
            //console.log("Saved the sector " + sectorNum + " as done " + JSON.stringify(data));
        }).fail(function (data) {
            console.log("Setting sector done failed new attempt! "+ JSON.stringify(data));
        });
      }

      //If 87.5% or more of the slides in sector are done
      function setF1SectorCompleted(sectorNum, isInitializationCall) {
        setF1SectorColor(sectorNum);
        //avoid api call on initialization
        if (!isInitializationCall) {
          updateSectorInDB(sectorNum);
          $(`[sectorNo="${sectorNum}"]`).css("animation", "green-pulse 2s 4");
          setTimeout(() => {
            $(`[sectorNo="${sectorNum}"]`).css("animation", "");
          }, 8000);
        }
      }

      function incrementSectorVisits(sectionNum, slideNumWithinSection, isInitializationCall) {
        //updating sector count
        if (sectionNum < sectorJunction12Section
          || (sectionNum === sectorJunction12Section && slideNumWithinSection <= sectorJunction12Slide)) {
          ++sector1Count;
          if (sector1Count >= Math.ceil(0.875 * sectorLength))
            setF1SectorCompleted(1, isInitializationCall);
        } else if (sectionNum < sectorJunction23Section
          || (sectionNum === sectorJunction23Section && slideNumWithinSection <= sectorJunction23Slide)) {
          ++sector2Count;
          if (sector2Count >= Math.ceil(0.875 * sectorLength))
            setF1SectorCompleted(2, isInitializationCall);
        } else {
          ++sector3Count;
          if (sector3Count >= Math.ceil(0.875 * (numSlides - 2 * sectorLength)))
            setF1SectorCompleted(3, isInitializationCall);
        }
      }

      function saveELectureTimeline(slideNo, isInitialization) {
        const slideInfo = slideNo.split('-');
        const sectionNo = slideInfo[0];
        const slideNumWithinSection = slideInfo.length > 1 ? parseInt(slideInfo[1]) : 0;
        if (slideTimeline[sectionNo]) {
          if (!slideTimeline[sectionNo].includes(slideNo)) {
            slideTimeline[sectionNo].push(slideNo);
            const sectionNum = parseInt(sectionNo);
            incrementSectorVisits(sectionNum, slideNumWithinSection, isInitialization);
          }
        } else {
          slideTimeline[sectionNo] = [];
          slideTimeline[sectionNo].push(slideNo);
          const sectionNum = parseInt(sectionNo);
          incrementSectorVisits(sectionNum, slideNumWithinSection, isInitialization);
        }
        setSlideTimelineColor(slideNo);
        indicateSlideCompletedUI(slideNo);
      }

      function saveELectureTimelineToSession() {
        const page = "/dfsbfs".substring(1);
        const timelineKey = page + '-slide-timeline';
        window.sessionStorage.setItem(timelineKey, JSON.stringify(slideTimeline));
      }

      function handleTimelineOnRunSlide(slideValue) {
        const slideInfo = slideValue.split('-');
        const sectionNo = slideInfo[0];
        const slideNumWithinSection = slideInfo.length > 1 ? parseInt(slideInfo[1]) : 0;
        //start timer only if the slide isnt already done
        if (!slideTimeline[sectionNo] || !slideTimeline[sectionNo].includes(slideValue)) {
          const slideTextLength = $('#electure-'+slideValue + " p").text().length + $('#electure-'+slideValue + " li").text().length;
          const CHARS_READ_PER_MS = 0.05; //when fast, 50 characters a second
          //setting max reading time as 10 seconds for around 500 character slide
          const minSlideReadingTime = Math.min(Math.max(2000, (slideTextLength / CHARS_READ_PER_MS) +  + (2000 * $('#electure-'+slideValue + " img").length)), 10000);
          currSlideTimer = setTimeout(() => {
            saveELectureTimeline(slideValue);
          }, minSlideReadingTime);
        }
      }

      function indicateSlideCompletedUI(slide) {
        $('#electure-'+slide).css("box-shadow", "3px 3px 8px green"); //set green shadow for completed slides
        $('#electure-'+slide + ' .electure-read-status').html("&#10004;");
        $('#electure-'+slide + ' .electure-read-status').attr("title", "Slide Completed!");
        $('#electure-'+slide + ' .electure-read-status').css("font-size", "17px");
      }

      function pushState(slideValue) {
        var url = '/zh/dfsbfs';
        if (typeof slideValue != 'undefined' && slideValue != null) {
          url += '?slide=' + slideValue;
                  }
        window.history.pushState({slide: slideValue}, "slide " + slideValue, url);
      }

      function showPopup(callback) {
        $('#popup').fadeIn(100, callback);
      }

      function hidePopup(callback) {
        $('#popup').fadeOut(100, callback);
      }

      function showOverlay() {
        $('#overlay').css('opacity', 0.5);
        $('#overlay').show();

        $("#e-lecture-timeline").show();
        $("#e-lecture-f1map").show();
      }

      function hideOverlay() {
        $('#overlay').hide();
        $("#e-lecture").html("");
        $("#e-lecture-timeline").hide();
        $("#e-lecture-f1map").hide();
        clearTimeout(currSlideTimer);
      }

      function makeOverlayTransparent() {
        $('#overlay').css('opacity', 0);
      }

      function hideSlide(callback) {
        isPlaying = true;
        closeSlide(cur_slide, function() {
          makeOverlayTransparent();
          setTimeout(callback, 700); // don't immediately run the animation, wait for 500ms+ first
        });
      }

      function showSlide() {
        isPlaying = false;
        openSlide(cur_slide);
        showOverlay();
      }

      function sectorBasedModeSelection() {
        const urlSearchParams = new URLSearchParams(window.location.search);
        const params = Object.fromEntries(urlSearchParams.entries());
        //check params are empty and then that all sectors are completed or not
        if (!Object.keys(params).length
          && sector1Count === sectorLength && sector2Count === sectorLength && sector3Count === (numSlides - 2 * sectorLength)) {
            hideOverlay();
        }
        else
          $('#mode-menu a').click();
      }

      $(function() {
        if (isMobileOS() && portraitMatcher.matches) {
          $('#rotateDeviceOverlay').show();
          $('#rotateDeviceText').show();
          $('#widenDeviceText').hide();
          $('#topbar').css("z-index", 10001);
        } else if (matchMediaNarrow.matches) {
          $('#rotateDeviceOverlay').show();
          $('#rotateDeviceText').hide();
          $('#widenDeviceText').show();
          $('#topbar').css("z-index", 10001);
        } else {
          $('#rotateDeviceOverlay').hide();
          $('#topbar').css("z-index", "");
        }

        matchMediaNarrow.addEventListener('change', e => {
          //screws up for square device! NEED RESIZE EVENT
          if (e.matches) {
            if ($('#rotateDeviceOverlay').is(":hidden")) {
              $('#rotateDeviceOverlay').show();
              $('#rotateDeviceText').hide();
              $('#widenDeviceText').show();
              $('#topbar').css("z-index", 10001);
            }
          } else {
            $('#rotateDeviceOverlay').hide();
            $('#topbar').css("z-index", "");
          }
        });
        portraitMatcher.addEventListener('change', e => {
          if (e.matches && isMobileOS()) {
            if ($('#rotateDeviceOverlay').is(":hidden")) {
              $('#rotateDeviceOverlay').show();
              $('#rotateDeviceText').show();
              $('#widenDeviceText').hide();
              $('#topbar').css("z-index", 10001);
            }
          } else {
            $('#rotateDeviceOverlay').hide();
            $('#topbar').css("z-index", "");
          }
        });
        const urlSearchParams = new URLSearchParams(window.location.search);
        const params = Object.fromEntries(urlSearchParams.entries());
        let slide = getUrlParameter('slide');
        if (typeof slide !== undefined && slide != null) {
          cur_slide = slide;
        }
        //do all timeline and slide stuff only if specific params not provided
        if (!Object.keys(params).length || params["slide"]) {
          if (!isMobile()) {
                            $('#mode-menu a').click();
                      }
        }
        $('.mcq-submit').click(function() {
          var questionId = parseInt($(this).attr('id').split('-')[1]);
          var answer = $('#mcq-answer-' + questionId).val();
          var userAnswer = $('input[type=radio][name=mcq-'+questionId+'-choice]:checked').val();

          if (answer === userAnswer) {
            $('#answer-status-' + questionId).html('<font color="green"><b>Correct!</b></font>');
          }
          else {
            $('#answer-status-' + questionId).html('<font color="red"><b>Wrong Answer! Try again...</b></font>');
          }
          $('#answer-status-' + questionId).show();
          setTimeout(function() {
            $('#answer-status-' + questionId).fadeOut(1000);
          }, 1000);
        });

        $('.msq-submit').click(function() {
          var questionId = parseInt($(this).attr('id').split('-')[1]);
          var answer = $('#msq-answer-' + questionId).val();

          var answers = [];
          $('input[type=checkbox][class=msq-choice]:checked').each(function() {
            answers.push($(this).attr('id').split('-')[3]);
          });
          answers.sort();
          var userAnswer = answers.join(',');

          if (answer === userAnswer) {
            $('#answer-status-' + questionId).html('<font color="green">Correct!</font>');
          }
          else {
            $('#answer-status-' + questionId).html('<font color="red">Wrong Answer! Try again...</font>');
          }
          $('#answer-status-' + questionId).show();
          setTimeout(function() {
            $('#answer-status-' + questionId).fadeOut(1000);
          }, 1000);
        });

        $('select.lecture-dropdown').change(function() {
          var nextSlide = $(this).val();
          openSlide(nextSlide, function() {
            runSlide(nextSlide);
            pushState(nextSlide);
          });
        });

        $('#hide-popup').click(function() {
          hidePopup();
        });

        $('#popup').hover(function() {
          $('#hide-popup').show();
        }, function() {
          $('#hide-popup').hide();
        });

        $('#electure-1 .electure-next').click(function() {
          hidePopup();
          runSlide('2');
          pushState('2');
        });
        $('#electure-2 .electure-next').click(function() {
          hidePopup();
          runSlide('3');
          pushState('3');
        });
        $('#electure-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('1');
          pushState('1');
        });
        $('#electure-3 .electure-next').click(function() {
          hidePopup();
          runSlide('4');
          pushState('4');
        });
        $('#electure-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('2');
          pushState('2');
        });
        $('#electure-4 .electure-next').click(function() {
          hidePopup();
          runSlide('4-1');
          pushState('4-1');
        });
        $('#electure-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('3');
          pushState('3');
        });
        $('#electure-4-1 .electure-next').click(function() {
          hidePopup();
          runSlide('4-2');
          pushState('4-2');
        });
        $('#electure-4-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('4');
          pushState('4');
        });
        $('#electure-4-2 .electure-next').click(function() {
          hidePopup();
          runSlide('4-3');
          pushState('4-3');
        });
        $('#electure-4-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('4-1');
          pushState('4-1');
        });
        $('#electure-4-3 .electure-next').click(function() {
          hidePopup();
          runSlide('4-4');
          pushState('4-4');
        });
        $('#electure-4-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('4-2');
          pushState('4-2');
        });
        $('#electure-4-4 .electure-next').click(function() {
          hidePopup();
          runSlide('4-5');
          pushState('4-5');
        });
        $('#electure-4-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('4-3');
          pushState('4-3');
        });
        $('#electure-4-5 .electure-next').click(function() {
          hidePopup();
          runSlide('5');
          pushState('5');
        });
        $('#electure-4-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('4-4');
          pushState('4-4');
        });
        $('#electure-5 .electure-next').click(function() {
          hidePopup();
          runSlide('5-1');
          pushState('5-1');
        });
        $('#electure-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('4-5');
          pushState('4-5');
        });
        $('#electure-5-1 .electure-next').click(function() {
          hidePopup();
          runSlide('5-2');
          pushState('5-2');
        });
        $('#electure-5-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('5');
          pushState('5');
        });
        $('#electure-5-2 .electure-next').click(function() {
          hidePopup();
          runSlide('5-3');
          pushState('5-3');
        });
        $('#electure-5-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-1');
          pushState('5-1');
        });
        $('#electure-5-3 .electure-next').click(function() {
          hidePopup();
          runSlide('5-4');
          pushState('5-4');
        });
        $('#electure-5-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-2');
          pushState('5-2');
        });
        $('#electure-5-4 .electure-next').click(function() {
          hidePopup();
          runSlide('5-5');
          pushState('5-5');
        });
        $('#electure-5-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-3');
          pushState('5-3');
        });
        $('#electure-5-5 .electure-next').click(function() {
          hidePopup();
          runSlide('5-6');
          pushState('5-6');
        });
        $('#electure-5-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-4');
          pushState('5-4');
        });
        $('#electure-5-6 .electure-next').click(function() {
          hidePopup();
          runSlide('5-7');
          pushState('5-7');
        });
        $('#electure-5-6 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-5');
          pushState('5-5');
        });
        $('#electure-5-7 .electure-next').click(function() {
          hidePopup();
          runSlide('5-8');
          pushState('5-8');
        });
        $('#electure-5-7 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-6');
          pushState('5-6');
        });
        $('#electure-5-8 .electure-next').click(function() {
          hidePopup();
          runSlide('6');
          pushState('6');
        });
        $('#electure-5-8 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-7');
          pushState('5-7');
        });
        $('#electure-6 .electure-next').click(function() {
          hidePopup();
          runSlide('6-1');
          pushState('6-1');
        });
        $('#electure-6 .electure-prev').click(function() {
          hidePopup();
          runSlide('5-8');
          pushState('5-8');
        });
        $('#electure-6-1 .electure-next').click(function() {
          hidePopup();
          runSlide('6-2');
          pushState('6-2');
        });
        $('#electure-6-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('6');
          pushState('6');
        });
        $('#electure-6-2 .electure-next').click(function() {
          hidePopup();
          runSlide('6-3');
          pushState('6-3');
        });
        $('#electure-6-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-1');
          pushState('6-1');
        });
        $('#electure-6-3 .electure-next').click(function() {
          hidePopup();
          runSlide('6-4');
          pushState('6-4');
        });
        $('#electure-6-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-2');
          pushState('6-2');
        });
        $('#electure-6-4 .electure-next').click(function() {
          hidePopup();
          runSlide('7');
          pushState('7');
        });
        $('#electure-6-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-3');
          pushState('6-3');
        });
        $('#electure-7 .electure-next').click(function() {
          hidePopup();
          runSlide('7-1');
          pushState('7-1');
        });
        $('#electure-7 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-4');
          pushState('6-4');
        });
        $('#electure-7-1 .electure-next').click(function() {
          hidePopup();
          runSlide('7-2');
          pushState('7-2');
        });
        $('#electure-7-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('7');
          pushState('7');
        });
        $('#electure-7-2 .electure-next').click(function() {
          hidePopup();
          runSlide('7-3');
          pushState('7-3');
        });
        $('#electure-7-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-1');
          pushState('7-1');
        });
        $('#electure-7-3 .electure-next').click(function() {
          hidePopup();
          runSlide('7-4');
          pushState('7-4');
        });
        $('#electure-7-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-2');
          pushState('7-2');
        });
        $('#electure-7-4 .electure-next').click(function() {
          hidePopup();
          runSlide('7-5');
          pushState('7-5');
        });
        $('#electure-7-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-3');
          pushState('7-3');
        });
        $('#electure-7-5 .electure-next').click(function() {
          hidePopup();
          runSlide('7-6');
          pushState('7-6');
        });
        $('#electure-7-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-4');
          pushState('7-4');
        });
        $('#electure-7-6 .electure-next').click(function() {
          hidePopup();
          runSlide('7-7');
          pushState('7-7');
        });
        $('#electure-7-6 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-5');
          pushState('7-5');
        });
        $('#electure-7-7 .electure-next').click(function() {
          hidePopup();
          runSlide('7-8');
          pushState('7-8');
        });
        $('#electure-7-7 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-6');
          pushState('7-6');
        });
        $('#electure-7-8 .electure-next').click(function() {
          hidePopup();
          runSlide('7-9');
          pushState('7-9');
        });
        $('#electure-7-8 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-7');
          pushState('7-7');
        });
        $('#electure-7-9 .electure-next').click(function() {
          hidePopup();
          runSlide('7-10');
          pushState('7-10');
        });
        $('#electure-7-9 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-8');
          pushState('7-8');
        });
        $('#electure-7-10 .electure-next').click(function() {
          hidePopup();
          runSlide('7-11');
          pushState('7-11');
        });
        $('#electure-7-10 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-9');
          pushState('7-9');
        });
        $('#electure-7-11 .electure-next').click(function() {
          hidePopup();
          runSlide('8');
          pushState('8');
        });
        $('#electure-7-11 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-10');
          pushState('7-10');
        });
        $('#electure-8 .electure-next').click(function() {
          hidePopup();
          runSlide('9');
          pushState('9');
        });
        $('#electure-8 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-11');
          pushState('7-11');
        });
        $('#electure-9 .electure-next').click(function() {
          hidePopup();
          runSlide('10');
          pushState('10');
        });
        $('#electure-9 .electure-prev').click(function() {
          hidePopup();
          runSlide('8');
          pushState('8');
        });
        $('#electure-10 .electure-next').click(function() {
          hidePopup();
          runSlide('11');
          pushState('11');
        });
        $('#electure-10 .electure-prev').click(function() {
          hidePopup();
          runSlide('9');
          pushState('9');
        });
        $('#electure-11 .electure-next').click(function() {
          hidePopup();
          runSlide('12');
          pushState('12');
        });
        $('#electure-11 .electure-prev').click(function() {
          hidePopup();
          runSlide('10');
          pushState('10');
        });
        $('#electure-12 .electure-next').click(function() {
          hidePopup();
          runSlide('13');
          pushState('13');
        });
        $('#electure-12 .electure-prev').click(function() {
          hidePopup();
          runSlide('11');
          pushState('11');
        });
        $('#electure-13 .electure-next').click(function() {
          hidePopup();
          runSlide('13-1');
          pushState('13-1');
        });
        $('#electure-13 .electure-prev').click(function() {
          hidePopup();
          runSlide('12');
          pushState('12');
        });
        $('#electure-13-1 .electure-next').click(function() {
          hidePopup();
          runSlide('14');
          pushState('14');
        });
        $('#electure-13-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('13');
          pushState('13');
        });
        $('#electure-14 .electure-next').click(function() {
          hidePopup();
          runSlide('14-1');
          pushState('14-1');
        });
        $('#electure-14 .electure-prev').click(function() {
          hidePopup();
          runSlide('13-1');
          pushState('13-1');
        });
        $('#electure-14-1 .electure-next').click(function() {
          hidePopup();
          runSlide('14-2');
          pushState('14-2');
        });
        $('#electure-14-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('14');
          pushState('14');
        });
        $('#electure-14-2 .electure-next').click(function() {
          hidePopup();
          runSlide('14-3');
          pushState('14-3');
        });
        $('#electure-14-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('14-1');
          pushState('14-1');
        });
        $('#electure-14-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('14-2');
          pushState('14-2');
        });
      });

      function doButtonAction39() {
        CUSTOM_ACTION('dfs');
      }
      function doButtonAction40() {
        CUSTOM_ACTION('bfs');
      }
      function doButtonAction41() {
        $("#dfsrecap").html("We start from source vertex <b>s = 0</b> and DFS will explore vertices: 0 &rarr; 1 (cannot go back to 0) &rarr; 2 (cannot go back to 1) &rarr; 3 (cannot go back to 1 or to 2) &rarr; 4 (cannot go back to 3, backtrack to 3 &rarr; 2 &rarr; 1, cannot go to 3, backtrack to 0, done).");
      }
      function doButtonAction42() {
        $("#bfsrecap").html("We start from source vertex <b>s = 5</b> and BFS will explore vertices: {5} (the source vertex), {1, 6, 10} (one edge away from the source vertex), {0, 2, 11, 9} (two edges away), {4, 3, 12, 8} (three edges away), and finally {7} (four edges away).");
      }
      function doButtonAction43() {
        $("#printexample").html(" When we call <samp>backtrack(4)</samp> after executing <samp>DFS(0)</samp> on the sample graph, we go back from 4 &rarr; p[4] = 3 &rarr; p[3] = 2 &rarr; p[2] = 1 &rarr; p[1] = 0 &rarr; p[0] = -1 (so 0 is the source) and print the path in reversed order (due to recursion) i.e.,: 0 &rarr; 1 &rarr; 2 &rarr; 3 &rarr; 4.");
      }
      function doButtonAction44() {
        CUSTOM_ACTION('toposort_dfs');
      }
      function doButtonAction45() {
        CUSTOM_ACTION('toposort_bfs');
      }
      function doButtonAction46() {
        CUSTOM_ACTION('bipartite_dfs');
      }
      function doButtonAction47() {
        CUSTOM_ACTION('bipartite_bfs');
      }
      function doButtonAction48() {
        CUSTOM_ACTION('bridge');
      }
      function doButtonAction49() {
        CUSTOM_ACTION('kosaraju');
      }
      function doButtonAction50() {
        CUSTOM_ACTION('tarjan');
      }

      $('.electure-print').click(() => {
        window.open(`/zh/dfsbfs/print`);
      });
      function adjustPopupToImageSize() {
        var width = $('#popup-image').prop('width');
        var height = $('#popup-image').prop('height');
        $('#popup').width(width + 20);
        $('#popup').height(height + 20);
        if (width == 0 && height == 0) {
          setTimeout(adjustPopupToImageSize, 200);
        } else {
          showPopup();
        }
      }

      function POPUP_IMAGE(url) {
        $('#popup-content').html('<img id="popup-image" src="' + url + '">');
        adjustPopupToImageSize();
      }

      function URL(url) {
        window.open(url, '_blank');
      }

      // Implement these functions in each visualisation
      // This function will be called before entering e-Lecture Mode
      function ENTER_LECTURE_MODE() {}

      // This function will be called before returning to Explore Mode
      function ENTER_EXPLORE_MODE() {}

      // Lecture action functions
      function CUSTOM_ACTION(action, data, mode) {}

      // This function will be called everytime 1.0x is changed to 0.5x or vice versa
      function redraw() {}

      $(document).ready(function () {
        setTimeout(function () {
          $('#change-lang-popup').fadeOut('slow')
        }, 5000)
      })
    </script>
<script type="text/javascript">
    var extraCSS = {"twosat":"65px","scc":"92px","bridge":"119px","bipartite":"146px","topo":"173px","bfs":"200px","dfs":"227px","examples":"254px","draw":"281px","vertexnumber":"308px","mediumscale":"335px"};
    var actionsIds = {"mediumscale":{"p":"Visualisation Scale"},"vertexnumber":{"p":"Toggle V. Number for 0.5x","onClick":"toggleVertexNumber()"},"draw":{"p":"\u7f16\u8f91\u56fe\u8868","onClick":"drawGraph()"},"examples":{"p":"\u56fe\u793a"},"dfs":{"p":"\u6df1\u5ea6\u4f18\u5148\u641c\u7d22"},"bfs":{"p":"\u5e7f\u5ea6\u4f18\u5148\u641c\u8bf4"},"topo":{"p":"\u62d3\u6251\u6392\u5e8f"},"bipartite":{"p":"\u4e8c\u5206\u56fe\u68c0\u67e5"},"bridge":{"p":"\u5207\u65ad\u9876\u70b9\/ \u6865","onClick":"bridge()"},"scc":{"p":"SCC \u7b97\u6cd5"},"twosat":{"p":"2-SAT \u68c0\u67e5"}};
    var isOpens = {};
    var len = 11;
    var keys = ["mediumscale","vertexnumber","draw","examples","dfs","bfs","topo","bipartite","bridge","scc","twosat"]; 
    for (i = 0; i < len; i++) {
        var actionDetails = keys[i];
        isOpens[actionDetails] = false;
    }
    function openAction(id) {
        hideThirdTiers(id);
        $("." + id).css("bottom", extraCSS[id]);
        if (!isOpens[id]) {
            $('.' + id).fadeIn('fast');
            isOpens[id] = true;
        }
    }
    function closeAction(id) {
        hideThirdTiers(id);
        if (isOpens[id]) {
            $('.' + id).fadeOut('fast');
            $('#' + id + '-err').html("");
            isOpens[id] = false;
        }
    }

    function hideEntireActionsPanel() {
        //hideAllThirdTiers();
                    closeAction('mediumscale');
                    closeAction('vertexnumber');
                    closeAction('draw');
                    closeAction('examples');
                    closeAction('dfs');
                    closeAction('bfs');
                    closeAction('topo');
                    closeAction('bipartite');
                    closeAction('bridge');
                    closeAction('scc');
                    closeAction('twosat');
                hideActionsPanel();
    }

    function hideThirdTiers(tier1Action) {
        if ("parents" in actionsIds[tier1Action]) {
            for (const secondTierAction of actionsIds[tier1Action]["parents"]) {
                $('#' + secondTierAction + '-third-tier').fadeOut('fast');
            }
        }
    }

    function hideAllThirdTiers() {
        for (const tier1Action in actionsIds) {
            hideThirdTiers(tier1Action);
        }
    }

    function toggleChildExtras(tier1, selectedParentTier2) {
        hideThirdTiers(tier1);
        //this actionId must have childExtras
        var style = extraCSS[tier1];
        $("." + tier1).css("bottom", (parseInt(style.substring(0, style.length - 2)) - 27));
        //fade ins and outs are done on the ID whereas css class is set on the class
        //fade in the third tier of the selected 2nd tier parent
        $('#' + selectedParentTier2 + '-third-tier').fadeIn('fast');

        // //fade out all other third tiers of that 'action'
        // for (const parent of actions[tier1]["parents"]) {
        //     console.log("parent is " + parent + " for " + selectedParentTier2);
        //     if (parent != selectedParentTier2) {
        //         $('#' + parent + '-third-tier').fadeOut('fast');
        //     }
        // }
    }

    function setActionHeightOriginal(tier1Action) {
        $("." + tier1Action).css("bottom", extraCSS[tier1Action]);
    }

            $('#' + 'mediumscale').click(function() {
            openAction('mediumscale');
                                                                            closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'vertexnumber').click(function() {
            openAction('vertexnumber');
                                                closeAction('mediumscale');
                                                                                            closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'draw').click(function() {
            openAction('draw');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                                            closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'examples').click(function() {
            openAction('examples');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                                            closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'dfs').click(function() {
            openAction('dfs');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                                            closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'bfs').click(function() {
            openAction('bfs');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                                            closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'topo').click(function() {
            openAction('topo');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                                            closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'bipartite').click(function() {
            openAction('bipartite');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                                            closeAction('bridge');
                                                                closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'bridge').click(function() {
            openAction('bridge');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                                            closeAction('scc');
                                                                closeAction('twosat');
                                    });
            $('#' + 'scc').click(function() {
            openAction('scc');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                                            closeAction('twosat');
                                    });
            $('#' + 'twosat').click(function() {
            openAction('twosat');
                                                closeAction('mediumscale');
                                                                closeAction('vertexnumber');
                                                                closeAction('draw');
                                                                closeAction('examples');
                                                                closeAction('dfs');
                                                                closeAction('bfs');
                                                                closeAction('topo');
                                                                closeAction('bipartite');
                                                                closeAction('bridge');
                                                                closeAction('scc');
                                                                });
    
    //important to have all the input fields in actions menu take an id containing '-input'
    $("[id*='-input']").on("keypress keydown keyup", (event) => {
        event.stopPropagation();
    });
</script>
<script type="text/javascript">

// Graph Traversal Widget
// original author: Koh Zi Chun, improved by Nguyen Viet Dung, then maintained by Steven Halim
var scale = false;
var GraphTraversal = function(isMediumScale = false) {

  var self = this;
  var gw = new GraphWidget(isMediumScale);

  var iVL = {};
  var iEL = {};
  var amountVertex = 0;
  var amountEdge = 0;
  this.getiVL = function() { return iVL; }
  this.getiEL = function() { return iEL; }
  this.getGraphWidget = function() { return gw; }

  fixJSON = function() {
    amountVertex = 0;
    amountEdge = 0;
    for (var key in iVL) ++amountVertex;
    for (var key in iEL) ++amountEdge;

    // for (var key in iEL) {
    //   delete iEL[key]["type"];
    //   delete iEL[key]["displayWeight"];
    // }
    // for (var key in iVL) {
    //   iVL[key]["x"] = iVL[key]["cx"];
    //   delete iVL[key]["cx"];
    //   iVL[key]["y"] = iVL[key]["cy"];
    //   delete iVL[key]["cy"];
    //   delete iVL[key]["text"];
    //   delete iVL[key]["state"];
    // }
    // for (var key in iEL) {
    //   iEL[key]["u"] = +iEL[key]["vertexA"];
    //   delete iEL[key]["vertexA"];
    //   iEL[key]["v"] = +iEL[key]["vertexB"];
    //   delete iEL[key]["vertexB"];
    //   iEL[key]["w"] = +iEL[key]["weight"];
    //   delete iEL[key]["weight"];
    // }
  }

  takeJSON = function(graph) {
    if (graph == null) return;
    graph = JSON.parse(graph);
    iVL = graph["vl"];
    iEL = graph["el"];
    fixJSON();
  }

  statusChecking = function() {
    $("#draw-status p").html('绘制具有不同属性的图，然后尝试在其图上运行各种图的遍历算法。<div>默认绘图模式是有向图（每个边有一个或最多两个箭头）。</div>');
  }

  warnChecking = function() {
    var warn = "";
    if (currentGraphVisu.amountVertex() >= 10) warn += '屏幕上的顶点过多，请考虑绘制小的图';
    if (warn == "") $("#draw-warn p").html('没有警告');
    else            $("#draw-warn p").html(warn);
  }

  errorChecking = function() {
    var error = "";
    if (currentGraphVisu.amountVertex() == 0) {
      $("#draw-err p").html('图不能为空。');
      return;
    }

    if (error == "") $("#draw-err p").html('没有错误');
    else             $("#draw-err p").html(error);
  }

  var intervalID;

  this.startLoop = function() {
    intervalID = setInterval(function() {
      if (currentGraphVisu == undefined) return;
      //takeJSON(JSONresult);
      warnChecking();
      errorChecking();
      statusChecking();
    }, 100);
  }

  this.stopLoop = function() {
    clearInterval(intervalID);
  }

  this.draw = function() {
    if ($("#draw-err p").html() != '没有错误')
      return false;
    takeJSON(JSONresult);
    if ($("#submit").is(':checked'))
      this.submit(JSONresult);
    if ($("#copy").is(':checked'))
      window.prompt('复制到剪贴板：', JSONresult);

    DIRECTED_GR = true;
    OLD_POSITION = amountEdge;

    gw.removeAll(); // prevent "phantom" vertices and edges from appearing when using medium scale mode.
    graph = createState(iVL, iEL);
    gw.updateGraph(graph, 500);
    return true;
  }

  // this.submit = function(graph) {
  //   $.ajax({
  //     url: PHP_DOMAIN + "php/Graph.php?mode=" + MODE_SUBMIT_GRAPH,
  //     type: "POST",
  //     data: {canvasWidth: 1000, canvasHeight: 500, graphTopics: 'Graph Traversal', graphState: graph, fbAccessToken: fbAccessToken},
  //     error: function(xhr, errorType, exception) { //Triggered if an error communicating with server
  //         var errorMessage = exception || xhr.statusText; //If exception null, then default to xhr.statusText
  //         alert("There was an error submitting your graph " + errorMessage);
  //     }
  //   }).done(function(data) {
  //   });
  // }

  this.importjson = function(text) {
    takeJSON(text);
    statusChecking();

    DIRECTED_GR = true;
    OLD_POSITION = amountEdge;

    graph = createState(iVL, iEL);
    gw.updateGraph(graph, 500);
  }

  // this.initRandom = function(graph) {
  //   iVL = graph.iVL;
  //   iEL = graph.iEL;
  //   amountVertex = iVL.length;
  //   amountEdge = iEL.length;
  //   fixJSON();
  //   statusChecking();

  //   DIRECTED_GR = true;
  //   OLD_POSITION = amountEdge;

  //   var newState = createState(iVL, iEL);
  //   gw.updateGraph(newState, 500);
  // }

  var DIRECTED_GR;
  var OLD_POSITION;

  this.directedChange = function() {
    for (var key in iVL) iVL[key]["extratext"] = "";
    if (DIRECTED_GR == true) {
      DIRECTED_GR = false;
      for (var i = 0; i < OLD_POSITION; ++i) {
        var ok = false;
        for (var j = 0; j < amountEdge; ++j)
          if (iEL[i]["u"] == iEL[j]["v"] && iEL[i]["v"] == iEL[j]["u"]) {
            ok = true;
            break;
          }
        if (ok == false)
          iEL[amountEdge++] = {
            "u": iEL[i]["v"],
            "v": iEL[i]["u"]
          }
      }
    }
    else {
      DIRECTED_GR = true;
      for (var i = OLD_POSITION; i < amountEdge; ++i)
        delete iEL[i];
      amountEdge = OLD_POSITION;
    }

    var newState = createState(iVL, iEL);
    gw.updateGraph(newState, 500);
    // $('#directedChange-err').html("Successful")
    //   .delay(1000)
    //   .queue(function(n) {
    //     $(this).html("");
    //   });
    return true;
  }

  this.getGraph = function() {
    return {
      'vl': iVL,
      'el': iEL
    };
  }

  this.getV = function() {
    return amountVertex;
  }

  this.dfs = function(sourceVertex, callback) {
    var vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, treeEdge = {}, backEdge = {}, forwardEdge = {}, crossEdge = {};
    var stateList = [];
    var cs;

    // error checks
    if (amountVertex == 0) { // no graph
      $('#dfs-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (sourceVertex >= amountVertex || sourceVertex < 0) { // source vertex not in range
      $('#dfs-err').html('图中不存在此顶点。请选择另一个源点');
      return false;
    }

    var UNVISITED = 0, EXPLORED = 1, VISITED = 2;
    var p = {}, num = {}, Count = 0; // low = {},
    for (var i = 0; i < amountVertex; ++i) {
      p[i] = -1;
      num[i] = UNVISITED;
    }
    p[sourceVertex] = -2;
    for (var key in iVL) iVL[key]["extratext"] = "";
    iVL[sourceVertex]["extratext"] = "source";

    function dfsRecur(u) {
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
      cs["status"] = "DFS(" + u + ")";
      cs["lineNo"] = 1;
      stateList.push(cs);

      delete vertexHighlighted[u];
      vertexTraversing[u] = true;
      num[u] = EXPLORED; // low[u] = ++Count;

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var u = iEL[j]["u"], v = iEL[j]["v"];
        edgeHighlighted[j] = true;
        // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
        // for (var key in iEL) if (iEL[key]["u"] == v && iEL[key]["v"] == u) edgeHighlighted[key] = true;
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
        cs["status"] = '尝试边 {u} → {v}'.replace("{u}", u).replace("{v}", v);
        cs["lineNo"] = 2;
        cs["el"][j]["animateHighlighted"] = true;
        stateList.push(cs);

        for (var key in iVL) delete vertexHighlighted[key];
        for (var key in iEL) delete edgeHighlighted[key];

        if (num[v] == UNVISITED) {
          vertexTraversing[v] = true;
          treeEdge[j] = true;
          // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
          // for (var key in iEL) if (iEL[key]["u"] == v && iEL[key]["v"] == u) treeEdge[key] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
          cs["lineNo"] = [3];
          cs["status"] = '尝试路径 {u} → {v}<br>顶点 {v} 还没有被访问过，我们有了 <font color="red">树路径</font>.'.replace("{u}", u).replace("{v}", v).replace("{v}", v);
          stateList.push(cs);

          p[v] = u;
          dfsRecur(v);

          vertexHighlighted[u] = true;
          delete vertexHighlighted[v];
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
          cs["status"] = '完成 DFS({v})，原路返回到 DFS({u}).'.replace("{u}", u).replace("{v}", v);
          cs["lineNo"] = 1;
          stateList.push(cs);
        }
        else if (num[v] == EXPLORED) {
          // if (p[u] != v) { // this check is no longer needed, trivial bidirectional edge cycles also can be counted
            backEdge[j] = true;
            // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
            // for (var key in iEL) if (iEL[key]["u"] == v && iEL[key]["v"] == u) backEdge[key] = true;
          // }
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
          var thisStatus = '尝试边 {u} → {v}<br>顶点 {v} 已经被探索,，我们有一个 '.replace("{u}", u).replace("{v}", v).replace("{v}", v);
          if (p[u] == v)
            thisStatus = thisStatus + '<font color="blue">双向边</font> (一个微不足道的循环）。';
          else
            thisStatus = thisStatus + '<font color="blue">返回路径</font> （一个真的圈）.';
          cs["status"] = thisStatus;
          cs["lineNo"] = 4;
          stateList.push(cs);
        }
        else if (num[v] == VISITED) {
          forwardEdge[j] = true;
          // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
          // for (var key in iEL) if (iEL[key]["u"] == v && iEL[key]["v"] == u) forwardEdge[key] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
          cs["status"] = '尝试边 {u} → {v}<br>顶点 {v} 已访问,，我们有一个 <font color="grey">前向/交叉 边</font>。'.replace("{u}", u).replace("{v}", v).replace("{v}", v);
          cs["lineNo"] = 5;
          stateList.push(cs);
        }
      }
      num[u] = VISITED;
      vertexTraversed[u] = true;
      delete vertexTraversing[u];
    }
    dfsRecur(sourceVertex);

    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
    cs["status"] = 'DFS({sourceVertex}) 已经完成. <font color="red">红</font>/<font color="grey">灰</font>/<font color="blue">蓝</font> 边 分别是DFS生成树的 <font color="red">树</font>/<font color="grey">交叉/前</font>/<font color="blue">后</font> 边。'.replace("{sourceVertex}", sourceVertex);
    cs["lineNo"] = 0;
    stateList.push(cs);

    populatePseudocode(0);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.bfs = function(sourceVertex, callback) {
    var notVisited = {}, vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, treeEdge = {}, backEdge = {}, forwardEdge = {}, crossEdge = {};
    var stateList = [];
    var key, i, cs;

    // error checks
    if (amountVertex == 0) { // no graph
      $('#bfs-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (sourceVertex >= amountVertex || sourceVertex < 0) { // source vertex not in range
      $('#bfs-err').html('图中不存在此顶点。请选择另一个源点');
      return false;
    }

    var p = {}, d = {};
    for (var i = 0; i < amountVertex; ++i) {
      p[i] = -1;
      d[i] = 999;
    }
    d[sourceVertex] = 0;
    for (var key in iVL) iVL[key]["extratext"] = "";
    iVL[sourceVertex]["extratext"] = "source";

    var q = []; //, EdgeProcessed = 0;
    q.push(sourceVertex);
    p[sourceVertex] = -2;
    vertexHighlighted[sourceVertex] = true;
    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
    cs["status"] = '从源点 s = {sourceVertex} 开始。<br>设置 Q = {{sourceVertex}} 。'.replace("{sourceVertex}", sourceVertex).replace("{sourceVertex}", sourceVertex); // d[" + sourceVertex + "] = 0, 
    cs["lineNo"] = 1;
    stateList.push(cs);
    delete vertexHighlighted[sourceVertex];

    while (q.length > 0) {
      delete vertexTraversing[q[0]];
      vertexHighlighted[q[0]] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
      cs["status"] = '队列现在是 {{queue}}.<br>正在探索 u 的邻居 = {Lis}.'.replace("{queue}", q).replace("{Lis}", q[0]);
      cs["lineNo"] = [2, 3];
      stateList.push(cs);

      var f = q.shift();
      vertexTraversed[f] = true;

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == f) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var u = iEL[j]["u"], v = iEL[j]["v"];
        // for (var key in iVL) delete vertexHighlighted[key];
        for (var key in iEL) delete edgeHighlighted[key];
        if (u == f) { // outgoing edge from vertex u
          //EdgeProcessed++;
          //var thisStatus = 'relax(' + u + ', ' + v + ', 1), #edge_processed = ' + EdgeProcessed + '.';
          edgeHighlighted[j] = true;
          // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
          // for (var key in iEL) if (iEL[key]["u"] == v && iEL[key]["v"] == u) edgeHighlighted[key] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
          cs["status"] = '尝试边 {u} → {v}'.replace("{u}", u).replace("{v}", v).replace("{v}", v);
          cs["lineNo"] = 3;
          cs["el"][j]["animateHighlighted"] = true;
          stateList.push(cs);

          for (var key in iEL) delete edgeHighlighted[key]; // clear all again :O
          if (d[v] == 999) {
            d[v] = d[u]+1;
            p[v] = u;
            treeEdge[j] = true;
            // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
            // for (var key in iEL) if (iEL[key]["u"] == v && iEL[key]["v"] == u) treeEdge[key] = false;
            q.push(v);
            vertexTraversing[v] = true;
            iVL[v]["extratext"] = d[v];
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
            cs["status"] = '尝试路径 {u} → {v}<br>顶点 {v} 还没有被访问过，我们有了 <font color="red">树路径</font>.'.replace("{u}", u).replace("{v}", v).replace("{v}", v);
            cs["lineNo"] = 4;
          }
          else {
            // var grey_it = true;
            // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
            // for (var key in iEL) if ((iEL[key]["u"] == v && iEL[key]["v"] == u) && treeEdge[key]) grey_it = false;
            // if (grey_it) {
              forwardEdge[j] = true; // use grey to signify non-tree edge
              // on 18 Oct, after the bidirectional edges are given offset, do NOT do the reverse
              // for (var key in iEL) if (iEL[key]["u"] == v && iEL[key]["v"] == u) forwardEdge[key] = true;
            // }
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
            cs["status"] = '尝试边 {u} → {v}<br>节点 {v} 已探索，我们忽略这个<font color="grey">非树边</font>。'.replace("{u}", u).replace("{v}", v).replace("{v}", v);
            cs["lineNo"] = 5;
          }
          stateList.push(cs);
        }
      }
      // delete vertexHighlighted[u];
      for (var key in iVL) delete vertexHighlighted[key];
      for (var key in iEL) delete edgeHighlighted[key];
    }

    for (var key in iVL) delete vertexHighlighted[key];
    for (var key in iEL) delete edgeHighlighted[key];
    vertexHighlighted[sourceVertex] = true;
    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
    cs["status"] = 'BFS({sourceVertex}) 已经完成。 <font color="red">红</font>/<font color="grey">灰</font> 边是BFS &amp; SSSP 生成树的 <font color="red">树</font>/<font color="grey">非树 </font>边 （对于未加权图）。'.replace("{sourceVertex}", sourceVertex);
    stateList.push(cs);

    populatePseudocode(1);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.toposortDfs = function(callback) {
    var vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, treeEdge = {}, backEdge = {}, forwardEdge = {}, crossEdge = {}, hiddenEdge = {};
    var stateList = [];
    var cs, flag = true;

    // check error
    if (!DIRECTED_GR) {
      // cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      // cs["status"] = "The input graph is not set as 'directed' graph yet.<br>This algorithm only works with directed graphs.";
      // cs["lineNo"] = 0;
      // stateList.push(cs);

      this.directedChange(); // force change

      // cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      // cs["status"] = "We turn on the directed graph mode.<br>This action is irreversible.";
      // cs["lineNo"] = 0;
      // stateList.push(cs);

      // $('#topo-err').html("Undirected graph clearly has no topological sort. Give a directed input graph.");
      // return false;
    }

    if (amountVertex == 0) { // no graph
      $('#topo-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    // main code
    var p = {}, stack = [], stackNum = -1;
    for (var i = 0; i < amountVertex; ++i) p[i] = -1
    for (var key in iVL) iVL[key]["extratext"] = "";

    for (var i = 0; i < amountVertex; ++i)
      if (p[i] == -1) {
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
        cs["status"] = '顶点 {i} 还没被访问。'.replace("{i}", i);
        cs["lineNo"] = 1;
        stateList.push(cs);
        --p[i];
        Tdfs(i);
      }

    function Tdfs(u) {
      if (flag == false) return;
      vertexTraversing[u] = true;
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
      cs["status"] = "DFS(" + u + ").";
      cs["lineNo"] = 2;
      stateList.push(cs);
      delete vertexHighlighted[u];

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
        if (u == vertexA) {
          edgeHighlighted[j] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
          cs["status"] = '尝试边 {vertexA} → {vertexB}。<br>List = [{stack}]。'.replace("{vertexA}", vertexA).replace("{vertexB}", vertexB).replace("{stack}", stack);
          cs["lineNo"] = 3;
          cs["el"][j]["animateHighlighted"] = true;
          stateList.push(cs);

          if (p[vertexB] == -1) {
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
            cs["status"] = '节点 {vertexB} 还没被访问，继续。<br>List = [{stack}].'.replace("{vertexB}", vertexB).replace("{stack}", stack);
            cs["lineNo"] = 4;
            stateList.push(cs);

            p[vertexB] = u;
            Tdfs(vertexB);
          }
          else {
            var k = u;
            while (k != -2) {
              k = p[k];
              if (k == vertexB) flag = false;
            }
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
            cs["status"] = '节点 {vertexB} 已经被访问，忽略这条边。<br>List = [{stack}].'.replace("{vertexB}", vertexB).replace("{stack}", stack);
            cs["lineNo"] = 5;
            stateList.push(cs);
          }
        }
      }
      stack.push(u);
      delete vertexTraversing[u];
      vertexTraversed[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
      cs["status"] = 'DFS({u}) 已完成，将 {u} 添加到列表的后面。<br>List = [{stack}].'.replace("{u}", u).replace("{stack}", stack);
      cs["lineNo"] = 7;
      stateList.push(cs);
    }
    if (flag == false) { // not DAG
      $('#topo-err').html('此图不是DAG，无法执行拓扑排序。');
      return false;
    }
    vertexHighlighted = {}, edgeHighlighted = {};
    vertexTraversed = {}, vertexTraversing = {}, treeEdge = {}, backEdge = {}, forwardEdge = {}, crossEdge = {}, hiddenEdge = {};
    stack.reverse();
    for (var key in stack) iVL[stack[key]]["extratext"] = key;
    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
    cs["status"] = '在倒转列表后，拓扑排序就完成了。<br>List = [{stack}]，也可以参见上面的 <font color="red">红色 </font>索引。'.replace("{stack}", stack);
    cs["lineNo"] = 0;
    stateList.push(cs);

    populatePseudocode(2);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.toposortBfs = function(callback) {
    var vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, treeEdge = {}, backEdge = {}, forwardEdge = {}, crossEdge = {}, hiddenEdge = {};
    var stateList = [];
    var cs, key;

    // error checks
    if (amountVertex == 0) { // no graph
      $('#topo-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (!DIRECTED_GR) {
      this.directedChange(); // force change
      // $('#topo-err').html("Undirected graph clearly has no topological sort. Give a directed input graph.");
      // return false;
    }

    var fr = {}, cc = {};
    for (var i = 0; i < amountVertex; ++i)
      fr[i] = true, cc[i] = 0;
    for (var j = 0; j < amountEdge; ++j)
      ++cc[iEL[j]["v"]];

    for (key in iVL)
      iVL[key]["state"] = VERTEX_DEFAULT, iVL[key]["extratext"] = "";

    var q = [], EdgeProcessed = 0, Lis = [];
    for (var i = 0; i < amountVertex; ++i)
      if (cc[i] == 0)
        q.push(i), vertexHighlighted[i] = vertexTraversing[i] = true;
    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge);
    cs["status"] = 'Queue = [{queue}].'.replace("{queue}", q);
    cs["lineNo"] = 1;
    stateList.push(cs);
    for (var i = 0; i < amountVertex; ++i)
      if (cc[i] == 0)
        delete vertexHighlighted[i];

    while (q.length > 0) {
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
      cs["status"] = 'Queue = [{queue}].'.replace("{queue}", q);
      cs["lineNo"] = 2;
      stateList.push(cs);

      var u = q.shift(); // front most item
      Lis.push(u);
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
      cs["status"] = '从队列中弹出节点 {u} 并将其添加到列表的后面。<br>List = [{Lis}].'.replace("{u}", u).replace("{Lis}", Lis);
      cs["lineNo"] = 3;
      stateList.push(cs);

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
        cc[vertexB]--;

        hiddenEdge[j] = true;
        var thisStatus = 'Queue = [{queue}].<br>删除边 {vertexA} → {vertexB}.'.replace("{queue}", q).replace("{vertexA}", vertexA).replace("{vertexB}", vertexB);
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
        cs["status"] = thisStatus;
        cs["lineNo"] = [4, 5];
        cs["el"][j]["animateHighlighted"] = true;
        stateList.push(cs);

        if (cc[vertexB] == 0) {
          q.push(vertexB);
          vertexTraversing[vertexB] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
          cs["status"] = 'Queue = [{queue}]。<br>顶点{vertexB}现在没有传入边缘，将其添加到队列。'.replace("{queue}", q).replace("vertexB", vertexB);
          cs["lineNo"] = 6;
          stateList.push(cs);
        }
        else {
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
          cs["status"] ='Queue = [{queue}]<br>顶点{vertexB}仍然有传入边缘，忽略它。<br>'.replace("{queue}", q).replace("vertexB", vertexB);
          cs["lineNo"] = 6;
          stateList.push(cs);
        }
      }
      delete vertexHighlighted[u];
      delete vertexTraversing[u];
      vertexTraversed[u] = true;
    }

    var thisStatus = 'Kahn 算法已完成。<br>';
    var flag = true;
    for (var j = 0; j < amountEdge; ++j)
      if (hiddenEdge[j] == null) {
        flag = false;
        $('#topo-err').html('此图不是DAG，无法执行拓扑排序。');
        return false;
        // thisStatus += "Edge " + iEL[j]["u"] + "->" + iEL[j]["v"] + " has not been visited, the graph has cycle."
        // break;
      }
    if (flag)
      thisStatus += '拓扑排序 = [{Lis}]'.replace("{Lis}", Lis);
    for (var key in Lis) iVL[Lis[key]]["extratext"] = key;
    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge);
    cs["lineNo"] = 7;
    cs["status"] = thisStatus;
    stateList.push(cs);

    populatePseudocode(3);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.bipartiteDfs = function(callback) {
    var p = {}, vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {};
    var stateList = [];
    var key, cs, flag = false;

    // error checks   
    if (amountVertex == 0) { // no graph
      $('#bipartite-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (DIRECTED_GR) {
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
      cs["status"] = "The input graph is not set as 'undirected' graph yet.<br>Bipartite Graph is usually only defined for undirected graphs.";
      cs["lineNo"] = 0;
      stateList.push(cs);

      this.directedChange(); // force change

      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
      cs["status"] = "We add bidirectional edges as necessary and hide the arrows.<br>This action is irreversible (you may have to redraw your graph again).";
      cs["lineNo"] = 0;
      stateList.push(cs);

      // $('#bipartite-err').html("Bipartite graph is only defined for undirected graph. Please make the graph undirected.");
      // return false;
    }

    for (var key in iVL) {
      p[key] = -1;
      iVL[key]["extratext"] = "";
    }
    for (var i = 0; i < amountVertex; ++i)
      if (p[i] == -1) {
        vertexTraversed[i] = true;
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
        cs["status"] = "Vertex " + i + " is unvisited.";
        cs["lineNo"] = 1;
        if (vertexTraversed[i] != null) cs["vl"][i]["state"] = VERTEX_HIGHLIGHTED;
        else                            cs["vl"][i]["state"] = VERTEX_BLUE_FILL;
        stateList.push(cs);
        p[i] = -2;
        dfsRecur(i);
        if (flag) break;
      }

    function dfsRecur(u) {
      if (flag) return;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
      cs["status"] = "DFS(" + u + ").";
      cs["lineNo"] = 2;
      if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
      else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
      stateList.push(cs);

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
        if (edgeHighlighted[j] == null) {
          if (u == vertexA) {
            edgeHighlighted[j] = true;
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
            cs["status"] = "Try edge " + u + " &rarr; " + vertexB + ".";
            cs["lineNo"] = 3;
            if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
            else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
            cs["el"][j]["animateHighlighted"] = true;
            stateList.push(cs);

            if (p[vertexB] == -1) {
              if (vertexTraversed[u] == null) vertexTraversed[vertexB] = true;
              else                            vertexTraversing[vertexB] = true;
              p[vertexB] = u;
              cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
              cs["status"] = "Try edge " + u + " &rarr; " + vertexB + ".<br>Give vertex " + vertexB + " different color from vertex " + u + ".";
              cs["lineNo"] = 4;
              if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
              else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
              stateList.push(cs);
              dfsRecur(vertexB);
            }
            else {
              var cu = 0, cv = 0;
              if (vertexTraversing[u] != null) cu = 1;
              if (vertexTraversing[vertexB] != null) cv = 1;
              if (cu == cv) {
                flag = true;
                cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
                cs["status"] = "Vertex " + u + " and vertex " + vertexB + " have the same color.";
                cs["lineNo"] = 5;
                if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
                else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
                if (vertexTraversed[vertexB] != null) cs["vl"][vertexB]["state"] = VERTEX_HIGHLIGHTED;
                else                                  cs["vl"][vertexB]["state"] = VERTEX_BLUE_FILL;
                stateList.push(cs);
                break;
              }
            }
            if (flag) break;
          }
          if (flag) break;
        }
        else {
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
          cs["status"] = "Try edge " + vertexA + " &rarr; " + vertexB + ".<br>Vertex " + vertexA + " and vertex " + vertexB + " (already visited) have different color, continue.";
          cs["lineNo"] = 5;
          stateList.push(cs);
        }
      }
      if (flag) return;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
      cs["status"] = "Finish DFS(" + u + ")<br>Back to the parent.";
      cs["lineNo"] = 2;
      if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
      else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
      stateList.push(cs);
    }

    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
    if (flag == false) cs["status"] = "This is a bipartite graph!";
    else               cs["status"] = "This is NOT a bipartite graph!";
    cs["lineNo"] = 0;
    if (flag == true) cs["lineNo"] = 6;
    stateList.push(cs);

    populatePseudocode(4);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.bipartiteBfs = function(callback) {
    var p = {}, vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {};
    var stateList = [];
    var key, cs, flag = true;

    // error checks
    if (amountVertex == 0) { // no graph
      $('#bipartite-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (DIRECTED_GR) {
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
      cs["status"] = "The input graph is not set as 'undirected' graph yet.<br>Bipartite Graph is usually only defined for undirected graphs.";
      cs["lineNo"] = 0;
      stateList.push(cs);

      this.directedChange(); // force change

      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
      cs["status"] = "We add bidirectional edges as necessary and hide the arrows.<br>This action is irreversible (you may have to redraw your graph again).";
      cs["lineNo"] = 0;
      stateList.push(cs);

      // $('#bipartite-err').html("Bipartite graph is only defined for undirected graph. Please make the graph undirected.");
      // return false;
    }

    for (key in iVL) {
      p[key] = -1;
      iVL[key]["state"] = VERTEX_DEFAULT;
      iVL[key]["extratext"] = "";
    }

    for (var s = 0; s < amountVertex; ++s)
      if (p[s] == -1) {
        p[s] = -2;
        vertexTraversed[s] = true;
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
        cs["status"] = 'Vertex ' + s + ' is unvisited.';
        cs["lineNo"] = 1;
        if (vertexTraversed[s] != null) cs["vl"][s]["state"] = VERTEX_HIGHLIGHTED;
        else                            cs["vl"][s]["state"] = VERTEX_BLUE_FILL;
        stateList.push(cs);

        var q = [];
        q.push(s);
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
        cs["status"] = "Queue = [" + q + "].";
        cs["lineNo"] = 2;
        stateList.push(cs);

        while (q.length > 0) {
          var u = q.shift();

          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
          cs["status"] = "Extract " + u + " from queue.";
          cs["lineNo"] = 3;
          if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
          else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
          stateList.push(cs);

          var neighbors = [];
          for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
          neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

          while (neighbors.length > 0) {
            var j = neighbors.shift();
            var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
            if (edgeHighlighted[j] == null) {
              if (u == vertexA) {
                edgeHighlighted[j] = true;
                cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
                cs["status"] = "Queue = [" + q + "].<br>Try edge " + vertexA + " &rarr; " + vertexB + ".";
                cs["lineNo"] = 4;
                if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
                else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
                cs["el"][j]["animateHighlighted"] = true;
                stateList.push(cs);

                if (p[vertexB] == -1) {
                  p[vertexB] = vertexA;
                  q.push(vertexB);
                  if (vertexTraversed[u] != null) vertexTraversing[vertexB] = true;
                  else                            vertexTraversed[vertexB] = true;

                  cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
                  cs["status"] = "Queue = [" + q + "].<br>Vertex " + vertexB + " is free, assign another color and push it to queue.";
                  cs["lineNo"] = 6;
                  if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
                  else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
                  stateList.push(cs);
                }
                else {
                  var cu = 0, cv = 0;
                  if (vertexTraversing[u] != null) cu = 1;
                  if (vertexTraversing[vertexB] != null) cv = 1;
                  if (cu == cv) {
                    flag = false;
                    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
                    cs["status"] = "Vertex " + u + " and vertex " + vertexB + " have the same color.<br>This is NOT a bipartite graph!";
                    cs["lineNo"] = 5;
                    if (vertexTraversed[u] != null) cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
                    else                            cs["vl"][u]["state"] = VERTEX_BLUE_FILL;
                    if (vertexTraversed[vertexB] != null) cs["vl"][vertexB]["state"] = VERTEX_HIGHLIGHTED;
                    else                                  cs["vl"][vertexB]["state"] = VERTEX_BLUE_FILL;
                    stateList.push(cs);
                    break;
                  }
                }
                if (flag == false) break;
              }
              if (flag == false) break;
            }
            else {
              cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
              cs["status"] = "Try edge " + vertexA + " &rarr; " + vertexB + ".<br>Vertex " + vertexA + " and vertex " + vertexB + " (already visited) have different color, continue.";
              cs["lineNo"] = 5;
              stateList.push(cs);
            }
            if (flag == false) break;
          }
          if (flag == false) break;
        }
        if (flag == false) break;
      }

    if (flag) {
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing);
      cs["status"] = "This is a bipartite graph!";
      cs["lineNo"] = 0;
      stateList.push(cs);
    }

    populatePseudocode(5);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.bridge = function(callback) {
    var vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, bridge = {}, articulationPoint = {};
    var stateList = [];
    var cs;

    // check error
    if (amountVertex == 0) { // no graph
      $('#bridge-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (DIRECTED_GR) {
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
      cs["status"] = "The input graph is not set as 'undirected' graph yet.<br>This algorithm only works with undirected graphs.";
      cs["lineNo"] = 0;
      stateList.push(cs);

      this.directedChange(); // force change

      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
      cs["status"] = "We add bidirectional edges as necessary and hide the arrows.<br>This action is irreversible (you may have to redraw your graph again).";
      cs["lineNo"] = 0;
      stateList.push(cs);
      //$('#bridge-err').html("This algorithm can only work for undirected graph.");
      //return false;
    }

    // main code
    var p = {}, stack = {}, stackNum = -1, Count = -1, low = {}, num = {}, lab = {}, labNum = 0;
    var ROOT, chilNum = {};
    for (var i = 0; i < amountVertex; ++i) {
      p[i] = lab[i] = -1, chilNum[i] = 0;
      iVL[i]["extratext"] = "N/A";
    }

    function highlightArticulationPointsAndBridges() {
      for (var key in bridge) {
        cs["el"][key]["state"] = EDGE_GREEN;
        for (var z = 0; z < amountEdge; ++z)
          if (iEL[z]["u"] == iEL[key]["v"] && iEL[z]["v"] == iEL[key]["u"])
            cs["el"][z]["state"] = EDGE_GREEN;
      }
      for (var key in articulationPoint) cs["vl"][key]["state"] = VERTEX_GREEN_OUTLINE;
    }

    for (var i = 0; i < amountVertex; ++i)
      if (p[i] == -1) {
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
        cs["status"] = "Vertex " + i + " has not been visited.<br>DFSCount = " + Count + ".";
        cs["lineNo"] = 1;
        highlightArticulationPointsAndBridges();
        stateList.push(cs);
        --p[i];
        ROOT = i;
        Tdfs(i);
      }

    function Tdfs(u) {
      stack[++stackNum] = u;
      num[u] = low[u] = ++Count;
      iVL[u]["extratext"] = "" + num[u] + "," + low[u];
      vertexTraversing[u] = true;
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
      cs["status"] = "DFS(" + u + ").<br>DFSCount = " + Count + ".";
      cs["lineNo"] = 2;
      highlightArticulationPointsAndBridges();
      stateList.push(cs);
      delete vertexHighlighted[u];

      var neighbors = [];
      for (var j = 0; j < amountEdge; j++) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
        if (lab[vertexB] == -1 && u == vertexA) {
          edgeHighlighted[j] = true;
          for (var z = 0; z < amountEdge; z ++)
            if (iEL[z]["u"] == vertexB && iEL[z]["v"] == vertexA)
              edgeHighlighted[z] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
          cs["status"] = "Try edge " + vertexA + " -> " + vertexB + "<br>DFSCount = " + Count + ".";
          cs["lineNo"] = 3;
          cs["el"][j]["animateHighlighted"] = true;
          highlightArticulationPointsAndBridges();
          stateList.push(cs);

          if (p[vertexB] == -1) {
            vertexTraversing[vertexB] = true;
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
            cs["status"] = "" + vertexB + " has not been visited<br>DFSCount = " + Count + ".";
            cs["lineNo"] = 4;
            highlightArticulationPointsAndBridges();
            stateList.push(cs);

            p[vertexB] = u;
            Tdfs(vertexB);
            chilNum[u]++;
            var thisStatus = "low[" + u + "] is unchanged.";
            if (low[u] > low[vertexB]) {
              low[u] = low[vertexB];
              thisStatus = "update low[" + u + "] from low[" + vertexB + "].<br>There is <b>another</b> path to go from vertex " + u + " to vertex with num " + low[u] + ".";
            }
            iVL[u]["extratext"] = "" + num[u] + "," + low[u];

            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
            cs["status"] = thisStatus;
            cs["lineNo"] = 5;
            highlightArticulationPointsAndBridges();
            stateList.push(cs);

            var thisStatus = "";
            if (low[vertexB] >= num[u] && u != ROOT) {
              thisStatus = thisStatus + "low[" + vertexB + "] >= num[" + u + "] and " + u + " is not the root, vertex " + u + " is a cut vertex.<br>";
              articulationPoint[u] = true;
            }
            else if (low[vertexB] >= num[u] && u == ROOT)
              thisStatus = thisStatus + "low[" + vertexB + "] >= num[" + u + "] but " + u + " is the root, so it is not a cut vertex.<br>";
            else
              thisStatus = thisStatus + "low[" + vertexB + "] < num[" + u + "], so " + u + " is not a cut vertex.<br>";

            if (low[vertexB] > num[u]) {
              thisStatus = thisStatus + "low[" + vertexB + "] > num[" + u + "], so edge (" + u + ", " + vertexB + ") is a bridge.";
              bridge[j] = true;
            }
            else
              thisStatus = thisStatus + "low[" + vertexB + "] <= num[" + u + "], so edge (" + u + ", " + vertexB + ") is not a bridge.";

            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
            cs["status"] = thisStatus;
            cs["lineNo"] = 6;
            highlightArticulationPointsAndBridges();
            stateList.push(cs);
          }
          else if (vertexB != p[u]) {
            var thisStatus = "low[" + u + "] is unchanged.";
            if (low[u] > num[vertexB]) {
              low[u] = num[vertexB];
              thisStatus = "update low[" + u + "] from num[" + vertexB + "].<br>There is <b>another</b> path to go from vertex " + u + " to vertex with num " + low[u] + ".";
            }
            iVL[u]["extratext"] = "" + num[u] + "," + low[u];
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
            cs["status"] = "" + vertexB + " is visited, " + thisStatus; // update low[" + u + "] from num[" + vertexB + "]<br>DFSCount = " + Count + ".";
            cs["lineNo"] = 7;
            highlightArticulationPointsAndBridges();
            stateList.push(cs);
          }
          else {
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
            cs["status"] = "" + vertexB + " is the parent of " + u + ", ignore!<br>DFSCount = " + Count + ".";
            cs["lineNo"] = 7;
            highlightArticulationPointsAndBridges();
            stateList.push(cs);
          }
        }
      }

      delete vertexTraversing[u];
      vertexHighlighted[u] = true;
      vertexTraversed[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
      cs["status"] = "Finish DFS(" + u + "), backtrack.<br>DFSCount = " + Count + ".";
      if (u == ROOT && chilNum[u] >= 2) {
        cs["status"] = "Finish DFS(" + u + "), " + u + " is the root and u has more than 1 childs<br>Hence " + u + " is an articulation point.";
        articulationPoint[u] = true;
      }
      cs["lineNo"] = 0;
      highlightArticulationPointsAndBridges();
      cs["vl"][u]["state"] = VERTEX_HIGHLIGHTED;
      stateList.push(cs);
      delete vertexHighlighted[u];
    }

    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, {});
    cs["status"] = "Finished.<br>Green vertices/edges are articulation points/bridges, respectively.";
    cs["lineNo"] = 0;
    highlightArticulationPointsAndBridges();
    stateList.push(cs);

    populatePseudocode(6);
    gw.startAnimation(stateList, callback);
    for (var key in iVL) iVL[key]["extratext"] = "";
    return true;
  }

  this.kosaraju = function(callback) {
    var vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, hiddenEdge = {};
    var stateList = [];
    var cs;

    // check error
    if (amountVertex == 0) { // no graph
      $('#scc-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (!DIRECTED_GR) {
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = "The input graph is not set as 'directed' graph yet.<br>This algorithm only works with directed graphs.";
      cs["lineNo"] = 0;
      stateList.push(cs);

      this.directedChange(); // force change

      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = "We turn on the directed graph mode.<br>This action is irreversible.";
      cs["lineNo"] = 0;
      stateList.push(cs);

      // $('#scc-err').html("Please make the graph directed");
      // return false;
    }

    // main code
    var p = {}, stack = {}, stackNum = -1, Count = 0, low = {}, num = {}, lab = {}, labNum = 0;
    for (var i = 0; i < amountVertex; ++i) {
      p[i] = lab[i] = -1;
      iVL[i]["extratext"] = "";
    }
    for (var i = 0; i < amountVertex; ++i)
      if (p[i] == -1) {
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
        cs["status"] = "Vertex " + i + " has not been visited.";
        cs["lineNo"] = 1;
        stateList.push(cs);
        p[i]--;
        Tdfs(i);
      }

    vertexHighlighted = {}, edgeHighlighted = {};
    vertexTraversed = {}, vertexTraversing = {};
    for (var j = 0; j < amountEdge; ++j) { // reverse edge directions
      var vertexA = iEL[j]["u"];
      var vertexB = iEL[j]["v"];
      iEL[j]["u"] = vertexB;
      iEL[j]["v"] = vertexA;
    }
    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
    cs["status"] = "Then, we transpose the directed graph.";
    cs["lineNo"] = 4;
    stateList.push(cs);

    while (stackNum >= 0) {
      if (lab[stack[stackNum]] == -1) {
        ++labNum;
        DFS2(stack[stackNum]);
        for (var j = 0; j < amountEdge; ++j) {
          var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
          if (lab[vertexA] != lab[vertexB]) hiddenEdge[j] = true;
        }

        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
        cs["status"] = getStack() + ".<br>Finish DFS(" + stack[stackNum] + ") and we get 1 Strongly Connected Component.";
        cs["lineNo"] = 7;
        stateList.push(cs);
      }
      else {
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
        cs["status"] = getStack() + ".<br>" + stack[stackNum] + " is visited, ignore.";
        cs["lineNo"] = 5;
        stateList.push(cs);
      }
      stackNum--;
    }

    function getStack() {
      var status = "List = [";
      for (var i = stackNum; i > 0; i--) status = status + stack[i] + ",";
      if (stackNum >= 0) status += stack[0] + "]";
      else               status += "]";
      return status;
    }

    function Tdfs(u) {
      vertexTraversing[u] = true;
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = getStack() + ".<br>DFS(" + u + ").";
      cs["lineNo"] = 1;
      stateList.push(cs);
      delete vertexHighlighted[u];

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
        if (lab[vertexB] == -1 && u == vertexA) {
          edgeHighlighted[j] = true;
          for (var key in iEL) if (iEL[key]["v"] == vertexA && iEL[key]["u"] == vertexB) edgeHighlighted[key] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
          cs["status"] = getStack() + ".<br>Try edge " + vertexA + " &rarr; " + vertexB + ".";
          cs["lineNo"] = 2;
          cs["el"][j]["animateHighlighted"] = true;
          stateList.push(cs);

          if (p[vertexB] == -1) {
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
            cs["status"] = getStack() + ".<br>Vertex " + vertexB + " has not been visited.";
            cs["lineNo"] = 2;
            stateList.push(cs);

            p[vertexB] = u;
            Tdfs(vertexB);
          }
        }
      }

      stack[++stackNum] = u;
      delete vertexTraversing[u];
      vertexTraversed[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = getStack() + ".<br>DFS(" + u + ") is completed, add " + u + " to the front of the list.";
      cs["lineNo"] = 3;
      stateList.push(cs);
    }

    function DFS2(u) {
      lab[u] = labNum;
      vertexTraversing[u] = true;
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = getStack() + "<br>DFS(" + u + ").";
      cs["lineNo"] = 5;
      stateList.push(cs);
      delete vertexHighlighted[u];

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
        if (hiddenEdge[j] == null) {
          edgeHighlighted[j] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
          cs["status"] = getStack() + ".<br>Try edge " + vertexA + " &rarr; " + vertexB + ".";
          cs["lineNo"] = 6;
          cs["el"][j]["animateHighlighted"] = true;
          stateList.push(cs);

          if (lab[vertexB] == -1) {
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
            cs["status"] = getStack() + "<br>Vertex " + vertexB + " has not been visited.";
            cs["lineNo"] = 6;
            stateList.push(cs);

            DFS2(vertexB);
          }
          else {
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
            cs["status"] = getStack() + "<br>" + vertexB + " is visited";
            cs["lineNo"] = 6;
            stateList.push(cs);
          }
        }
      }

      delete vertexTraversing[u];
      vertexTraversed[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = getStack() + "<br>DFS from " + u + " is completed, back to the parent";
      cs["lineNo"] = 5;
      stateList.push(cs);
    }

    for (var i = 0; i < amountEdge; ++i) {
      var vertexA = iEL[i]["u"];
      var vertexB = iEL[i]["v"];
      iEL[i]["u"] = vertexB;
      iEL[i]["v"] = vertexA;
    }
    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
    cs["status"] = "We transpose the directed graph again.<br>In total, we have " + labNum + " Strongly Connected Component(s) as seen above.";
    cs["lineNo"] = 0;
    stateList.push(cs);

    populatePseudocode(7);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.tarjan = function(callback) {
    var vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, hiddenEdge = {};
    var stateList = [];
    var cs;

    //check error
    if (amountVertex == 0) { // no graph
      $('#scc-err').html('没有图表运行此项。请首先选择图表。');
      return false;
    }

    if (!DIRECTED_GR) {
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = "The input graph is not set as 'directed' graph yet.<br>This algorithm only works with directed graphs.";
      cs["lineNo"] = 0;
      stateList.push(cs);

      this.directedChange(); // force change

      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = "We turn on the directed graph mode.<br>This action is irreversible.";
      cs["lineNo"] = 0;
      stateList.push(cs);

      // $('#scc-err').html("Please make the graph directed");
      // return false;
    }

    // main code
    var p = {}, stack = {}, stackNum = -1, Count = -1, low = {}, num = {}, lab = {}, labNum = 0;
    for (var i = 0; i < amountVertex; ++i) {
      p[i] = lab[i] = -1
      iVL[i]["extratext"] = "N/A";
    }
    for (var i = 0; i < amountVertex; ++i)
      if (p[i] == -1) {
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
        cs["status"] = "Vertex " + i + " has not been visited.";
        cs["lineNo"] = 1;
        stateList.push(cs);
        p[i]--;
        Tdfs(i);
      }

    function getStack() {
      var status = "Stack = [";
      for (var i = 0; i < stackNum; ++i) status = status + stack[i] + ",";
      if (stackNum >= 0) status += stack[stackNum] + "]";
      else               status += "]";
      return status;
    }

    function Tdfs(u) {
      stack[++stackNum] = u;
      num[u] = low[u] = ++Count;
      iVL[u]["extratext"] = "" + num[u] + "," + low[u];
      vertexTraversing[u] = true;
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = getStack() + ".<br>DFS(" + u + ").";
      cs["lineNo"] = 2;
      stateList.push(cs);
      delete vertexHighlighted[u];

      var neighbors = [];
      for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
      neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

      while (neighbors.length > 0) {
        var j = neighbors.shift();
        var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
        if (lab[vertexB] == -1 && u == vertexA) {
          edgeHighlighted[j] = true;
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
          cs["status"] = getStack() + "<br>Try edge " + vertexA + " &rarr; " + vertexB + ".";
          cs["lineNo"] = 3;
          cs["el"][j]["animateHighlighted"] = true;
          stateList.push(cs);

          if (p[vertexB] == -1) {
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
            cs["status"] = getStack() + "<br>Vertex " + vertexB + " has not been visited.";
            cs["lineNo"] = 4;
            stateList.push(cs);

            p[vertexB] = u;
            Tdfs(vertexB);
            if (low[u] > low[vertexB]) low[u] = low[vertexB];
          }
          else {
            if (low[u] > num[vertexB]) low[u] = num[vertexB];
          }
          iVL[u]["extratext"] = "" + num[u] + "," + low[u];
          cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
          cs["status"] = getStack() + "<br>Update low[" + u + "]."; // ambiguous for now " = min(num[" + vertexB + "], low[" + vertexB + "]).";
          cs["lineNo"] = 5;
          stateList.push(cs);
        }
      }

      delete vertexTraversing[u];
      vertexTraversed[u] = true;
      vertexHighlighted[u] = true;
      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = getStack() + "<br>DFS(" + u + ") is completed, check if vertex " + u + " is the root of this SCC.";
      cs["lineNo"] = 6;
      stateList.push(cs);
      if (low[u] == num[u]) {
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
        cs["status"] = getStack() + "<br>low[" + u + "] == num[" + u + "], that means this vertex " + u + " is the root of this SCC.";
        cs["lineNo"] = 6;
        stateList.push(cs);
        var oldPos = stackNum;
        ++labNum;
        while (stack[stackNum] != u)
          lab[stack[stackNum--]] = labNum;
        lab[stack[stackNum--]] = labNum;

        for (var i = stackNum+1; i <= oldPos; ++i)
          vertexHighlighted[stack[i]] = true;
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
        cs["status"] = getStack() + "<br>We pop the stack until we get vertex " + u + ".";
        cs["lineNo"] = 7;
        stateList.push(cs);
        for (var i = stackNum+1; i <= oldPos; ++i)
          delete vertexHighlighted[stack[i]];

        for (var j = 0; j < amountEdge; ++j) {
          var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
          if (lab[vertexA] != lab[vertexB]) hiddenEdge[j] = true;
        }
        cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
        cs["status"] = getStack() + "<br>We get 1 Strongly Connected Component.";
        cs["lineNo"] = 7;
        stateList.push(cs);
      }
      delete vertexHighlighted[u];
    }

    cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
    cs["status"] = "In total, we have " + labNum + " Strongly Connected Component(s) as seen above.";
    cs["lineNo"] = 1;
    stateList.push(cs);
    for (var key in iVL) iVL[key]["extratext"] = "";

    populatePseudocode(8);
    gw.startAnimation(stateList, callback);
    return true;
  }

  this.twosat = function(numOfRows, numOfColumns) {
    var vertexHighlighted = {}, edgeHighlighted = {};
    var stateList = [];
    var cs;
    var currentX = 0, currentY = -170, centerX = 200, centerY = 200;

    DIRECTED_GR = true;
    numOfColumns *= 2;
    var blocked = new Array(numOfRows+1);
    for (var i = 0; i <= numOfRows; ++i) {
      blocked[i] = new Array(numOfColumns+1);
      for (var j = 0; j <= numOfColumns; ++j)
        blocked[i][j] = false;
    }

    if (numOfRows < 1 || numOfRows > 5) {
      $('#twosat-err').html("The number of clauses must be [1..5].");
      return false;
    }

    if (numOfColumns < 1 || numOfColumns > 10) {
      $('#twosat-err').html("The number of variables must be [1..5].");
      return false;
    }

    $('#twosat-err').html("");

    this.checkInputt = function(XX) {
      var cc = 0;
      for (var j = 1; j <= numOfColumns; ++j)
        if (blocked[XX][j])
          ++cc;
      return cc;
    }

    this.checkInput = function() { // each clause can only have two variables
      for (var i = 1; i <= numOfRows; ++i) {
        var cc = 0;
        for (var j = 1; j <= numOfColumns; ++j) if (blocked[i][j]) ++cc;
        if (cc != 2) return false;
      }
      return true;
    }

    this.changeState = function(rowIndex, columnIndex) {
      var temp = '#cell' + rowIndex + columnIndex;
      if (blocked[rowIndex][columnIndex]) {
        $(temp).attr("bgcolor", "white");
        blocked[rowIndex][columnIndex] = false;
      }
      else {
        $(temp).attr("bgcolor", "black");
        blocked[rowIndex][columnIndex] = true;
      }
      if (this.checkInputt(rowIndex) > 2) {
        $('#twosat-board-err').html("Row " + rowIndex + " has more than 2 black cells.")
          .delay(1000)
          .queue(function(n) {
            $(this).html("");
          });
      }
    }

    this.createGraph = function() {
      iVL = {};
      iEL = {};
      amountEdge = 0;
      amountVertex = numOfColumns;

      getvar = function(i) { return i%2 == 0 ? "-x" + (i/2+1) : "x" + (i+1)/2; }
      getOpp = function(i) { return i%2 == 0 ? i+1 : i-1; }

      for (var i = 1; i <= numOfColumns; ++i) {
        var angle = Math.acos(-1)*2/amountVertex;
        var x1 = currentX * Math.cos(angle) - currentY*Math.sin(angle);
        var y1 = currentX * Math.sin(angle) + currentY*Math.cos(angle);
        currentX = x1, currentY = y1;
        iVL[i-1] = {
          "x": currentX+centerX,
          "y": currentY+centerY,
          "extratext": i%2 == 0 ? "x" + i/2 : "-x" + (i+1)/2
        }
      }

      cs = createState(iVL, iEL);
      cs["status"] = "Create 2 vertices for each variable.<br>One for xi, the other for -xi.";
      cs["lineNo"] = 1;
      stateList.push(cs);

      for (var i = 1; i <= numOfRows; ++i) { // clauses
        var a, b;
        for (var j = 0; j < numOfColumns; ++j) if (blocked[i][j+1]) a = j; // a
        for (var j = numOfColumns-1; j >= 0; --j) if (blocked[i][j+1]) b = j; // b
        // clause = (a v b)
        var pos1 = -1, pos2 = -1;
        var flag = true;
        for (var j = 0; j < amountEdge; --j) {
console.log(iEL[j]); // not sure why doing this printout solves the bug
          if ((iEL[j]["u"] == getOpp(a)) && (iEL[j]["v"] == b))
            flag = false, pos1 = j;
        }
        if (flag && (getOpp(a) !== b)) {
          iEL[amountEdge++] = {
            "u": getOpp(a),
            "v": b,
            "w": 1
          }
          pos1 = amountEdge-1;
        }

        flag = true;
        for (var j = 0; j < amountEdge; ++j) {
console.log(iEL[j]); // not sure why doing this printout solves the bug
          if ((iEL[j]["u"] == getOpp(b)) && (iEL[j]["v"] == a))
            flag = false, pos2 = j;
        }
        if (flag && (getOpp(b) !== a)) {
          iEL[amountEdge++] = {
            "u": getOpp(b),
            "v": a,
            "w": 1
          }
          pos2 = amountEdge-1;
        }

        cs = createState(iVL, iEL);
        cs["status"] = "Clause = (" + getvar(a) + " or " + getvar(b) + ").<br>" +
                       "Create edge " + getvar(getOpp(a)) + " &rarr; " + getvar(b) + " (" + getOpp(a) + " &rarr; " + b + ") and " + getvar(getOpp(b)) + " &rarr; " + getvar(a) + " (" + getOpp(b) + " &rarr; " + a + ").";
        cs["lineNo"] = [2, 3];
        if (pos1 != -1) cs["el"][pos1]["animateHighlighted"] = true;
        if (pos2 != -1) cs["el"][pos2]["animateHighlighted"] = true;
        stateList.push(cs);
      }
      return true;
    }

    this.runAlgo = function() {
      var vertexHighlighted = {}, edgeHighlighted = {}, vertexTraversed = {}, vertexTraversing = {}, hiddenEdge = {};
      var cs;

      cs = createState(iVL, iEL);
      cs["status"] = "We run an SCC finding algorithm (either Kosaraju's or Tarjan's) to see if there is a conflict (a variable and its negation in the same SCC).";
      cs["lineNo"] = 4;
      stateList.push(cs);

      // main code
      var p = {}, stack = {}, stackNum = -1, Count = 0, low = {}, num = {}, lab = {}, labNum = 0;
      for (var i = 0; i < amountVertex; ++i)
        p[i] = lab[i] = -1;
      for (var i = 0; i < amountVertex; ++i)
        if (p[i] == -1) {
          p[i]--;
          Tdfs(i);
        }

      for (var j = 0; j < amountEdge; ++j) {
        var vertexA = iEL[j]["u"];
        var vertexB = iEL[j]["v"];
        iEL[j]["u"] = vertexB;
        iEL[j]["v"] = vertexA;
      }

      while (stackNum >= 0) {
        if (lab[stack[stackNum]] == -1) {
          ++labNum;
          DFS2(stack[stackNum]);
          var flag = -1;
          for (var z = 0; z < amountVertex; z += 2)
            if ((lab[z] == lab[z+1]) && (lab[z] == labNum))
              flag = z;

          if (flag != -1) {
            for (var key in iVL)
              if (lab[key] == lab[flag])
                vertexTraversed[key] = true;
            vertexHighlighted[flag] = vertexHighlighted[flag+1] = true;
            cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
            cs["status"] = "" + getvar(flag) + " (vertex " + flag + ") and " + getvar(flag+1) + " (vertex " + (flag+1) + ") are in the same SCC.<br>The 2-SAT instance is not satisfiable!";
            cs["lineNo"] = 7;
            stateList.push(cs);
            return true;
          }
        }
        stackNum--;
      }

      function Tdfs(u) {
        var neighbors = [];
        for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
        neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

        while (neighbors.length > 0) {
          var j = neighbors.shift();
          var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
          if (lab[vertexB] == -1 && u == vertexA)
            if (p[vertexB] == -1) {
              p[vertexB] = u;
              Tdfs(vertexB);
            }
        }

        stack[++stackNum] = u;
      }

      function DFS2(u) {
        lab[u] = labNum;

        var neighbors = [];
        for (var j = 0; j < amountEdge; ++j) if (iEL[j]["u"] == u) neighbors.push(j);
        neighbors.sort(function(a, b) { return iEL[a]["v"]-iEL[b]["v"] });

        while (neighbors.length > 0) {
          var j = neighbors.shift();
          var vertexA = iEL[j]["u"], vertexB = iEL[j]["v"];
          if (hiddenEdge[j] == null)
            if (lab[vertexB] == -1)
              DFS2(vertexB);
        }
      }

      for (var i = 0; i < amountEdge; ++i) {
        var vertexA = iEL[i]["u"];
        var vertexB = iEL[i]["v"];
        iEL[i]["u"] = vertexB;
        iEL[i]["v"] = vertexA;
      }

      cs = createState(iVL, iEL, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, {}, {}, {}, {}, hiddenEdge);
      cs["status"] = "SCC algorithm is completed without any conflict.<br>So the 2-SAT instance is satisfiable!";
      cs["lineNo"] = 5;
      stateList.push(cs);
    }

    this.CloseBox = function() {
      $('.overlays').hide("slow");
      $('#dark-overlay').hide("slow");
      $('#rookattack-board').hide("slow");
    }

    this.inputExample1 = function() {
      numOfRows = 2;
      numOfColumns = 4;
      blocked = new Array(numOfRows+1);
      for (var i = 0; i <= numOfRows; ++i) {
        blocked[i] = new Array(numOfColumns+1);
        for (var j = 0; j <= numOfColumns; ++j)
          blocked[i][j] = false;
      }
      var toWrite = '<html>\n';
      toWrite += '<br>Click on any cell to toggle between black/white cell</br>\n';
      toWrite += '<br>Each black cell presents a clause. Each row should have exactly 2 black cells.</br>\n';
      toWrite += '<table border="1" id="board">'
      for (var j = 0; j <= numOfColumns; ++j)
        toWrite += '<col width="50">';

      toWrite += '<tr><td height="50" bgcolor="white" id="cell00"></td>';
      for (var j = 1; j <= numOfColumns; j++)
        if (j % 2 == 1)
          toWrite += '<td height="50" bgcolor="white" id="cell' + 0 + j + '">-x' + (j + 1) / 2 + '</td>';
        else
          toWrite += '<td height="50" bgcolor="white" id="cell' + 0 + j + '">x' + j / 2 + '</td>';
      toWrite += "</tr>"

      for (var i = 1; i <= numOfRows; ++i) {
        toWrite += '<tr>';
        toWrite += '<td height="50" bgcolor="white" id="cell00">' + i + '</td>';
        for (var j = 1; j <= numOfColumns; ++j)
          toWrite += '<td height="50" bgcolor="white" id="cell' + i + j + '" onclick=gtw.changeState(' + i + ',' + j + ')></td>';
        toWrite += '</tr>';
      }

      toWrite += '</table>\n';
      toWrite += '<button onclick=gtw.inputRandomized()>Randomized</button>';
      toWrite += '<button onclick=gtw.inputFinished()>Done</button>';
      toWrite += '<button onclick=gtw.inputExample1()>Example 1</button>';
      toWrite += '<button onclick=gtw.inputExample2()>Example 2</button>';3
      toWrite += '<button onclick=gtw.CloseBox()>Close</button>';
      toWrite += '<div id="twosat-board-err" class="err"></div>';
      toWrite += '</html>\n';
      $('#twosat-board').html(toWrite);

      this.changeState(1, 1);
      this.changeState(1, 3);
      this.changeState(2, 2);
      this.changeState(2, 4);
    }

    this.inputExample2 = function() {
      numOfRows = 4;
      numOfColumns = 6;
      blocked = new Array(numOfRows+1);
      for (var i = 0; i <= numOfRows; i++) {
        blocked[i] = new Array(numOfColumns+1);
        for (var j = 0; j <= numOfColumns; j++)
          blocked[i][j] = false;
      }
      var toWrite = '<html>\n';
      toWrite += '<br>Click on any cell to toggle between black/white cell</br>\n';
      toWrite += '<br>Each black cell presents a clause. Each row should have exactly 2 black cells.</br>\n';
      toWrite += '<table border="1" id="board">'
      for (var j = 0; j <= numOfColumns; ++j)
        toWrite += '<col width="50">';

      toWrite += '<tr><td height="50" bgcolor="white" id="cell00"></td>';
      for (var j = 1; j <= numOfColumns; j++)
        if (j % 2 == 1)
          toWrite += '<td height="50" bgcolor="white" id="cell' + 0 + j + '">-x' + (j + 1) / 2 + '</td>';
        else
          toWrite += '<td height="50" bgcolor="white" id="cell' + 0 + j + '">x' + j / 2 + '</td>';
      toWrite += "</tr>"

      for (var i = 1; i <= numOfRows; ++i) {
        toWrite += '<tr>';
        toWrite += '<td height="50" bgcolor="white" id="cell00">' + i + '</td>';
        for (var j = 1; j <= numOfColumns; ++j)
          toWrite += '<td height="50" bgcolor="white" id="cell' + i + j + '" onclick=gtw.changeState(' + i + ',' + j + ')></td>';
        toWrite += '</tr>';
      }

      toWrite += '</table>\n';
      toWrite += '<button onclick=gtw.inputRandomized()>Randomized</button>';
      toWrite += '<button onclick=gtw.inputFinished()>Done</button>';
      toWrite += '<button onclick=gtw.inputExample1()>Example 1</button>';
      toWrite += '<button onclick=gtw.inputExample2()>Example 2</button>';
      toWrite += '<button onclick=gtw.CloseBox()>Close</button>';
      toWrite += '<div id="twosat-board-err" class="err"></div>';
      toWrite += '</html>\n';
      $('#twosat-board').html(toWrite);

      this.changeState(1, 2);
      this.changeState(1, 4);
      this.changeState(2, 1);
      this.changeState(2, 4);
      this.changeState(3, 3);
      this.changeState(3, 6);
      this.changeState(4, 3);
      this.changeState(4, 5);
    }

    this.inputFinished = function() {
      if (!this.checkInput()) {
        $('#twosat-board-err').html("Each row should have exactly 2 black cells.")
          .delay(1000)
          .queue(function(n) {
            $(this).html("");
          });
        return false;
      }

      $('.overlays').hide("slow");
      $('#dark-overlay').hide("slow");
      $('#rookattack-board').hide("slow");
      this.createGraph();
      this.runAlgo();
      gw.startAnimation(stateList);
      $('#current-action').show();
      $('#current-action p').html("2-SAT Modeling");
      $('#progress-bar').slider("option", "max", gw.getTotalIteration()-1);
      triggerRightPanels();
      populatePseudocode(9);
      isPlaying = true;
      return true;
    }

    this.inputRandomized = function() {
      var randNumMin = 1;
      var randNumMax = numOfColumns;
      for (var i = 1; i <= numOfRows; i++) {
        for (var j = 1; j <= numOfColumns; j++)
          if (blocked[i][j])
            this.changeState(i, j);
        var a = (Math.floor(Math.random() * (randNumMax-randNumMin+1)) + randNumMin);
        var b = (Math.floor(Math.random() * (randNumMax-randNumMin+1)) + randNumMin);
        while (a == b)
          b = (Math.floor(Math.random() * (randNumMax-randNumMin+1)) + randNumMin);
        this.changeState(i, a);
        this.changeState(i, b);
      }
    }

    $('#dark-overlay').show("slow");
    var toWrite = '<html>\n';
    toWrite += '<br>Click on any cell to toggle between black/white cell</br>\n';
    toWrite += '<br>Each black cell presents a clause. Each row should have exactly 2 black cells.</br>\n';
    toWrite += '<table border="1" id="board">'
    for (var j = 0; j <= numOfColumns; ++j)
      toWrite += '<col width="50">';

    toWrite += '<tr><td height="50" bgcolor="white" id="cell00"></td>';
    for (var j = 1; j <= numOfColumns; j++)
      if (j % 2 == 1)
        toWrite += '<td height="50" bgcolor="white" id="cell' + 0 + j + '">-x' + (j+1)/2 + '</td>';
      else
        toWrite += '<td height="50" bgcolor="white" id="cell' + 0 + j + '">x' + j/2 + '</td>';
    toWrite += "</tr>"

    for (var i = 1; i <= numOfRows; ++i) {
      toWrite += '<tr>';
      toWrite += '<td height="50" bgcolor="white" id="cell00">' + i + '</td>';
      for (var j = 1; j <= numOfColumns; ++j)
        toWrite += '<td height="50" bgcolor="white" id="cell' + i + j + '" onclick=gtw.changeState(' + i + ',' + j + ')></td>';
      toWrite += '</tr>';
    }

    toWrite += '</table>\n';
    toWrite += '<button onclick=gtw.inputRandomized()>Randomized</button>';
    toWrite += '<button onclick=gtw.inputFinished()>Done</button>';
    toWrite += '<button onclick=gtw.inputExample1()>Example 1</button>';
    toWrite += '<button onclick=gtw.inputExample2()>Example 2</button>';
    toWrite += '<button onclick=gtw.CloseBox()>Close</button>';
    toWrite += '<div id="twosat-board-err" class="err"></div>';
    toWrite += '</html>\n';
    $('#twosat-board').html(toWrite);
    $('#twosat-board').show("slow");
  }

  this.examples = function(id) {
    iVL = getExampleGraph(id, VL);
    iEL = getExampleGraph(id, EL);
    amountVertex = 0;
    amountEdge = 0;
    for (var key in iVL) amountVertex++;
    for (var key in iEL) amountEdge++;

    DIRECTED_GR = true;
    OLD_POSITION = amountEdge;

    var newState = createState(iVL, iEL);
    gw.removeAll();
    gw.updateGraph(newState, 500);
    if (id == DFSBFSLARGE || id == DFSBFSLARGECYCLES) {
      setMediumScale();
    }
    return true;
  }

  this.loadGraph = function(vertexList, edgeList) {
    iVL = vertexList;
    iEL = edgeList;
    fixJSON();
    var newState = createState(iVL, iEL);
    gw.updateGraph(newState, 500);
  }

  function createState(iVLObject, iELObject, vertexHighlighted, edgeHighlighted, vertexTraversed, vertexTraversing, treeEdge, backEdge, crossEdge, forwardEdge, hiddenEdge) {
    if (vertexHighlighted == null) vertexHighlighted = {};
    if (edgeHighlighted == null) edgeHighlighted = {};
    if (vertexTraversed == null) vertexTraversed = {};
    if (vertexTraversing == null) vertexTraversing = {};
    if (treeEdge == null) treeEdge = {};
    if (backEdge == null) backEdge = {};
    if (crossEdge == null) crossEdge = {};
    if (forwardEdge == null) forwardEdge = {};
    if (hiddenEdge == null) hiddenEdge = {};

    var key, state = {
      "vl": {},
      "el": {}
    };

    for (key in iVLObject) {
      state["vl"][key] = {};
      state["vl"][key]["cx"] = iVLObject[key]["x"];
      state["vl"][key]["cy"] = iVLObject[key]["y"];
      state["vl"][key]["text"] = key;
      state["vl"][key]["extratext"] = iVLObject[key]["extratext"];
      if (iVLObject[key]["state"] == OBJ_HIDDEN)
        state["vl"][key]["state"] = OBJ_HIDDEN;
      else
        state["vl"][key]["state"] = VERTEX_DEFAULT;
    }

    for (key in iELObject) {
      state["el"][key] = {};
      state["el"][key]["vertexA"] = iELObject[key]["u"];
      state["el"][key]["vertexB"] = iELObject[key]["v"];
      if (DIRECTED_GR == false)
        state["el"][key]["type"] = EDGE_TYPE_UDE;
      else
        state["el"][key]["type"] = EDGE_TYPE_DE;
      state["el"][key]["weight"] = iELObject[key]["w"];
      if (iELObject[key]["state"] == OBJ_HIDDEN)
        state["el"][key]["state"] = OBJ_HIDDEN;
      else
        state["el"][key]["state"] = EDGE_DEFAULT;
      state["el"][key]["displayWeight"] = false;
      state["el"][key]["animateHighlighted"] = false;
    }

    for (key in vertexTraversed) state["vl"][key]["state"] = VERTEX_TRAVERSED;
    for (key in vertexTraversing) state["vl"][key]["state"] = VERTEX_BLUE_OUTLINE;
    for (key in treeEdge) state["el"][key]["state"] = EDGE_RED;
    for (key in backEdge) state["el"][key]["state"] = EDGE_BLUE;
    for (key in crossEdge) state["el"][key]["state"] = EDGE_GREEN; // apparently I haven't even use this yet
    for (key in forwardEdge) state["el"][key]["state"] = EDGE_GREY;

    for (key in vertexHighlighted) state["vl"][key]["state"] = VERTEX_BLUE_FILL; // HIGHLIGHTED;
    for (key in edgeHighlighted) {
      state["el"][key]["state"] = EDGE_HIGHLIGHTED;
      for (var keyR in iEL) if ((iEL[key]["u"] == iEL[keyR]["v"]) && (iEL[key]["v"] == iEL[keyR]["u"])) edgeHighlighted[keyR] = true;
    }

    for (key in hiddenEdge) state["el"][key]["state"] = EDGE_GREY;

    return state;
  }

  function populatePseudocode(act) {
    switch (act) {
      case 0: // DFS
        $('#code1').html('DFS(u)');
        $('#code2').html('for each neighbor v of u');
        $('#code3').html('&nbsp;&nbsp;if v is unvisited, tree edge, DFS(v)');
        $('#code4').html('&nbsp;&nbsp;else if v is explored, bidirectional/back edge');
        $('#code5').html('&nbsp;&nbsp;else if v is visited, forward/cross edge');
        $('#code6').html('// <b><a href="http://cpbook.net/#downloads" target="_blank">ch4_01_dfs.cpp/java, ch4, CP3</a></b>');
        $('#code7').html('');
        break
      case 1: // BFS
        $('#code1').html('BFS(u), Q = {u}');
        $('#code2').html('while !Q.empty // Q is a normal queue');
        $('#code3').html('&nbsp;&nbsp;for each neighbor v of u = Q.front, Q.pop');
        $('#code4').html('&nbsp;&nbsp;&nbsp;&nbsp;if v is unvisited, tree edge, Q.push(v)');
        $('#code5').html('&nbsp;&nbsp;&nbsp;&nbsp;else if v is visited, we ignore this edge'); // bidirectional/back edge
        $('#code6').html('// <b><a href="http://cpbook.net/#downloads" target="_blank">ch4_04_bfs.cpp/java, ch4, CP3</a></b>');
        $('#code7').html('');
        break;
      case 2: // Topological Sort using DFS
        $('#code1').html('for each unvisited vertex u');
        $('#code2').html('&nbsp;&nbsp;DFS(u)');
        $('#code3').html('&nbsp;&nbsp;&nbsp;&nbsp;for each neighbor v of u');
        $('#code4').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if v is unvisited, DFS(v)');
        $('#code5').html('&nbsp;&nbsp;&nbsp;&nbsp;else skip v;');
        $('#code6').html('&nbsp;&nbsp;&nbsp;&nbsp;finish DFS(u), add u to the back of list');
        $('#code7').html('reverse list // <b><a href="http://cpbook.net/#downloads" target="_blank">ch4_01_dfs.cpp/java, ch4, CP3</a></b>');
        break
      case 3: // Topological Sort using BFS
        $('#code1').html('add vertices with no incoming edge to queue Q');
        $('#code2').html('while !Q.empty // Q is a normal queue');
        $('#code3').html('&nbsp;&nbsp;u = Q.front, Q.pop, add u to the back of list');
        $('#code4').html('&nbsp;&nbsp;for each neighbor v of u');
        $('#code5').html('&nbsp;&nbsp;&nbsp;&nbsp;delete edge u &rarr; v');
        $('#code6').html('&nbsp;&nbsp;&nbsp;&nbsp;if v has no incoming edge, add v to queue');
        $('#code7').html('// done'); // not in CP3, only as exercise at the moment?
        break;
      case 4: // bipartite DFS
        $('#code1').html('for each unvisited vertex u');
        $('#code2').html('&nbsp;&nbsp;DFS(u)');
        $('#code3').html('&nbsp;&nbsp;&nbsp;&nbsp;for each neighbor v of u');
        $('#code4').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if v is unvisited, different color, DFS(v)');
        $('#code5').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if u and v have the same color');
        $('#code6').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not bipartite graph, exit.');
        $('#code7').html(''); // not in CP3, only as exercise at the moment? // <b><a href="http://cpbook.net/#downloads" target="_blank">ch4_01_dfs.cpp/java, ch4, CP3</a></b>');
        break
      case 5: // bipartite BFS
        $('#code1').html('for each unvisited vertex u');
        $('#code2').html('&nbsp;&nbsp;push u to the queue');
        $('#code3').html('&nbsp;&nbsp;while !Q.empty // Q is a normal queue');
        $('#code4').html('&nbsp;&nbsp;&nbsp;&nbsp;for each neighbor v of u = Q.front, Q.pop');
        $('#code5').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if u and v have the same color &rarr; exit');
        $('#code6').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign another color to v, push v to queue');
        $('#code7').html('// <b><a href="http://cpbook.net/#downloads" target="_blank">ch4_01_dfs.cpp/java, ch4, CP3</a></b>');
        break
      case 6: // articulation points and bridges
        $('#code1').html('try all vertex u, if u hasnt been visited, DFS(u)');
        $('#code2').html('DFS(u), initiate num[u] = low[u] = DFSCount');
        $('#code3').html('&nbsp;&nbsp;try all neighbor v of u');
        $('#code4').html('&nbsp;&nbsp;&nbsp;&nbsp;if v is free, DFS(v)');
        $('#code5').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low[u] = min(low[u], low[v])');
        $('#code6').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check the condition');
        $('#code7').html('&nbsp;&nbsp;&nbsp;&nbsp;else low[u] = min(low[u], num[v])');
        break;
      case 7: // Kosaraju's algorithm
        $('#code1').html('for each unvisited vertex u, DFS(u)');
        $('#code2').html('&nbsp;&nbsp;try all free neighbor v of u, DFS(v)');
        $('#code3').html('&nbsp;&nbsp;finish DFS(u), add u to the front of list');
        $('#code4').html('transpose the graph');
        $('#code5').html('DFS in order of the list, DFS(u)');
        $('#code6').html('&nbsp;&nbsp;try all free neighbor v of u, DFS(v)');
        $('#code7').html('each time we complete a DFS, we get an SCC');
        break;
      case 8: // Tarjan's algorithm
        $('#code1').html('for each unvisited vertex u');
        $('#code2').html('&nbsp;&nbsp;DFS(u), s.push(u), num[u] = low[u] = DFSCount');
        $('#code3').html('&nbsp;&nbsp;&nbsp;&nbsp;for each neighbor v of u');
        $('#code4').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if v is unvisited, DFS(v)');
        $('#code5').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low[u] = min(low[u], low[v])');
        $('#code6').html('&nbsp;&nbsp;&nbsp;&nbsp;if low[u] == num[u] // root of an SCC');
        $('#code7').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pop from stack s until we get u');
        break;
      case 9: // two-sat
        $('#code1').html('create graph, each variable creates 2 vertices');
        $('#code2').html('for clause (a or b)');
        $('#code3').html('&nbsp;&nbsp;create edge -a &rarr; b and -b &rarr; a');
        $('#code4').html('run scc algorithm');
        $('#code5').html('if no conflict, the 2-SAT instance is satisfiable');
        $('#code6').html('if a variable and its negation are in the same SCC');
        $('#code7').html('&nbsp;&nbsp;the 2-SAT instance is not satisfiable');
        break;
    }
  }
}



// Graph Traversal action
var actionsWidth = 180;
var statusCodetraceWidth = 410;

/*
// turned off these manual menu stuff on 26 Feb, if all working as expected, remove this
var isExamplesOpen = false, isBFSOpen = false, isDFSOpen = false, isTopoOpen = false, isBipartiteOpen = false, isBridgeOpen = false, isSCCOpen = false, is2SATOpen = false;

function openExamples() {
  if (!isExamplesOpen) {
    $('.examples').fadeIn('fast');
    isExamplesOpen = true;
  }
}

function closeExamples() {
  if (isExamplesOpen) {
    $('.examples').fadeOut('fast');
    isExamplesOpen = false;
  }
}

function openDFS() {
  if (!isDFSOpen) {
    $('.dfs').fadeIn('fast');
    isDFSOpen = true;
  }
}

function closeDFS() {
  if (isDFSOpen) {
    $('.dfs').fadeOut('fast');
    $('#dfs-err').html("");
    isDFSOpen = false;
  }
}

function openBFS() {
  if (!isBFSOpen) {
    $('.bfs').fadeIn('fast');
    isBFSOpen = true;
  }
}

function closeBFS() {
  if (isBFSOpen) {
    $('.bfs').fadeOut('fast');
    $('#bfs-err').html("");
    isBFSOpen = false;
  }
}

function openTopo() {
  if (!isTopoOpen) {
    $('.topo').fadeIn('fast');
    isTopoOpen = true;
  }
}

function closeTopo() {
  if (isTopoOpen) {
    $('.topo').fadeOut('fast');
    $('#topo-err').html("");
    isTopoOpen = false;
  }
}

function openBipartite() {
  if (!isBipartiteOpen) {
    $('.bipartite').fadeIn('fast');
    isBipartiteOpen = true;
  }
}

function closeBipartite() {
  if (isBipartiteOpen) {
    $('.bipartite').fadeOut('fast');
    $('#bipartite-err').html("");
    isBipartiteOpen = false;
  }
}

function openBridge() {
  if (!isBridgeOpen) {
    $('.bridge').fadeIn('fast');
    isBridgeOpen = true;
  }
}

function closeBridge() {
  if (isBridgeOpen) {
    $('.bridge').fadeOut('fast');
    $('#bridge-err').html("");
    isBridgeOpen = false;
  }
}

function openScc() {
  if (!isSCCOpen) {
    $('.scc').fadeIn('fast');
    isSCCOpen = true;
  }
}

function closeScc() {
  if (isSCCOpen) {
    $('.scc').fadeOut('fast');
    $('#scc-err').html("");
    isSCCOpen = false;
  }
}

function open2sat() {
  $('#twosat-v1').val(3);
  $('#twosat-v2').val(3);
  if (!is2SATOpen) {
    $('.twosat').fadeIn('fast');
    is2SATOpen = true;
  }
}

function close2sat() {
  if (is2SATOpen) {
    $('.twosat').fadeOut('fast');
    $('#twosat-err').html("");
    is2SATOpen = false;
  }
}

function hideEntireActionsPanel() {
  closeExamples();
  closeDFS();
  closeBFS();
  closeTopo();
  closeBipartite();
  closeBridge();
  closeScc();
  close2sat();
  hideActionsPanel();
}
*/


// local
write(false, true);
var gtw, gw, randomGraphID;

$(function() {
  $('#play').hide();
  gtw = new GraphTraversal(scale);
  gw = gtw.getGraphWidget();
  gw.setAnimationDuration(700 / speedVal); // patch on 17 Apr 23 by Steven to make playback speed works as intended upon page load, need to do this only after gw is defined...

  var options = [CP3_4_1, CP3_4_3, CP3_4_4, CP3_4_9, CP3_4_17, CP3_4_18, CP3_4_19, DFSBFSLARGE, DFSBFSLARGECYCLES];
  gtw.examples(options[Math.floor(Math.random()*7)]);
  randomGraphID = -1;
  var directed = getQueryVariable("directed"); // ask for this first
  var graphJSON = getQueryVariable("create");
  if (graphJSON.length > 0) {
    importjson(graphJSON);
    window.history.pushState("object or string", "Title", window.location.href.split('?')[0]);
  }
  if (directed.length > 0) {
    directed = parseInt(directed);
    if (directed === 0)
      directedChange();
  }
  userGraph = gtw.getGraph(); // save the current graph

/*
  $('#examples').click(function() {
    openExamples();
    closeDFS();
    closeBFS();
    closeTopo();
    closeBipartite();
    closeBridge();
    closeScc();
    close2sat();
  });

  $('#directedChange').click(function() {
    closeExamples();
    closeDFS();
    closeBFS();
    closeTopo();
    closeBipartite();
    closeBridge();
    closeScc();
    close2sat();
  });

  $('#dfs').click(function() {
    closeExamples();
    openDFS();
    closeBFS();
    closeTopo();
    closeBipartite();
    closeBridge();
    closeScc();
    close2sat();
  });

  $('#bfs').click(function() {
    closeExamples();
    closeDFS();
    openBFS();
    closeTopo();
    closeBipartite();
    closeBridge();
    closeScc();
    close2sat();
  });

  $('#topo').click(function() {
    closeExamples();
    closeDFS();
    closeBFS();
    openTopo();
    closeBipartite();
    closeBridge();
    closeScc();
    close2sat();
  });

  $('#bipartite').click(function() {
    closeExamples();
    closeDFS();
    closeBFS();
    closeTopo();
    openBipartite();
    closeBridge();
    closeScc();
    close2sat();
  });

  $('#bridge').click(function() {
    closeExamples();
    closeDFS();
    closeBFS();
    closeTopo();
    closeBipartite();
    openBridge();
    closeScc();
    close2sat();
  });

  $('#scc').click(function() {
    closeExamples();
    closeDFS();
    closeBFS();
    closeTopo();
    closeBipartite();
    closeBridge();
    openScc();
    close2sat();
  });

  $('#twosat').click(function() {
    closeExamples();
    closeDFS();
    closeBFS();
    closeTopo();
    closeBipartite();
    closeBridge();
    closeScc();
    open2sat();
  });
*/
});

function importjson(text) {
  if (isPlaying) stop();
  if (mode == "exploration") {
    gtw.importjson(text);
    //closeExamples();
    isPlaying = false;
  }
}

function setDefaultScale() {
    if (isPlaying) stop();
    isPlaying = false;
    if (scale) {
        scale = !scale;
        gw.redrawAllForMediumScale();
        gw.setMediumScale(false);

        userGraph = gtw.getGraph();
    } 
}

function setMediumScale() {
    if (isPlaying) stop();
    isPlaying = false;
    if (!scale) {
        scale = !scale;
        gw.redrawAllForMediumScale();
        gw.setMediumScale(true);

        userGraph = gtw.getGraph();
    }
}

function toggleVertexNumber() {
    if (isPlaying) stop();
    isPlaying = false;
    if (scale) {
        gw.toggleVertexNumber();
    }
}

function drawGraph() {
  if (isPlaying) stop();
  if (mode == "exploration") {
    const [newiVL, newiEL] = representationConvert(gtw.getiVL(), gtw.getiEL())
    currentGraphVisu = new GraphVisu(false, true, true, newiVL, newiEL, true)
    $('#dark-overlay').fadeIn(function() {
      $('#drawgraph').fadeIn();
    });
    gtw.startLoop();
    isPlaying = false;
  }
}

function drawDone() {
  if (!gtw.draw()) return false;
  gtw.stopLoop();
  $('#drawgraph').fadeOut();
  $('#dark-overlay').fadeOut();
}

function drawCancel() {
  gtw.stopLoop();
  $('#drawgraph').fadeOut();
  $('#dark-overlay').fadeOut();
}

// function createRandom() {
//   if (isPlaying) stop();
//   if (mode == "exploration") {
//     var n = Math.floor(Math.random()*6 + 5);
//     $.ajax({
//       url: PHP_DOMAIN + "/php/Graph.php?mode=" + MODE_GET_RANDOM_SUBMITTED_GRAPH + "&directed=" + 1 + "&connected=" + 1
//     }).done(function(data) {
//       data = JSON.parse(data);
//       var graph = extractQnGraph(data.graph);
//       if (data.graphID == randomGraphID) // to ensure we get different graph per click (make sure #graph > 1 in the database)
//         createRandom();
//       randomGraphID = data.graphID;
//       gtw.initRandom(graph);
//       $('#rate-sample-graph').show();
//     })
//     $('#progress-bar').slider("option", "max", 0);
//     closeExamples();
//     isPlaying = false;
//   }
// }

function example(id) {
  if (isPlaying) stop();
  setTimeout(function() {
    if (gtw.examples(id)) { // (mode == "exploration") && 
      $('#progress-bar').slider("option", "max", 0);
      //closeExamples();
      isPlaying = false;
    }
  }, 500);
}

function directedChange() {
  if (isPlaying) stop();
  setTimeout(function() {
    if ((mode == "exploration") && gtw.directedChange()) {
      $('#progress-bar').slider("option", "max", 0);
      isPlaying = false;
    }
  }, 500);
}

function dfs(callback) {
  if (isPlaying) stop();
  var input = parseInt($('#dfs-v').val());
  commonAction(gtw.dfs(input, callback), "DFS(" + input + ")");
  setTimeout(function() { $("#dfs-v").val(1 + Math.floor(Math.random()*gtw.getV())); }, 500); // randomized for next click between [0..V-1]
}

function bfs(callback) {
  if (isPlaying) stop();
  var input = parseInt($('#bfs-v').val());
  commonAction(gtw.bfs(input, callback), "BFS(" + input + ")");
  setTimeout(function() { $("#bfs-v").val(1 + Math.floor(Math.random()*gtw.getV())); }, 500);
}

function toposortDfs(callback) {
  if (isPlaying) stop();
  commonAction(gtw.toposortDfs(callback), "Topological Sort (DFS)");
}

function toposortBfs(callback) {
  if (isPlaying) stop();
  commonAction(gtw.toposortBfs(callback), "Topological Sort (BFS)");
}

function bipartiteDfs(callback) {
  if (isPlaying) stop();
  commonAction(gtw.bipartiteDfs(callback), "Bipartite Graph Checker (DFS)");
}

function bipartiteBfs(callback) {
  if (isPlaying) stop();
  commonAction(gtw.bipartiteBfs(callback), "Bipartite Graph Checker (BFS)");
}

function bridge(callback) {
  if (isPlaying) stop();
  commonAction(gtw.bridge(callback), "Articulation Points and Bridges Checker");
}

function kosaraju(callback) {
  if (isPlaying) stop();
  commonAction(gtw.kosaraju(callback), "Kosaraju's Algorithm");
}

function tarjan(callback) {
  if (isPlaying) stop();
  commonAction(gtw.tarjan(callback), "Tarjan's Algorithm");
}

function twosat() {
  if (isPlaying) stop();
  var input1 = parseInt($('#twosat-v1').val()), input2 = parseInt($('#twosat-v2').val());
  commonAction(gtw.twosat(input1, input2), "2-SAT Checker");
}

function loadGraph(graph) {
  if (gtw) {
    gtw.loadGraph(graph['vl'], graph['el']);
  }
}

// Implement these functions in each visualisation
var userGraph = {
  'vl': {},
  'el': {},
};

// This function will be called before entering E-Lecture Mode
function ENTER_LECTURE_MODE() {
  if (gtw) userGraph = gtw.getGraph();
}

// This function will be called before returning to Explore Mode
function ENTER_EXPLORE_MODE() {
  loadGraph(userGraph);
}

// Lecture action functions
function CUSTOM_ACTION(action, data, mode) {
  if (action == 'dfs') {
    hideSlide(function() {
      $('#dfs-v').val(0); // force
      dfs(showSlide);
    });
  }
  else if (action == 'bfs') {
    hideSlide(function() {
      $('#bfs-v').val(5); // force
      bfs(showSlide);
    });
  }
  else if (action == 'toposort_dfs') {
    hideSlide(function() {
      toposortDfs(showSlide);
    });
  }
  else if (action == 'toposort_bfs') {
    hideSlide(function() {
      toposortBfs(showSlide);
    });
  }
  else if (action == 'bipartite_dfs') {
    hideSlide(function() {
      bipartiteDfs(showSlide);
    });
  }
  else if (action == 'bipartite_bfs') {
    hideSlide(function() {
      bipartiteBfs(showSlide);
    });
  }
  else if (action == 'bridge') {
    hideSlide(function() {
      bridge(showSlide);
    });
  }
  else if (action == 'kosaraju') {
    hideSlide(function() {
      kosaraju(showSlide);
    });
  }
  else if (action == 'tarjan') {
    hideSlide(function() {
      tarjan(showSlide);
    });
  }
}
</script>
</body>
</html>
